[
  {
    "name": "app",
    "type": "package",
    "children": [
      {
        "name": "models",
        "type": "package",
        "children": [
          {
            "name": "admin",
            "type": "package",
            "children": [
              {
                "name": "Admin",
                "type": "class",
                "children": [
                  {
                    "name": "AccountAction",
                    "type": "class",
                    "children": [
                      {
                        "name": "save!",
                        "type": "function",
                        "static": false,
                        "location": "app/models/admin/account_action.rb:46"
                      },
                      {
                        "name": "report",
                        "type": "function",
                        "static": false,
                        "location": "app/models/admin/account_action.rb:59"
                      },
                      {
                        "name": "with_report?",
                        "type": "function",
                        "static": false,
                        "location": "app/models/admin/account_action.rb:63"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "name": "User",
            "type": "class",
            "children": [
              {
                "name": "role",
                "type": "function",
                "static": false,
                "location": "app/models/user.rb:153"
              }
            ]
          },
          {
            "name": "UserRole",
            "type": "class",
            "children": [
              {
                "name": "can?",
                "type": "function",
                "static": false,
                "location": "app/models/user_role.rb:131"
              },
              {
                "name": "computed_permissions",
                "type": "function",
                "static": false,
                "location": "app/models/user_role.rb:139"
              },
              {
                "name": "everyone?",
                "type": "function",
                "static": false,
                "location": "app/models/user_role.rb:115"
              },
              {
                "name": "nobody?",
                "type": "function",
                "static": false,
                "location": "app/models/user_role.rb:119"
              },
              {
                "name": "everyone",
                "type": "function",
                "static": true,
                "location": "app/models/user_role.rb:105"
              },
              {
                "name": "overrides?",
                "type": "function",
                "static": false,
                "location": "app/models/user_role.rb:135"
              }
            ]
          },
          {
            "name": "Account",
            "type": "class",
            "children": [
              {
                "name": "user_role",
                "type": "function",
                "static": false,
                "location": "app/models/account.rb:139"
              },
              {
                "name": "instance_actor?",
                "type": "function",
                "static": false,
                "location": "app/models/account.rb:175"
              },
              {
                "name": "to_log_human_identifier",
                "type": "function",
                "static": false,
                "location": "app/models/account.rb:393"
              },
              {
                "name": "acct",
                "type": "function",
                "static": false,
                "location": "app/models/account.rb:191"
              },
              {
                "name": "local?",
                "type": "function",
                "static": false,
                "location": "app/models/account.rb:163"
              },
              {
                "name": "suspend!",
                "type": "function",
                "static": false,
                "location": "app/models/account.rb:249"
              },
              {
                "name": "user_email",
                "type": "function",
                "static": false,
                "location": "app/models/account.rb:139"
              }
            ]
          },
          {
            "name": "concerns",
            "type": "package",
            "children": [
              {
                "name": "AccountCounters",
                "type": "class",
                "children": [
                  {
                    "name": "account_stat",
                    "type": "function",
                    "static": false,
                    "location": "app/models/concerns/account_counters.rb:76"
                  }
                ]
              }
            ]
          },
          {
            "name": "CanonicalEmailBlock",
            "type": "class",
            "children": [
              {
                "name": "email=",
                "type": "function",
                "static": false,
                "location": "app/models/canonical_email_block.rb:28"
              }
            ]
          }
        ]
      },
      {
        "name": "controllers/concerns",
        "type": "package",
        "children": [
          {
            "name": "Authorization",
            "type": "class",
            "children": [
              {
                "name": "authorize",
                "type": "function",
                "static": false,
                "location": "app/controllers/concerns/authorization.rb:12"
              },
              {
                "name": "pundit_user",
                "type": "function",
                "static": false,
                "location": "app/controllers/concerns/authorization.rb:8"
              }
            ]
          },
          {
            "name": "AccountableConcern",
            "type": "class",
            "children": [
              {
                "name": "log_action",
                "type": "function",
                "static": false,
                "location": "app/controllers/concerns/accountable_concern.rb:6"
              }
            ]
          }
        ]
      },
      {
        "name": "policies",
        "type": "package",
        "children": [
          {
            "name": "AccountPolicy",
            "type": "class",
            "children": [
              {
                "name": "suspend?",
                "type": "function",
                "static": false,
                "location": "app/policies/account_policy.rb:16"
              }
            ]
          }
        ]
      },
      {
        "name": "lib",
        "type": "package",
        "children": [
          {
            "name": "RequestPool",
            "type": "class",
            "children": [
              {
                "name": "flush",
                "type": "function",
                "static": false,
                "location": "app/lib/request_pool.rb:114"
              }
            ]
          },
          {
            "name": "connection_pool",
            "type": "package",
            "children": [
              {
                "name": "ConnectionPool",
                "type": "class",
                "children": [
                  {
                    "name": "SharedConnectionPool",
                    "type": "class",
                    "children": [
                      {
                        "name": "flush",
                        "type": "function",
                        "static": false,
                        "location": "app/lib/connection_pool/shared_connection_pool.rb:13"
                      }
                    ]
                  },
                  {
                    "name": "SharedTimedStack",
                    "type": "class",
                    "children": [
                      {
                        "name": "flush",
                        "type": "function",
                        "static": false,
                        "location": "app/lib/connection_pool/shared_timed_stack.rb:51"
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      },
      {
        "name": "helpers",
        "type": "package",
        "children": [
          {
            "name": "EmailHelper",
            "type": "class",
            "children": [
              {
                "name": "email_to_canonical_email_hash",
                "type": "function",
                "static": false,
                "location": "app/helpers/email_helper.rb:15"
              },
              {
                "name": "email_to_canonical_email",
                "type": "function",
                "static": false,
                "location": "app/helpers/email_helper.rb:8"
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "name": "activesupport",
    "type": "package",
    "children": [
      {
        "name": "ActiveSupport",
        "type": "class",
        "children": [
          {
            "name": "Callbacks",
            "type": "class",
            "children": [
              {
                "name": "CallbackSequence",
                "type": "class",
                "children": [
                  {
                    "name": "invoke_before",
                    "type": "function",
                    "labels": [
                      "mvc.before_action"
                    ],
                    "static": false,
                    "location": "vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597"
                  },
                  {
                    "name": "invoke_after",
                    "type": "function",
                    "labels": [
                      "mvc.after_action"
                    ],
                    "static": false,
                    "location": "vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601"
                  }
                ]
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "name": "lib/paperclip",
    "type": "package",
    "children": [
      {
        "name": "Paperclip",
        "type": "class",
        "children": [
          {
            "name": "AttachmentExtensions",
            "type": "class",
            "children": [
              {
                "name": "save",
                "type": "function",
                "static": false,
                "location": "lib/paperclip/attachment_extensions.rb:83"
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "name": "sidekiq",
    "type": "package",
    "children": [
      {
        "name": "Sidekiq",
        "type": "class",
        "children": [
          {
            "name": "Client",
            "type": "class",
            "children": [
              {
                "name": "push",
                "type": "function",
                "labels": [
                  "job.create"
                ],
                "static": false,
                "location": "vendor/bundle/ruby/3.2.0/gems/sidekiq-6.5.12/lib/sidekiq/client.rb:72"
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "name": "ruby",
    "type": "package",
    "children": [
      {
        "name": "String",
        "type": "class",
        "children": [
          {
            "name": "unpack1",
            "type": "function",
            "labels": [
              "string.unpack"
            ],
            "static": false,
            "location": "<internal:pack>:28"
          },
          {
            "name": "unpack",
            "type": "function",
            "labels": [
              "string.unpack"
            ],
            "static": false,
            "location": "<internal:pack>:19"
          }
        ]
      }
    ]
  },
  {
    "name": "json",
    "type": "package",
    "children": [
      {
        "name": "JSON",
        "type": "class",
        "children": [
          {
            "name": "Ext",
            "type": "class",
            "children": [
              {
                "name": "Generator",
                "type": "class",
                "children": [
                  {
                    "name": "State",
                    "type": "class",
                    "children": [
                      {
                        "name": "generate",
                        "type": "function",
                        "labels": [
                          "format.json.generate",
                          "serialize"
                        ],
                        "static": false,
                        "location": "JSON::Ext::Generator::State#generate"
                      }
                    ]
                  }
                ]
              },
              {
                "name": "Parser",
                "type": "class",
                "children": [
                  {
                    "name": "parse",
                    "type": "function",
                    "labels": [
                      "format.json.parse",
                      "deserialize.safe"
                    ],
                    "static": false,
                    "location": "JSON::Ext::Parser#parse"
                  }
                ]
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "name": "activejob",
    "type": "package",
    "children": [
      {
        "name": "ActiveJob",
        "type": "class",
        "children": [
          {
            "name": "Enqueuing",
            "type": "class",
            "children": [
              {
                "name": "enqueue",
                "type": "function",
                "labels": [
                  "job.create"
                ],
                "static": false,
                "location": "vendor/bundle/ruby/3.2.0/gems/activejob-7.1.1/lib/active_job/enqueuing.rb:89"
              }
            ]
          }
        ]
      }
    ]
  },
  {
    "type": "database",
    "name": "Database",
    "children": [
      {
        "type": "query",
        "name": "SAVEPOINT active_record_1"
      },
      {
        "type": "query",
        "name": "SELECT \"user_roles\".* FROM \"user_roles\" WHERE \"user_roles\".\"id\" = $1 LIMIT $2"
      },
      {
        "type": "query",
        "name": "INSERT INTO \"admin_action_logs\" (\"account_id\", \"action\", \"target_type\", \"target_id\", \"created_at\", \"updated_at\", \"human_identifier\", \"route_param\", \"permalink\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING \"id\""
      },
      {
        "type": "query",
        "name": "INSERT INTO \"account_deletion_requests\" (\"account_id\", \"created_at\", \"updated_at\") VALUES ($1, $2, $3) RETURNING \"id\""
      },
      {
        "type": "query",
        "name": "SELECT \"account_deletion_requests\".* FROM \"account_deletion_requests\" WHERE \"account_deletion_requests\".\"account_id\" = $1 LIMIT $2"
      },
      {
        "type": "query",
        "name": "UPDATE \"accounts\" SET \"updated_at\" = $1, \"suspended_at\" = $2, \"suspension_origin\" = $3 WHERE \"accounts\".\"id\" = $4"
      },
      {
        "type": "query",
        "name": "SELECT \"account_stats\".\"id\", \"account_stats\".\"account_id\", \"account_stats\".\"statuses_count\", \"account_stats\".\"following_count\", \"account_stats\".\"followers_count\", \"account_stats\".\"created_at\", \"account_stats\".\"updated_at\", \"account_stats\".\"last_status_at\" FROM \"account_stats\" WHERE \"account_stats\".\"account_id\" = $1 LIMIT $2"
      },
      {
        "type": "query",
        "name": "INSERT INTO \"account_stats\" (\"account_id\", \"statuses_count\", \"following_count\", \"followers_count\", \"created_at\", \"updated_at\", \"last_status_at\") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING \"id\""
      },
      {
        "type": "query",
        "name": "SELECT 1 AS one FROM \"canonical_email_blocks\" WHERE \"canonical_email_blocks\".\"canonical_email_hash\" = $1 LIMIT $2"
      },
      {
        "type": "query",
        "name": "INSERT INTO \"canonical_email_blocks\" (\"canonical_email_hash\", \"reference_account_id\", \"created_at\", \"updated_at\") VALUES ($1, $2, $3, $4) RETURNING \"id\""
      },
      {
        "type": "query",
        "name": "INSERT INTO \"account_warnings\" (\"account_id\", \"target_account_id\", \"action\", \"text\", \"created_at\", \"updated_at\", \"report_id\", \"status_ids\", \"overruled_at\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING \"id\""
      },
      {
        "type": "query",
        "name": "SELECT \"reports\".\"id\", \"reports\".\"status_ids\", \"reports\".\"comment\", \"reports\".\"created_at\", \"reports\".\"updated_at\", \"reports\".\"account_id\", \"reports\".\"action_taken_by_account_id\", \"reports\".\"target_account_id\", \"reports\".\"assigned_account_id\", \"reports\".\"uri\", \"reports\".\"forwarded\", \"reports\".\"category\", \"reports\".\"action_taken_at\", \"reports\".\"rule_ids\" FROM \"reports\" WHERE \"reports\".\"target_account_id\" = $1 AND \"reports\".\"action_taken_at\" IS NULL"
      },
      {
        "type": "query",
        "name": "RELEASE SAVEPOINT active_record_1"
      }
    ]
  }
]