{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"50d0a0445fe1bf0ac82032f1958ae8e614b2ebd3","status":["M .env.test","M .husky/pre-commit","M appmap/rspec/API_routes_Account_routes_routes_to_followers/appmap-findings.json","M appmap/rspec/API_routes_Account_routes_routes_to_search/appmap-findings.json","M appmap/rspec/API_routes_Account_routes_routes_to_statuses/appmap-findings.json","M appmap/rspec/API_routes_Credentials_routes_routes_to_update_credentials/appmap-findings.json","M appmap/rspec/API_routes_Credentials_routes_routes_to_verify_credentials/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_favourite/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_favourited_by/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_mute/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_reblog/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_reblogged_by/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_unfavourite/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_unmute/appmap-findings.json","M appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_name_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_redirect_uris_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_website_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_an_unsupported_scope_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_many_duplicate_scopes_only_saves_the_scope_once.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_valid_params_creates_an_OAuth_app.appmap.json","?? appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_name_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_redirect_uris_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_website_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_an_unsupported_scope_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_many_duplicate_scopes_only_saves_the_scope_once/","?? appmap/rspec/Apps_POST_api_v1_apps_with_valid_params_creates_an_OAuth_app/","?? appmap/rspec/Apps_POST_api_v1_apps_without_required_params_returns_http_unprocessable_entity/","?? appmap/rspec/Auth_ChallengesController_POST_create_with_correct_password_redirects_back/"],"git_last_annotated_tag":"0.1.2-14643-g50d0a0445fe1bf0ac82032f1958ae8e614b2ebd3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"DeleteAccountService #call on local account sends a delete actor activity to all known inboxes","source_location":"spec/services/delete_account_service_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"failed","test_failure":{"message":"body has already been consumed","location":"app/lib/request.rb:217"},"exception":{"class":"HTTP::StateError","message":"body has already been consumed"}},"classMap":[{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false},{"name":"user_unconfirmed_or_pending?","type":"function","location":"app/models/account.rb:139","static":false},{"name":"inboxes","type":"function","location":"app/models/account.rb:436","static":true},{"name":"object_type","type":"function","location":"app/models/account.rb:385","static":false},{"name":"instance_actor?","type":"function","location":"app/models/account.rb:175","static":false},{"name":"to_param","type":"function","location":"app/models/account.rb:389","static":false},{"name":"sign?","type":"function","location":"app/models/account.rb:285","static":false},{"name":"keypair","type":"function","location":"app/models/account.rb:293","static":false}]},{"name":"User","type":"class","children":[{"name":"unconfirmed_or_pending?","type":"function","location":"app/models/user.rb:260","static":false},{"name":"unconfirmed?","type":"function","location":"app/models/user.rb:256","static":false},{"name":"confirmed?","type":"function","location":"app/models/user.rb:161","static":false},{"name":"pending?","type":"function","location":"app/models/user.rb:240","static":false}]},{"name":"concerns","type":"package","children":[{"name":"Redisable","type":"class","children":[{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]}]}]},{"name":"lib","type":"package","children":[{"name":"DeliveryFailureTracker","type":"class","children":[{"name":"without_unavailable","type":"function","location":"app/lib/delivery_failure_tracker.rb:43","static":true},{"name":"available?","type":"function","location":"app/lib/delivery_failure_tracker.rb:52","static":true},{"name":"available?","type":"function","location":"app/lib/delivery_failure_tracker.rb:30","static":false},{"name":"track_failure!","type":"function","location":"app/lib/delivery_failure_tracker.rb:12","static":false},{"name":"days","type":"function","location":"app/lib/delivery_failure_tracker.rb:26","static":false}]},{"name":"activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"Adapter","type":"class","children":[{"name":"serializable_hash","type":"function","location":"app/lib/activitypub/adapter.rb:14","static":false},{"name":"transform_key_casing!","type":"function","location":"app/lib/activitypub/adapter.rb:10","static":true}]},{"name":"Serializer","type":"class","children":[{"name":"serializable_hash","type":"function","location":"app/lib/activitypub/serializer.rb:31","static":false}]},{"name":"TagManager","type":"class","children":[{"name":"uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:36","static":false},{"name":"key_uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:53","static":false}]},{"name":"CaseTransform","type":"class","children":[{"name":"camel_lower","type":"function","location":"app/lib/activitypub/case_transform.rb:9","static":true},{"name":"camel_lower_cache","type":"function","location":"app/lib/activitypub/case_transform.rb:5","static":true}]},{"name":"LinkedDataSignature","type":"class","children":[{"name":"sign!","type":"function","location":"app/lib/activitypub/linked_data_signature.rb:35","static":false}]}]}]},{"name":"RequestPool","type":"class","children":[{"name":"current","type":"function","location":"app/lib/request_pool.rb:6","static":true},{"name":"with","type":"function","location":"app/lib/request_pool.rb:106","static":false},{"name":"Connection","type":"class","children":[{"name":"use","type":"function","location":"app/lib/request_pool.rb:47","static":false},{"name":"close","type":"function","location":"app/lib/request_pool.rb:85","static":false}]}]},{"name":"connection_pool","type":"package","children":[{"name":"ConnectionPool","type":"class","children":[{"name":"SharedConnectionPool","type":"class","children":[{"name":"with","type":"function","location":"app/lib/connection_pool/shared_connection_pool.rb:15","static":false},{"name":"checkout","type":"function","location":"app/lib/connection_pool/shared_connection_pool.rb:29","static":false},{"name":"checkin","type":"function","location":"app/lib/connection_pool/shared_connection_pool.rb:39","static":false}]},{"name":"SharedTimedStack","type":"class","children":[{"name":"pop","type":"function","location":"app/lib/connection_pool/shared_timed_stack.rb:23","static":false},{"name":"push","type":"function","location":"app/lib/connection_pool/shared_timed_stack.rb:14","static":false}]}]}]},{"name":"Request","type":"class","children":[{"name":"on_behalf_of","type":"function","location":"app/lib/request.rb:91","static":false},{"name":"add_headers","type":"function","location":"app/lib/request.rb:100","static":false},{"name":"perform","type":"function","location":"app/lib/request.rb:105","static":false},{"name":"headers","type":"function","location":"app/lib/request.rb:126","static":false},{"name":"ClientLimit","type":"class","children":[{"name":"body_with_limit","type":"function","location":"app/lib/request.rb:227","static":false},{"name":"truncated_body","type":"function","location":"app/lib/request.rb:204","static":false}]}]}]},{"name":"services/concerns","type":"package","children":[{"name":"Payloadable","type":"class","children":[{"name":"serialize_payload","type":"function","location":"app/services/concerns/payloadable.rb:13","static":false}]}]},{"name":"serializers/activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"DeleteActorSerializer","type":"class","children":[{"name":"id","type":"function","location":"app/serializers/activitypub/delete_actor_serializer.rb:7","static":false},{"name":"type","type":"function","location":"app/serializers/activitypub/delete_actor_serializer.rb:11","static":false},{"name":"actor","type":"function","location":"app/serializers/activitypub/delete_actor_serializer.rb:15","static":false},{"name":"to","type":"function","location":"app/serializers/activitypub/delete_actor_serializer.rb:23","static":false},{"name":"virtual_object","type":"function","location":"app/serializers/activitypub/delete_actor_serializer.rb:19","static":false}]}]}]},{"name":"helpers","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"default_url_options","type":"function","location":"app/helpers/routing_helper.rb:12","static":false}]}]},{"name":"ContextHelper","type":"class","children":[{"name":"serialized_context","type":"function","location":"app/helpers/context_helper.rb:41","static":false}]},{"name":"JsonLdHelper","type":"class","children":[{"name":"canonicalize","type":"function","location":"app/helpers/jsonld_helper.rb:75","static":false}]}]},{"name":"workers/activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"DeliveryWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/activitypub/delivery_worker.rb:25","static":false}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"Marshal","type":"class","children":[{"name":"dump","type":"function","location":"Marshal.dump","static":true,"labels":["serialize"]},{"name":"load","type":"function","location":"<internal:marshal>:33","static":true,"labels":["deserialize.unsafe"]}]},{"name":"Array","type":"class","children":[{"name":"pack","type":"function","location":"<internal:pack>:7","static":false,"labels":["array.pack"]}]},{"name":"String","type":"class","children":[{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"openssl","type":"package","children":[{"name":"OpenSSL","type":"class","children":[{"name":"PKey","type":"class","children":[{"name":"PKey","type":"class","children":[{"name":"sign","type":"function","location":"OpenSSL::PKey::PKey#sign","static":false,"labels":["crypto.pkey"]}]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]},{"name":"lib/mastodon","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"Version","type":"class","children":[{"name":"user_agent","type":"function","location":"lib/mastodon/version.rb:67","static":true}]}]}]}],"events":[{"id":38184,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>"}},{"id":38185,"event":"return","thread_id":9960,"parent_id":38184,"elapsed":1.6715028323233128e-05,"elapsed_instrumentation":0.00025026098592206836,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":38186,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"user_unconfirmed_or_pending?","path":"app/models/account.rb","lineno":139,"static":false,"parameters":[{"name":"*","class":"Array","object_id":497860,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":497880,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>"}},{"id":38187,"event":"call","thread_id":9960,"defined_class":"User","method_id":"unconfirmed_or_pending?","path":"app/models/user.rb","lineno":260,"static":false,"parameters":[],"receiver":{"class":"User","object_id":497000,"value":"#<User:0x00007f5e11c43ad0>"}},{"id":38188,"event":"call","thread_id":9960,"defined_class":"User","method_id":"unconfirmed?","path":"app/models/user.rb","lineno":256,"static":false,"parameters":[],"receiver":{"class":"User","object_id":497000,"value":"#<User:0x00007f5e11c43ad0>"}},{"id":38189,"event":"call","thread_id":9960,"defined_class":"User","method_id":"confirmed?","path":"app/models/user.rb","lineno":161,"static":false,"parameters":[],"receiver":{"class":"User","object_id":497000,"value":"#<User:0x00007f5e11c43ad0>"}},{"id":38190,"event":"return","thread_id":9960,"parent_id":38189,"elapsed":1.7803977243602276e-05,"elapsed_instrumentation":8.621899178251624e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":38191,"event":"return","thread_id":9960,"parent_id":38188,"elapsed":0.00012957199942320585,"elapsed_instrumentation":9.318598313257098e-05},{"id":38192,"event":"call","thread_id":9960,"defined_class":"User","method_id":"pending?","path":"app/models/user.rb","lineno":240,"static":false,"parameters":[],"receiver":{"class":"User","object_id":497000,"value":"#<User:0x00007f5e11c43ad0>"}},{"id":38193,"event":"return","thread_id":9960,"parent_id":38192,"elapsed":4.784401971846819e-05,"elapsed_instrumentation":0.0003680789959616959},{"id":38194,"event":"return","thread_id":9960,"parent_id":38187,"elapsed":0.0007188470335677266,"elapsed_instrumentation":0.00014010898303240538},{"id":38195,"event":"return","thread_id":9960,"parent_id":38186,"elapsed":0.0009252069867216051,"elapsed_instrumentation":0.0005281060002744198},{"id":38196,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>"}},{"id":38197,"event":"return","thread_id":9960,"parent_id":38196,"elapsed":1.7082958947867155e-05,"elapsed_instrumentation":0.00033680000342428684,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":38198,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"inboxes","path":"app/models/account.rb","lineno":436,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":42200,"value":"Account"}},{"id":38199,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT coalesce(nullif(accounts.shared_inbox_url, ''), accounts.inbox_url) AS preferred_inbox_url FROM \"accounts\" INNER JOIN \"follows\" ON \"accounts\".\"id\" = \"follows\".\"account_id\" WHERE \"follows\".\"target_account_id\" = $1 AND \"accounts\".\"protocol\" = $2 GROUP BY \"preferred_inbox_url\"","database_type":"postgres"}},{"id":38200,"event":"return","thread_id":9960,"parent_id":38199,"elapsed":0.001816557,"elapsed_instrumentation":0.00019366096239537},{"id":38201,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":497900,"value":"  \u001b[1m\u001b[36mAccount Pluck (2.3ms)\u001b[0m  \u001b[1m\u001b[34mSELECT coalesce(nullif(accounts.shared_inbox_url, '') (...295 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":38202,"event":"return","thread_id":9960,"parent_id":38201,"elapsed":0.0026430789730511606,"elapsed_instrumentation":0.0008767979452386498,"return_value":{"class":"Integer","value":"395","object_id":791}},{"id":38203,"event":"call","thread_id":9960,"defined_class":"DeliveryFailureTracker","method_id":"without_unavailable","path":"app/lib/delivery_failure_tracker.rb","lineno":43,"static":true,"parameters":[{"name":"urls","class":"Array","object_id":497920,"value":"[]","kind":"req","size":0}],"receiver":{"class":"Class","object_id":221700,"value":"DeliveryFailureTracker"}},{"id":38204,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":497940,"value":"Cache read: unavailable_domains ({:compress=>false, :compress_threshold=>1024})\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":38205,"event":"return","thread_id":9960,"parent_id":38204,"elapsed":0.004021238011773676,"elapsed_instrumentation":0.0002519289846532047,"return_value":{"class":"Integer","value":"80","object_id":161}},{"id":38206,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":497960,"value":"Cache generate: unavailable_domains ({:compress=>false, :compress_threshold=>1024})\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":38207,"event":"return","thread_id":9960,"parent_id":38206,"elapsed":0.003846597042866051,"elapsed_instrumentation":0.00025454896967858076,"return_value":{"class":"Integer","value":"84","object_id":169}},{"id":38208,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"unavailable_domains\".\"domain\" FROM \"unavailable_domains\"","database_type":"postgres"}},{"id":38209,"event":"return","thread_id":9960,"parent_id":38208,"elapsed":0.001105044,"elapsed_instrumentation":0.00035133998608216643},{"id":38210,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":497980,"value":"  \u001b[1m\u001b[36mUnavailableDomain Pluck (1.5ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"unavailable_domains\".\"domain\" FROM  (...26 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":38211,"event":"return","thread_id":9960,"parent_id":38210,"elapsed":0.0022317179827950895,"elapsed_instrumentation":0.0002438860246911645,"return_value":{"class":"Integer","value":"126","object_id":253}},{"id":38212,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":498000,"value":"Cache write: unavailable_domains ({:compress=>false, :compress_threshold=>1024})\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":38213,"event":"return","thread_id":9960,"parent_id":38212,"elapsed":0.002111269044689834,"elapsed_instrumentation":0.0001902589574456215,"return_value":{"class":"Integer","value":"81","object_id":163}},{"id":38214,"event":"call","thread_id":9960,"defined_class":"Marshal","method_id":"dump","path":"Marshal.dump","static":true,"parameters":[{"name":"arg","class":"Array","object_id":498020,"value":"[{}]","kind":"rest","size":1}],"receiver":{"class":"Module","object_id":191360,"value":"Marshal"}},{"id":38215,"event":"return","thread_id":9960,"parent_id":38214,"elapsed":1.1199968867003918e-05,"elapsed_instrumentation":0.00015270005678758025,"return_value":{"class":"String","value":"\u0004\b{\u0000","object_id":498040}},{"id":38216,"event":"return","thread_id":9960,"parent_id":38203,"elapsed":0.017093338014092296,"elapsed_instrumentation":0.00032501097302883863,"return_value":{"class":"Array","value":"[]","object_id":498060,"size":0}},{"id":38217,"event":"return","thread_id":9960,"parent_id":38198,"elapsed":0.02556784002808854,"elapsed_instrumentation":0.0004332619719207287,"return_value":{"class":"Array","value":"[]","object_id":498060,"size":0}},{"id":38218,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"relays\".\"inbox_url\" FROM \"relays\" WHERE \"relays\".\"state\" = $1","database_type":"postgres"}},{"id":38219,"event":"return","thread_id":9960,"parent_id":38218,"elapsed":0.000792201,"elapsed_instrumentation":9.5242983661592e-05},{"id":38220,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":498080,"value":"  \u001b[1m\u001b[36mRelay Pluck (0.9ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"relays\".\"inbox_url\" FROM \"relays\" WHERE \"relays (...35 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":38221,"event":"return","thread_id":9960,"parent_id":38220,"elapsed":0.0017832880257628858,"elapsed_instrumentation":0.00016420497559010983,"return_value":{"class":"Integer","value":"135","object_id":271}},{"id":38222,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"inboxes","path":"app/models/account.rb","lineno":436,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":42200,"value":"Account"}},{"id":38223,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT coalesce(nullif(accounts.shared_inbox_url, ''), accounts.inbox_url) AS preferred_inbox_url FROM \"accounts\" WHERE \"accounts\".\"protocol\" = $1 GROUP BY \"preferred_inbox_url\"","database_type":"postgres"}},{"id":38224,"event":"return","thread_id":9960,"parent_id":38223,"elapsed":0.000859183,"elapsed_instrumentation":8.498004171997309e-05},{"id":38225,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":498100,"value":"  \u001b[1m\u001b[36mAccount Pluck (1.0ms)\u001b[0m  \u001b[1m\u001b[34mSELECT coalesce(nullif(accounts.shared_inbox_url, '') (...148 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":38226,"event":"return","thread_id":9960,"parent_id":38225,"elapsed":0.002334213990252465,"elapsed_instrumentation":0.00033904198789969087,"return_value":{"class":"Integer","value":"248","object_id":497}},{"id":38227,"event":"call","thread_id":9960,"defined_class":"DeliveryFailureTracker","method_id":"without_unavailable","path":"app/lib/delivery_failure_tracker.rb","lineno":43,"static":true,"parameters":[{"name":"urls","class":"Array","object_id":498120,"value":"[https://alice.com/inbox, https://bob.com/inbox]","kind":"req","size":2}],"receiver":{"class":"Class","object_id":221700,"value":"DeliveryFailureTracker"}},{"id":38228,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":498140,"value":"Cache read: unavailable_domains ({:compress=>false, :compress_threshold=>1024})\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":38229,"event":"return","thread_id":9960,"parent_id":38228,"elapsed":0.0026378639740869403,"elapsed_instrumentation":0.000172214990016073,"return_value":{"class":"Integer","value":"80","object_id":161}},{"id":38230,"event":"call","thread_id":9960,"defined_class":"Marshal","method_id":"load","path":"<internal:marshal>","lineno":33,"static":true,"parameters":[{"name":"source","class":"String","object_id":498040,"value":"\u0004\b{\u0000","kind":"req"},{"name":"arg","class":"Array","object_id":498160,"value":"[]","kind":"rest","size":0}],"receiver":{"class":"Module","object_id":191360,"value":"Marshal"}},{"id":38231,"event":"return","thread_id":9960,"parent_id":38230,"elapsed":8.920964319258928e-06,"elapsed_instrumentation":0.00015413801884278655,"return_value":{"class":"Hash","value":"{}","object_id":498180,"size":0}},{"id":38232,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":498200,"value":"Cache fetch_hit: unavailable_domains ({:compress=>false, :compress_threshold=>1024})\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":38233,"event":"return","thread_id":9960,"parent_id":38232,"elapsed":0.0028727500466629863,"elapsed_instrumentation":0.00014683097833767533,"return_value":{"class":"Integer","value":"85","object_id":171}},{"id":38234,"event":"return","thread_id":9960,"parent_id":38227,"elapsed":0.006752051995135844,"elapsed_instrumentation":0.0003717009676620364,"return_value":{"class":"Array","value":"[https://alice.com/inbox, https://bob.com/inbox]","object_id":498220,"size":2}},{"id":38235,"event":"return","thread_id":9960,"parent_id":38222,"elapsed":0.01215826702537015,"elapsed_instrumentation":0.00013410497922450304,"return_value":{"class":"Array","value":"[https://alice.com/inbox, https://bob.com/inbox]","object_id":498220,"size":2}},{"id":38236,"event":"call","thread_id":9960,"defined_class":"Payloadable","method_id":"serialize_payload","path":"app/services/concerns/payloadable.rb","lineno":13,"static":false,"parameters":[{"name":"record","class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>","kind":"req"},{"name":"serializer","class":"Class","object_id":488400,"value":"ActivityPub::DeleteActorSerializer","kind":"req"},{"name":"options","class":"Hash","object_id":498240,"value":"{:signer=>#<Account:0x00007f5e11c43990>, :always_sign=>true}","kind":"opt","size":2}],"receiver":{"class":"DeleteAccountService","object_id":498260,"value":"#<DeleteAccountService:0x00007f5e0df33ac8>"}},{"id":38237,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":498280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":193260,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e120c5d38>"}},{"id":38238,"event":"return","thread_id":9960,"parent_id":38237,"elapsed":4.332978278398514e-06,"elapsed_instrumentation":0.00010225293226540089,"return_value":{"class":"Array","value":"[]","object_id":193280,"size":0}},{"id":38239,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":498280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":193300,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e120c5d88>"}},{"id":38240,"event":"return","thread_id":9960,"parent_id":38239,"elapsed":3.2400130294263363e-06,"elapsed_instrumentation":9.710201993584633e-05,"return_value":{"class":"Array","value":"[]","object_id":193320,"size":0}},{"id":38241,"event":"call","thread_id":9960,"defined_class":"ActivityPub::Adapter","method_id":"serializable_hash","path":"app/lib/activitypub/adapter.rb","lineno":14,"static":false,"parameters":[{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::Adapter","object_id":498300,"value":"#<ActivityPub::Adapter:0x00007f5e0ee15aa0>"}},{"id":38242,"event":"call","thread_id":9960,"defined_class":"ActivityPub::Serializer","method_id":"serializable_hash","path":"app/lib/activitypub/serializer.rb","lineno":31,"static":false,"parameters":[{"name":"adapter_options","class":"Hash","object_id":498320,"value":"{:named_contexts=>{:activitystreams=>}, :context_extensions=>{}}","kind":"opt","size":2},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"},{"name":"adapter_instance","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::DeleteActorSerializer","object_id":498340,"value":"#<ActivityPub::DeleteActorSerializer:0x00007f5e0df45a70>"}},{"id":38243,"event":"call","thread_id":9960,"defined_class":"ActivityPub::DeleteActorSerializer","method_id":"id","path":"app/serializers/activitypub/delete_actor_serializer.rb","lineno":7,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::DeleteActorSerializer","object_id":498340,"value":"#<ActivityPub::DeleteActorSerializer:0x00007f5e0df45a70>"}},{"id":38244,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":38245,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>"}},{"id":38246,"event":"return","thread_id":9960,"parent_id":38245,"elapsed":1.4438002835959196e-05,"elapsed_instrumentation":7.962598465383053e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":38247,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>"}},{"id":38248,"event":"return","thread_id":9960,"parent_id":38247,"elapsed":3.48902540281415e-06,"elapsed_instrumentation":7.632904453203082e-05,"return_value":{"class":"Symbol","value":":person","object_id":20695068}},{"id":38249,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>"}},{"id":38250,"event":"return","thread_id":9960,"parent_id":38249,"elapsed":1.510401489213109e-05,"elapsed_instrumentation":0.0004697609692811966},{"id":38251,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":38252,"event":"return","thread_id":9960,"parent_id":38251,"elapsed":4.597997758537531e-06,"elapsed_instrumentation":0.0001393189886584878,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":38253,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":38254,"event":"return","thread_id":9960,"parent_id":38253,"elapsed":3.176974132657051e-06,"elapsed_instrumentation":0.00011295202421024442,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":38255,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"to_param","path":"app/models/account.rb","lineno":389,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>"}},{"id":38256,"event":"return","thread_id":9960,"parent_id":38255,"elapsed":8.50501237437129e-06,"elapsed_instrumentation":8.536799577996135e-05,"return_value":{"class":"String","value":"elois106","object_id":498360}},{"id":38257,"event":"return","thread_id":9960,"parent_id":38244,"elapsed":0.0013443930074572563,"elapsed_instrumentation":0.00011423800606280565,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/elois106","object_id":498380}},{"id":38258,"event":"return","thread_id":9960,"parent_id":38243,"elapsed":0.0014874800108373165,"elapsed_instrumentation":0.0001337529974989593,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/elois106#delete","object_id":498400}},{"id":38259,"event":"call","thread_id":9960,"defined_class":"ActivityPub::DeleteActorSerializer","method_id":"type","path":"app/serializers/activitypub/delete_actor_serializer.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::DeleteActorSerializer","object_id":498340,"value":"#<ActivityPub::DeleteActorSerializer:0x00007f5e0df45a70>"}},{"id":38260,"event":"return","thread_id":9960,"parent_id":38259,"elapsed":3.4180120564997196e-06,"elapsed_instrumentation":8.509500185027719e-05,"return_value":{"class":"String","value":"Delete","object_id":456440}},{"id":38261,"event":"call","thread_id":9960,"defined_class":"ActivityPub::DeleteActorSerializer","method_id":"actor","path":"app/serializers/activitypub/delete_actor_serializer.rb","lineno":15,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::DeleteActorSerializer","object_id":498340,"value":"#<ActivityPub::DeleteActorSerializer:0x00007f5e0df45a70>"}},{"id":38262,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":38263,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>"}},{"id":38264,"event":"return","thread_id":9960,"parent_id":38263,"elapsed":1.1429016012698412e-05,"elapsed_instrumentation":8.136295946314931e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":38265,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>"}},{"id":38266,"event":"return","thread_id":9960,"parent_id":38265,"elapsed":3.108987584710121e-06,"elapsed_instrumentation":7.647695019841194e-05,"return_value":{"class":"Symbol","value":":person","object_id":20695068}},{"id":38267,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>"}},{"id":38268,"event":"return","thread_id":9960,"parent_id":38267,"elapsed":9.875977411866188e-06,"elapsed_instrumentation":6.489799125120044e-05},{"id":38269,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":38270,"event":"return","thread_id":9960,"parent_id":38269,"elapsed":4.275992978364229e-06,"elapsed_instrumentation":0.00012187898391857743,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":38271,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":38272,"event":"return","thread_id":9960,"parent_id":38271,"elapsed":4.1710445657372475e-06,"elapsed_instrumentation":0.0002329549752175808,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":38273,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"to_param","path":"app/models/account.rb","lineno":389,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>"}},{"id":38274,"event":"return","thread_id":9960,"parent_id":38273,"elapsed":9.046983905136585e-06,"elapsed_instrumentation":0.00010436598677188158,"return_value":{"class":"String","value":"elois106","object_id":498360}},{"id":38275,"event":"return","thread_id":9960,"parent_id":38262,"elapsed":0.0010366569622419775,"elapsed_instrumentation":0.00013221200788393617,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/elois106","object_id":498420}},{"id":38276,"event":"return","thread_id":9960,"parent_id":38261,"elapsed":0.0011967660393565893,"elapsed_instrumentation":0.000266039976850152,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/elois106","object_id":498420}},{"id":38277,"event":"call","thread_id":9960,"defined_class":"ActivityPub::DeleteActorSerializer","method_id":"to","path":"app/serializers/activitypub/delete_actor_serializer.rb","lineno":23,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::DeleteActorSerializer","object_id":498340,"value":"#<ActivityPub::DeleteActorSerializer:0x00007f5e0df45a70>"}},{"id":38278,"event":"return","thread_id":9960,"parent_id":38277,"elapsed":3.7120189517736435e-06,"elapsed_instrumentation":9.991897968575358e-05,"return_value":{"class":"Array","value":"[https://www.w3.org/ns/activitystreams#Public]","object_id":498440,"size":1}},{"id":38279,"event":"call","thread_id":9960,"defined_class":"ActivityPub::DeleteActorSerializer","method_id":"virtual_object","path":"app/serializers/activitypub/delete_actor_serializer.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::DeleteActorSerializer","object_id":498340,"value":"#<ActivityPub::DeleteActorSerializer:0x00007f5e0df45a70>"}},{"id":38280,"event":"call","thread_id":9960,"defined_class":"ActivityPub::DeleteActorSerializer","method_id":"actor","path":"app/serializers/activitypub/delete_actor_serializer.rb","lineno":15,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::DeleteActorSerializer","object_id":498340,"value":"#<ActivityPub::DeleteActorSerializer:0x00007f5e0df45a70>"}},{"id":38281,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":38282,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>"}},{"id":38283,"event":"return","thread_id":9960,"parent_id":38282,"elapsed":7.897033356130123e-06,"elapsed_instrumentation":7.360294694080949e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":38284,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>"}},{"id":38285,"event":"return","thread_id":9960,"parent_id":38284,"elapsed":3.2460084185004234e-06,"elapsed_instrumentation":7.786595961079001e-05,"return_value":{"class":"Symbol","value":":person","object_id":20695068}},{"id":38286,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>"}},{"id":38287,"event":"return","thread_id":9960,"parent_id":38286,"elapsed":6.777991075068712e-06,"elapsed_instrumentation":5.6902936194092035e-05},{"id":38288,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":38289,"event":"return","thread_id":9960,"parent_id":38288,"elapsed":3.7279678508639336e-06,"elapsed_instrumentation":0.00025421997997909784,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":38290,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":38291,"event":"return","thread_id":9960,"parent_id":38290,"elapsed":3.7400168366730213e-06,"elapsed_instrumentation":0.0001255949609912932,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":38292,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"to_param","path":"app/models/account.rb","lineno":389,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>"}},{"id":38293,"event":"return","thread_id":9960,"parent_id":38292,"elapsed":8.278992027044296e-06,"elapsed_instrumentation":8.737103780731559e-05,"return_value":{"class":"String","value":"elois106","object_id":498360}},{"id":38294,"event":"return","thread_id":9960,"parent_id":38281,"elapsed":0.0010273790103383362,"elapsed_instrumentation":0.00011183996684849262,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/elois106","object_id":498460}},{"id":38295,"event":"return","thread_id":9960,"parent_id":38280,"elapsed":0.0011626079794950783,"elapsed_instrumentation":6.33570016361773e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/elois106","object_id":498460}},{"id":38296,"event":"return","thread_id":9960,"parent_id":38279,"elapsed":0.0012429889757186174,"elapsed_instrumentation":6.582500645890832e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/elois106","object_id":498460}},{"id":38297,"event":"return","thread_id":9960,"parent_id":38242,"elapsed":0.00500270799966529,"elapsed_instrumentation":0.0003058119909837842,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/users/elois106#delete, :type=>Delete, :actor=>https://cb6e6126.ngrok.io/users/elois106, :to=>[https://www.w3.org/ns/activitystreams#Public], :object=>https://cb6e6126.ngrok.io/users/elois106}","object_id":498480,"size":5}},{"id":38298,"event":"call","thread_id":9960,"defined_class":"ActivityPub::Adapter","method_id":"transform_key_casing!","path":"app/lib/activitypub/adapter.rb","lineno":10,"static":true,"parameters":[{"name":"value","class":"Hash","object_id":498480,"value":"{:id=>https://cb6e6126.ngrok.io/users/elois106#delete, :type=>Delete, :actor=>https://cb6e6126.ngrok.io/users/elois106, :to=>[https://www.w3.org/ns/activitystreams#Public], :object=>https://cb6e6126.ngrok.io/users/elois106}","kind":"req","size":5},{"name":"_options","class":"Hash","object_id":498500,"value":"{}","kind":"req","size":0}],"receiver":{"class":"Class","object_id":220360,"value":"ActivityPub::Adapter"}},{"id":38299,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Hash","object_id":498480,"value":"{:id=>https://cb6e6126.ngrok.io/users/elois106#delete, :type=>Delete, :actor=>https://cb6e6126.ngrok.io/users/elois106, :to=>[https://www.w3.org/ns/activitystreams#Public], :object=>https://cb6e6126.ngrok.io/users/elois106}","kind":"req","size":5}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":38300,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":679388,"value":":id","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":38301,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":498520,"value":"id","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":38302,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":38303,"event":"return","thread_id":9960,"parent_id":38302,"elapsed":2.8489739634096622e-06,"elapsed_instrumentation":0.00033558503491804004,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, to=>to, following=>following, followers=>followers, inbox=>inbox, outbox=>outbox, featured=>featured (...34 more entries)}","object_id":220980,"size":44}},{"id":38304,"event":"return","thread_id":9960,"parent_id":38301,"elapsed":0.00036682398058474064,"elapsed_instrumentation":0.0002678250311873853,"return_value":{"class":"String","value":"id","object_id":221000}},{"id":38305,"event":"return","thread_id":9960,"parent_id":38300,"elapsed":0.0006557480082847178,"elapsed_instrumentation":7.849896792322397e-05,"return_value":{"class":"Symbol","value":":id","object_id":679388}},{"id":38306,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":688668,"value":":type","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":38307,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":498540,"value":"type","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":38308,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":38309,"event":"return","thread_id":9960,"parent_id":38308,"elapsed":2.736982423812151e-06,"elapsed_instrumentation":0.00018334802007302642,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, to=>to, following=>following, followers=>followers, inbox=>inbox, outbox=>outbox, featured=>featured (...34 more entries)}","object_id":220980,"size":44}},{"id":38310,"event":"return","thread_id":9960,"parent_id":38307,"elapsed":0.00020694301929324865,"elapsed_instrumentation":8.394598262384534e-05,"return_value":{"class":"String","value":"type","object_id":221040}},{"id":38311,"event":"return","thread_id":9960,"parent_id":38306,"elapsed":0.0003120829933322966,"elapsed_instrumentation":0.00010592403123155236,"return_value":{"class":"Symbol","value":":type","object_id":688668}},{"id":38312,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":17345948,"value":":actor","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":38313,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":498560,"value":"actor","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":38314,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":38315,"event":"return","thread_id":9960,"parent_id":38314,"elapsed":2.39501241594553e-06,"elapsed_instrumentation":0.00024394993670284748,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, to=>to, following=>following, followers=>followers, inbox=>inbox, outbox=>outbox, featured=>featured (...34 more entries)}","object_id":220980,"size":44}},{"id":38316,"event":"return","thread_id":9960,"parent_id":38313,"elapsed":0.00026817101752385497,"elapsed_instrumentation":8.080998668447137e-05,"return_value":{"class":"String","value":"actor","object_id":221080}},{"id":38317,"event":"return","thread_id":9960,"parent_id":38312,"elapsed":0.00036791502498090267,"elapsed_instrumentation":7.78459943830967e-05,"return_value":{"class":"Symbol","value":":actor","object_id":17345948}},{"id":38318,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":202268,"value":":to","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":38319,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":498580,"value":"to","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":38320,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":38321,"event":"return","thread_id":9960,"parent_id":38320,"elapsed":2.6070047169923782e-06,"elapsed_instrumentation":0.00017987401224672794,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, to=>to, following=>following, followers=>followers, inbox=>inbox, outbox=>outbox, featured=>featured (...34 more entries)}","object_id":220980,"size":44}},{"id":38322,"event":"return","thread_id":9960,"parent_id":38319,"elapsed":0.00020159396808594465,"elapsed_instrumentation":7.582304533571005e-05,"return_value":{"class":"String","value":"to","object_id":233200}},{"id":38323,"event":"return","thread_id":9960,"parent_id":38318,"elapsed":0.000296723039355129,"elapsed_instrumentation":8.348398841917515e-05,"return_value":{"class":"Symbol","value":":to","object_id":202268}},{"id":38324,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":703388,"value":":object","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":38325,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":498600,"value":"object","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":38326,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":38327,"event":"return","thread_id":9960,"parent_id":38326,"elapsed":2.6869820430874825e-06,"elapsed_instrumentation":0.00017507898155599833,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, to=>to, following=>following, followers=>followers, inbox=>inbox, outbox=>outbox, featured=>featured (...34 more entries)}","object_id":220980,"size":44}},{"id":38328,"event":"return","thread_id":9960,"parent_id":38325,"elapsed":0.00019823905313387513,"elapsed_instrumentation":7.190799806267023e-05,"return_value":{"class":"String","value":"object","object_id":221120}},{"id":38329,"event":"return","thread_id":9960,"parent_id":38324,"elapsed":0.00028874498093500733,"elapsed_instrumentation":7.313396781682968e-05,"return_value":{"class":"Symbol","value":":object","object_id":703388}},{"id":38330,"event":"return","thread_id":9960,"parent_id":38299,"elapsed":0.002453276014421135,"elapsed_instrumentation":0.0002126540639437735,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/users/elois106#delete, :type=>Delete, :actor=>https://cb6e6126.ngrok.io/users/elois106, :to=>[https://www.w3.org/ns/activitystreams#Public], :object=>https://cb6e6126.ngrok.io/users/elois106}","object_id":498480,"size":5}},{"id":38331,"event":"return","thread_id":9960,"parent_id":38298,"elapsed":0.0028053520363755524,"elapsed_instrumentation":0.000268879986833781,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/users/elois106#delete, :type=>Delete, :actor=>https://cb6e6126.ngrok.io/users/elois106, :to=>[https://www.w3.org/ns/activitystreams#Public], :object=>https://cb6e6126.ngrok.io/users/elois106}","object_id":498480,"size":5}},{"id":38332,"event":"call","thread_id":9960,"defined_class":"ContextHelper","method_id":"serialized_context","path":"app/helpers/context_helper.rb","lineno":41,"static":false,"parameters":[{"name":"named_contexts_map","class":"Hash","object_id":498620,"value":"{:activitystreams=>}","kind":"req","size":1},{"name":"context_extensions_map","class":"Hash","object_id":498640,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActivityPub::Adapter","object_id":498300,"value":"#<ActivityPub::Adapter:0x00007f5e0ee15aa0>"}},{"id":38333,"event":"return","thread_id":9960,"parent_id":38332,"elapsed":1.1679017916321754e-05,"elapsed_instrumentation":0.00013524299720302224,"return_value":{"class":"String","value":"https://www.w3.org/ns/activitystreams","object_id":221260}},{"id":38334,"event":"return","thread_id":9960,"parent_id":38241,"elapsed":0.00860939803533256,"elapsed_instrumentation":0.00036495301173999906,"return_value":{"class":"Hash","value":"{@context=>https://www.w3.org/ns/activitystreams, :id=>https://cb6e6126.ngrok.io/users/elois106#delete, :type=>Delete, :actor=>https://cb6e6126.ngrok.io/users/elois106, :to=>[https://www.w3.org/ns/activitystreams#Public], :object=>https://cb6e6126.ngrok.io/users/elois106}","object_id":498660,"size":6}},{"id":38335,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":498280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":193300,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e120c5d88>"}},{"id":38336,"event":"return","thread_id":9960,"parent_id":38335,"elapsed":3.930996172130108e-06,"elapsed_instrumentation":0.00010540103539824486,"return_value":{"class":"Array","value":"[]","object_id":195220,"size":0}},{"id":38337,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":498280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":193260,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e120c5d38>"}},{"id":38338,"event":"return","thread_id":9960,"parent_id":38337,"elapsed":2.892047632485628e-06,"elapsed_instrumentation":8.086796151474118e-05,"return_value":{"class":"Array","value":"[]","object_id":195240,"size":0}},{"id":38339,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"sign?","path":"app/models/account.rb","lineno":285,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>"}},{"id":38340,"event":"return","thread_id":9960,"parent_id":38339,"elapsed":4.118017386645079e-06,"elapsed_instrumentation":0.00012840598355978727,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":38341,"event":"call","thread_id":9960,"defined_class":"ActivityPub::LinkedDataSignature","method_id":"sign!","path":"app/lib/activitypub/linked_data_signature.rb","lineno":35,"static":false,"parameters":[{"name":"creator","class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>","kind":"req"},{"name":"sign_with","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"ActivityPub::LinkedDataSignature","object_id":498680,"value":"#<ActivityPub::LinkedDataSignature:0x00007f5e0ecbb240>"}},{"id":38342,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"key_uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":53,"static":false,"parameters":[{"name":"target","class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":38343,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":38344,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>"}},{"id":38345,"event":"return","thread_id":9960,"parent_id":38344,"elapsed":1.10650435090065e-05,"elapsed_instrumentation":7.547496352344751e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":38346,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>"}},{"id":38347,"event":"return","thread_id":9960,"parent_id":38346,"elapsed":5.2299583330750465e-06,"elapsed_instrumentation":9.875500109046698e-05,"return_value":{"class":"Symbol","value":":person","object_id":20695068}},{"id":38348,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>"}},{"id":38349,"event":"return","thread_id":9960,"parent_id":38348,"elapsed":1.5853962395340204e-05,"elapsed_instrumentation":0.0001586220460012555},{"id":38350,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":38351,"event":"return","thread_id":9960,"parent_id":38350,"elapsed":4.456960596144199e-06,"elapsed_instrumentation":0.00014636002015322447,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":38352,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":38353,"event":"return","thread_id":9960,"parent_id":38352,"elapsed":2.7030473574995995e-06,"elapsed_instrumentation":0.00010612199548631907,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":38354,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"to_param","path":"app/models/account.rb","lineno":389,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>"}},{"id":38355,"event":"return","thread_id":9960,"parent_id":38354,"elapsed":8.139002602547407e-06,"elapsed_instrumentation":8.416501805186272e-05,"return_value":{"class":"String","value":"elois106","object_id":498360}},{"id":38356,"event":"return","thread_id":9960,"parent_id":38343,"elapsed":0.0010593259939923882,"elapsed_instrumentation":0.00010931305587291718,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/elois106","object_id":498700}},{"id":38357,"event":"return","thread_id":9960,"parent_id":38342,"elapsed":0.001221660990267992,"elapsed_instrumentation":0.00018702296074479818,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/elois106#main-key","object_id":498720}},{"id":38358,"event":"call","thread_id":9960,"defined_class":"JsonLdHelper","method_id":"canonicalize","path":"app/helpers/jsonld_helper.rb","lineno":75,"static":false,"parameters":[{"name":"json","class":"Hash","object_id":498740,"value":"{creator=>https://cb6e6126.ngrok.io/users/elois106#main-key, created=>2023-11-06T08:04:04Z, @context=>https://w3id.org/identity/v1}","kind":"req","size":3}],"receiver":{"class":"ActivityPub::LinkedDataSignature","object_id":498680,"value":"#<ActivityPub::LinkedDataSignature:0x00007f5e0ecbb240>"}},{"id":38359,"event":"return","thread_id":9960,"parent_id":38358,"elapsed":0.0043896090355701745,"elapsed_instrumentation":0.00035322195617482066,"return_value":{"class":"String","value":"_:c14n0 <http://purl.org/dc/terms/created> \"2023-11-06T08:04:04Z\"^^<http://www.w3.org/2001/XMLSchema (...110 more characters)","object_id":498800}},{"id":38360,"event":"call","thread_id":9960,"defined_class":"JsonLdHelper","method_id":"canonicalize","path":"app/helpers/jsonld_helper.rb","lineno":75,"static":false,"parameters":[{"name":"json","class":"ActiveSupport::HashWithIndifferentAccess","object_id":498820,"value":"{@context=>https://www.w3.org/ns/activitystreams, id=>https://cb6e6126.ngrok.io/users/elois106#delete, type=>Delete, actor=>https://cb6e6126.ngrok.io/users/elois106, to=>[https://www.w3.org/ns/activitystreams#Public], object=>https://cb6e6126.ngrok.io/users/elois106}","kind":"req","size":6}],"receiver":{"class":"ActivityPub::LinkedDataSignature","object_id":498680,"value":"#<ActivityPub::LinkedDataSignature:0x00007f5e0ecbb240>"}},{"id":38361,"event":"return","thread_id":9960,"parent_id":38360,"elapsed":0.0034189430298283696,"elapsed_instrumentation":0.00029455398907884955,"return_value":{"class":"String","value":"<https://cb6e6126.ngrok.io/users/elois106#delete> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type>  (...474 more characters)","object_id":498840}},{"id":38362,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"keypair","path":"app/models/account.rb","lineno":293,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":496980,"value":"#<Account:0x00007f5e11c43990>"}},{"id":38363,"event":"return","thread_id":9960,"parent_id":38362,"elapsed":0.00014045595889911056,"elapsed_instrumentation":0.00018848199397325516,"return_value":{"class":"OpenSSL::PKey::RSA","value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEAoeT3bBByDcz/rtafbeBgEQEpcz21FV9+YfWKRMvUc0xGO8wo\nTFd","object_id":498860}},{"id":38364,"event":"call","thread_id":9960,"defined_class":"OpenSSL::PKey::PKey","method_id":"sign","path":"OpenSSL::PKey::PKey#sign","static":false,"parameters":[{"name":"arg","class":"Array","object_id":498880,"value":"[e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855, 9b8beefbeb848302e695d6f2e005256e06847832b4052710addefb35e6db80eb5fed64e797451ff8c5a56bd4f0158fbb6556 (...28 more characters)]","kind":"rest","size":2}],"receiver":{"class":"OpenSSL::PKey::RSA","object_id":498860,"value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEAoeT3bBByDcz/rtafbeBgEQEpcz21FV9+YfWKRMvUc0xGO8wo\nTFd"}},{"id":38365,"event":"return","thread_id":9960,"parent_id":38364,"elapsed":0.00195473397616297,"elapsed_instrumentation":0.0007804459892213345,"return_value":{"class":"String","value":"As__1>\u000e___T_r___a]\u0015__<!Q__X_____\u0002o!_k__'9_\u00152B_2_B\u0011\u0014__}\\___\u0004_L__\u0003__,T$__+_V__H{\u0014\b_\rBLr_\u000eH_\u0000_>__n__a (...156 more characters)","object_id":498900}},{"id":38366,"event":"call","thread_id":9960,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":207640,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":498920,"value":"[As__1>\u000e___T_r___a]\u0015__<!Q__X_____\u0002o!_k__'9_\u00152B_2_B\u0011\u0014__}\\___\u0004_L__\u0003__,T$__+_V__H{\u0014\b_\rBLr_\u000eH_\u0000_>__n__a (...156 more characters)]"}},{"id":38367,"event":"return","thread_id":9960,"parent_id":38366,"elapsed":7.572001777589321e-06,"elapsed_instrumentation":0.00015304406406357884,"return_value":{"class":"String","value":"QXONzDE+Dv68+VSjctn11GFdFdvfPCFR06BYhduB8akCbyF/o2uyjCc5hRUyQtsyg0IRFMWCfVzTlqMEskzU0gP11SxUJILNK/xW (...244 more characters)","object_id":498940}},{"id":38368,"event":"return","thread_id":9960,"parent_id":38341,"elapsed":0.013472185004502535,"elapsed_instrumentation":0.00048441701801493764,"return_value":{"class":"ActiveSupport::HashWithIndifferentAccess","value":"{@context=>https://www.w3.org/ns/activitystreams, id=>https://cb6e6126.ngrok.io/users/elois106#delete, type=>Delete, actor=>https://cb6e6126.ngrok.io/users/elois106, to=>[https://www.w3.org/ns/activitystreams#Public], object=>https://cb6e6126.ngrok.io/users/elois106, signature=>{type=>RsaSignature2017, creator=>https://cb6e6126.ngrok.io/users/elois106#main-key, created=>2023-11-06T08:04:04Z, signatureValue=>QXONzDE+Dv68+VSjctn11GFdFdvfPCFR06BYhduB8akCbyF/o2uyjCc5hRUyQtsyg0IRFMWCfVzTlqMEskzU0gP11SxUJILNK/xW (...244 more characters)}}","object_id":498960,"size":7}},{"id":38369,"event":"return","thread_id":9960,"parent_id":38236,"elapsed":0.023986447020433843,"elapsed_instrumentation":0.00042630801908671856,"return_value":{"class":"ActiveSupport::HashWithIndifferentAccess","value":"{@context=>https://www.w3.org/ns/activitystreams, id=>https://cb6e6126.ngrok.io/users/elois106#delete, type=>Delete, actor=>https://cb6e6126.ngrok.io/users/elois106, to=>[https://www.w3.org/ns/activitystreams#Public], object=>https://cb6e6126.ngrok.io/users/elois106, signature=>{type=>RsaSignature2017, creator=>https://cb6e6126.ngrok.io/users/elois106#main-key, created=>2023-11-06T08:04:04Z, signatureValue=>QXONzDE+Dv68+VSjctn11GFdFdvfPCFR06BYhduB8akCbyF/o2uyjCc5hRUyQtsyg0IRFMWCfVzTlqMEskzU0gP11SxUJILNK/xW (...244 more characters)}}","object_id":498960,"size":7}},{"id":38370,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":498980,"value":"{@context=>https://www.w3.org/ns/activitystreams, id=>https://cb6e6126.ngrok.io/users/elois106#delete, type=>Delete, actor=>https://cb6e6126.ngrok.io/users/elois106, to=>[https://www.w3.org/ns/activitystreams#Public], object=>https://cb6e6126.ngrok.io/users/elois106, signature=>{type=>RsaSignature2017, creator=>https://cb6e6126.ngrok.io/users/elois106#main-key, created=>2023-11-06T08:04:04Z, signatureValue=>QXONzDE+Dv68+VSjctn11GFdFdvfPCFR06BYhduB8akCbyF/o2uyjCc5hRUyQtsyg0IRFMWCfVzTlqMEskzU0gP11SxUJILNK/xW (...244 more characters)}}","kind":"req","size":7}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":499000,"value":"#<JSON::Ext::Generator::State:0x00007f5e0ebf9488>"}},{"id":38371,"event":"return","thread_id":9960,"parent_id":38370,"elapsed":1.4308025129139423e-05,"elapsed_instrumentation":0.0002578049898147583,"return_value":{"class":"String","value":"{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/users/elois106#d (...679 more characters)","object_id":499020}},{"id":38372,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":192860,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":499040,"value":"_&\u0010__G_#___i"}},{"id":38373,"event":"return","thread_id":9960,"parent_id":38372,"elapsed":8.377013728022575e-06,"elapsed_instrumentation":0.0003040970186702907,"return_value":{"class":"String","value":"da2610b8e847f723b5b89069","object_id":499060}},{"id":38374,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":192860,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":499080,"value":"J_____r_,1__"}},{"id":38375,"event":"return","thread_id":9960,"parent_id":38374,"elapsed":4.629022441804409e-06,"elapsed_instrumentation":0.0002553559606894851,"return_value":{"class":"String","value":"4a8c96e5e39c72d42c31cca6","object_id":499100}},{"id":38376,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":499120,"value":"[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/users/elois106#d (...679 more characters), 111362561964397380, https://alice.com/inbox]","kind":"req","size":3}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":499140,"value":"#<JSON::Ext::Generator::State:0x00007f5e0ebf3d08>"}},{"id":38377,"event":"return","thread_id":9960,"parent_id":38376,"elapsed":1.2813950888812542e-05,"elapsed_instrumentation":0.00018081505550071597,"return_value":{"class":"String","value":"[\"{\\\"@context\\\":\\\"https://www.w3.org/ns/activitystreams\\\",\\\"id\\\":\\\"https://cb6e6126.ngrok.io/users/e (...770 more characters)","object_id":499160}},{"id":38378,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":499180,"value":"#<JSON::Ext::Parser:0x00007f5e0ebf2d18>"}},{"id":38379,"event":"return","thread_id":9960,"parent_id":38378,"elapsed":1.3395037967711687e-05,"elapsed_instrumentation":0.00023392494767904282,"return_value":{"class":"Array","value":"[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/users/elois106#d (...679 more characters), 111362561964397380, https://alice.com/inbox]","object_id":499200,"size":3}},{"id":38380,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":192860,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":499220,"value":")__@?\u000bit_0\u0014F"}},{"id":38381,"event":"return","thread_id":9960,"parent_id":38380,"elapsed":4.456960596144199e-06,"elapsed_instrumentation":0.00011429504957050085,"return_value":{"class":"String","value":"29b0de403f0b6974fb301446","object_id":499240}},{"id":38382,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":499260,"value":"[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/users/elois106#d (...679 more characters), 111362561964397380, https://bob.com/inbox]","kind":"req","size":3}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":499280,"value":"#<JSON::Ext::Generator::State:0x00007f5e0ebf0dd8>"}},{"id":38383,"event":"return","thread_id":9960,"parent_id":38382,"elapsed":1.1992000509053469e-05,"elapsed_instrumentation":0.00012689997674897313,"return_value":{"class":"String","value":"[\"{\\\"@context\\\":\\\"https://www.w3.org/ns/activitystreams\\\",\\\"id\\\":\\\"https://cb6e6126.ngrok.io/users/e (...768 more characters)","object_id":499300}},{"id":38384,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":499320,"value":"#<JSON::Ext::Parser:0x00007f5e0ec0fa30>"}},{"id":38385,"event":"return","thread_id":9960,"parent_id":38384,"elapsed":8.711009286344051e-06,"elapsed_instrumentation":9.578693425282836e-05,"return_value":{"class":"Array","value":"[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/users/elois106#d (...679 more characters), 111362561964397380, https://bob.com/inbox]","object_id":499340,"size":3}},{"id":38386,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":192860,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":499360,"value":"_$______NE\u0018 "}},{"id":38387,"event":"return","thread_id":9960,"parent_id":38386,"elapsed":4.050030838698149e-06,"elapsed_instrumentation":0.00018609099788591266,"return_value":{"class":"String","value":"b724b6c886e59cac4e451820","object_id":499380}},{"id":38388,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":499400,"value":"{retry=>8, queue=>pull, dead=>false, class=>ActivityPub::LowPriorityDeliveryWorker, args=>[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/users/elois106#d (...679 more characters), 111362561964397380, https://alice.com/inbox], jid=>4a8c96e5e39c72d42c31cca6, created_at=>1699257844.7613266, id=>b724b6c886e59cac4e451820}","kind":"req","size":8}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":499420,"value":"#<JSON::Ext::Generator::State:0x00007f5e0ec0d870>"}},{"id":38389,"event":"return","thread_id":9960,"parent_id":38388,"elapsed":2.2805004846304655e-05,"elapsed_instrumentation":0.00023091997718438506,"return_value":{"class":"String","value":"{\"retry\":8,\"queue\":\"pull\",\"dead\":false,\"class\":\"ActivityPub::LowPriorityDeliveryWorker\",\"args\":[\"{\\\" (...963 more characters)","object_id":499440}},{"id":38390,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":499460,"value":"#<JSON::Ext::Parser:0x00007f5e0ec0b4d0>"}},{"id":38391,"event":"return","thread_id":9960,"parent_id":38390,"elapsed":2.5990011636167765e-05,"elapsed_instrumentation":0.00019616197096183896,"return_value":{"class":"Hash","value":"{retry=>8, queue=>pull, dead=>false, class=>ActivityPub::LowPriorityDeliveryWorker, args=>[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/users/elois106#d (...679 more characters), 111362561964397380, https://alice.com/inbox], jid=>4a8c96e5e39c72d42c31cca6, created_at=>1699257844.7613266, id=>b724b6c886e59cac4e451820}","object_id":499480,"size":8}},{"id":38392,"event":"call","thread_id":9960,"defined_class":"ActivityPub::DeliveryWorker","method_id":"perform","path":"app/workers/activitypub/delivery_worker.rb","lineno":25,"static":false,"parameters":[{"name":"json","class":"String","object_id":499500,"value":"{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/users/elois106#d (...679 more characters)","kind":"req"},{"name":"source_account_id","class":"Integer","object_id":222725123928794761,"value":"111362561964397380","kind":"req"},{"name":"inbox_url","class":"String","object_id":499520,"value":"https://alice.com/inbox","kind":"req"},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::LowPriorityDeliveryWorker","object_id":499540,"value":"#<ActivityPub::LowPriorityDeliveryWorker:0x00007f5e0ddbe440>"}},{"id":38393,"event":"call","thread_id":9960,"defined_class":"DeliveryFailureTracker","method_id":"available?","path":"app/lib/delivery_failure_tracker.rb","lineno":52,"static":true,"parameters":[{"name":"url","class":"String","object_id":499520,"value":"https://alice.com/inbox","kind":"req"}],"receiver":{"class":"Class","object_id":221700,"value":"DeliveryFailureTracker"}},{"id":38394,"event":"call","thread_id":9960,"defined_class":"DeliveryFailureTracker","method_id":"available?","path":"app/lib/delivery_failure_tracker.rb","lineno":30,"static":false,"parameters":[],"receiver":{"class":"DeliveryFailureTracker","object_id":499560,"value":"#<DeliveryFailureTracker:0x00007f5e0ec07808>"}},{"id":38395,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"unavailable_domains\" WHERE \"unavailable_domains\".\"domain\" = $1 LIMIT $2","database_type":"postgres"}},{"id":38396,"event":"return","thread_id":9960,"parent_id":38395,"elapsed":0.000737644,"elapsed_instrumentation":0.0002762440126389265},{"id":38397,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":499580,"value":"  \u001b[1m\u001b[36mUnavailableDomain Exists? (1.0ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"unavailable_domains (...98 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":38398,"event":"return","thread_id":9960,"parent_id":38397,"elapsed":0.0038778530433773994,"elapsed_instrumentation":0.00019646598957479,"return_value":{"class":"Integer","value":"198","object_id":397}},{"id":38399,"event":"return","thread_id":9960,"parent_id":38394,"elapsed":0.0062231310294009745,"elapsed_instrumentation":0.00010113499592989683,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":38400,"event":"return","thread_id":9960,"parent_id":38393,"elapsed":0.0066694910055957735,"elapsed_instrumentation":8.046301081776619e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":38401,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":38402,"event":"return","thread_id":9960,"parent_id":38401,"elapsed":0.000733072,"elapsed_instrumentation":9.09260124899447e-05},{"id":38403,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":499600,"value":"  \u001b[1m\u001b[36mAccount Load (0.8ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accoun (...1364 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":38404,"event":"return","thread_id":9960,"parent_id":38403,"elapsed":0.004404589009936899,"elapsed_instrumentation":0.00040011596865952015,"return_value":{"class":"Integer","value":"1464","object_id":2929}},{"id":38405,"event":"call","thread_id":9960,"defined_class":"RequestPool","method_id":"current","path":"app/lib/request_pool.rb","lineno":6,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":221900,"value":"RequestPool"}},{"id":38406,"event":"return","thread_id":9960,"parent_id":38405,"elapsed":7.17496732249856e-06,"elapsed_instrumentation":0.0002265310031361878,"return_value":{"class":"RequestPool","value":"#<RequestPool:0x00007f5e0e580228>","object_id":222000}},{"id":38407,"event":"call","thread_id":9960,"defined_class":"RequestPool","method_id":"with","path":"app/lib/request_pool.rb","lineno":106,"static":false,"parameters":[{"name":"site","class":"String","object_id":499620,"value":"https://alice.com","kind":"req"},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":222000,"value":"#<RequestPool:0x00007f5e0e580228>"}},{"id":38408,"event":"call","thread_id":9960,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"with","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":15,"static":false,"parameters":[{"name":"preferred_tag","class":"String","object_id":499620,"value":"https://alice.com","kind":"req"},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":222040,"value":"#<ConnectionPool::SharedConnectionPool:0x00007f5e120f5dd0>"}},{"id":38409,"event":"call","thread_id":9960,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"checkout","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":29,"static":false,"parameters":[{"name":"preferred_tag","class":"String","object_id":499620,"value":"https://alice.com","kind":"req"},{"name":"options","class":"Hash","object_id":499640,"value":"{}","kind":"opt","size":0}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":222040,"value":"#<ConnectionPool::SharedConnectionPool:0x00007f5e120f5dd0>"}},{"id":38410,"event":"call","thread_id":9960,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"pop","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":23,"static":false,"parameters":[{"name":"preferred_tag","class":"String","object_id":499620,"value":"https://alice.com","kind":"req"},{"name":"timeout","class":"Integer","object_id":11,"value":"5","kind":"opt"}],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":222080,"value":"#<ConnectionPool::SharedTimedStack:0x00007f5e120f5ce0>"}},{"id":38411,"event":"return","thread_id":9960,"parent_id":38410,"elapsed":0.00013903598301112652,"elapsed_instrumentation":0.00028667697915807366,"return_value":{"class":"RequestPool::Connection","value":"#<RequestPool::Connection:0x00007f5e0deec0d8>","object_id":489900}},{"id":38412,"event":"return","thread_id":9960,"parent_id":38409,"elapsed":0.0005394539912231266,"elapsed_instrumentation":0.00018027605256065726,"return_value":{"class":"RequestPool::Connection","value":"#<RequestPool::Connection:0x00007f5e0deec0d8>","object_id":489900}},{"id":38413,"event":"call","thread_id":9960,"defined_class":"RequestPool::Connection","method_id":"use","path":"app/lib/request_pool.rb","lineno":47,"static":false,"parameters":[],"receiver":{"class":"RequestPool::Connection","object_id":489900,"value":"#<RequestPool::Connection:0x00007f5e0deec0d8>"}},{"id":38414,"event":"call","thread_id":9960,"defined_class":"Mastodon::Version","method_id":"user_agent","path":"lib/mastodon/version.rb","lineno":67,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":172680,"value":"4.3.0-alpha.0"}},{"id":38415,"event":"return","thread_id":9960,"parent_id":38414,"elapsed":3.431981895118952e-06,"elapsed_instrumentation":0.00018423603614792228,"return_value":{"class":"String","value":"http.rb/5.1.1 (Mastodon/4.3.0-alpha.0; +https://cb6e6126.ngrok.io/)","object_id":172740}},{"id":38416,"event":"call","thread_id":9960,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":499660,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":499680,"value":"[_\u0007\u001dG_H_|_5[Z+____{_<7__I__d_\u0019\u0005__]"}},{"id":38417,"event":"return","thread_id":9960,"parent_id":38416,"elapsed":7.286027539521456e-06,"elapsed_instrumentation":0.00025669101160019636,"return_value":{"class":"String","value":"3QcdR+dImHyANVtaK7bhkqR7iTw3yfhJnphk0hkFgKw=","object_id":499700}},{"id":38418,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"on_behalf_of","path":"app/lib/request.rb","lineno":91,"static":false,"parameters":[{"name":"actor","class":"Account","object_id":499720,"value":"#<Account:0x00007f5e0efc6908>","kind":"req"},{"name":"sign_with","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Request","object_id":499740,"value":"#<Request:0x00007f5e0df63980>"}},{"id":38419,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"keypair","path":"app/models/account.rb","lineno":293,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":499720,"value":"#<Account:0x00007f5e0efc6908>"}},{"id":38420,"event":"return","thread_id":9960,"parent_id":38419,"elapsed":0.0001342059695161879,"elapsed_instrumentation":0.0001918399939313531,"return_value":{"class":"OpenSSL::PKey::RSA","value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEAoeT3bBByDcz/rtafbeBgEQEpcz21FV9+YfWKRMvUc0xGO8wo\nTFd","object_id":499760}},{"id":38421,"event":"return","thread_id":9960,"parent_id":38418,"elapsed":0.0004531450103968382,"elapsed_instrumentation":0.00013906299136579037,"return_value":{"class":"Request","value":"#<Request:0x00007f5e0df63980>","object_id":499740}},{"id":38422,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"add_headers","path":"app/lib/request.rb","lineno":100,"static":false,"parameters":[{"name":"new_headers","class":"Hash","object_id":222260,"value":"{Content-Type=>application/activity+json}","kind":"req","size":1}],"receiver":{"class":"Request","object_id":499740,"value":"#<Request:0x00007f5e0df63980>"}},{"id":38423,"event":"return","thread_id":9960,"parent_id":38422,"elapsed":4.640023689717054e-06,"elapsed_instrumentation":0.00013337197015061975,"return_value":{"class":"Request","value":"#<Request:0x00007f5e0df63980>","object_id":499740}},{"id":38424,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"perform","path":"app/lib/request.rb","lineno":105,"static":false,"parameters":[],"receiver":{"class":"Request","object_id":499740,"value":"#<Request:0x00007f5e0df63980>"}},{"id":38425,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"headers","path":"app/lib/request.rb","lineno":126,"static":false,"parameters":[],"receiver":{"class":"Request","object_id":499740,"value":"#<Request:0x00007f5e0df63980>"}},{"id":38426,"event":"call","thread_id":9960,"defined_class":"OpenSSL::PKey::PKey","method_id":"sign","path":"OpenSSL::PKey::PKey#sign","static":false,"parameters":[{"name":"arg","class":"Array","object_id":499780,"value":"[e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855, (request-target): post /inbox\nhost: alice.com\ndate: Mon, 06 Nov 2023 08:04:04 GMT\ndigest: SHA-256=3Q (...82 more characters)]","kind":"rest","size":2}],"receiver":{"class":"OpenSSL::PKey::RSA","object_id":499760,"value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEAoeT3bBByDcz/rtafbeBgEQEpcz21FV9+YfWKRMvUc0xGO8wo\nTFd"}},{"id":38427,"event":"return","thread_id":9960,"parent_id":38426,"elapsed":0.0018813079805113375,"elapsed_instrumentation":0.00022757105762138963,"return_value":{"class":"String","value":"\u0011__\u000b______\u0019__Z_\u0011__>_\bu____T2_\u0006S\u0006__]\u001b!N\u0013__{84__96~@__%____\u0013o_hR_B8]_________O__L0We_\u00115y_\u0006q+_U$_O]Y\"O| (...156 more characters)","object_id":499800}},{"id":38428,"event":"call","thread_id":9960,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":207640,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":499820,"value":"[\u0011__\u000b______\u0019__Z_\u0011__>_\bu____T2_\u0006S\u0006__]\u001b!N\u0013__{84__96~@__%____\u0013o_hR_B8]_________O__L0We_\u00115y_\u0006q+_U$_O]Y\"O| (...156 more characters)]"}},{"id":38429,"event":"return","thread_id":9960,"parent_id":38428,"elapsed":6.571004632860422e-06,"elapsed_instrumentation":0.00020287791267037392,"return_value":{"class":"String","value":"EcL3C8XuxqHD3Rn8vVqfEZ+SPokIdcjki89UMpsGUwbHv10bIU4TsbV7ODTW7Tk2fkCSziW3oojcE2+LaFKEQjhdnsu64/TF15/C (...244 more characters)","object_id":499840}},{"id":38430,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"key_uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":53,"static":false,"parameters":[{"name":"target","class":"Account","object_id":499720,"value":"#<Account:0x00007f5e0efc6908>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":38431,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":499720,"value":"#<Account:0x00007f5e0efc6908>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":38432,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":499720,"value":"#<Account:0x00007f5e0efc6908>"}},{"id":38433,"event":"return","thread_id":9960,"parent_id":38432,"elapsed":1.7416023183614016e-05,"elapsed_instrumentation":7.621198892593384e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":38434,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":499720,"value":"#<Account:0x00007f5e0efc6908>"}},{"id":38435,"event":"return","thread_id":9960,"parent_id":38434,"elapsed":3.2659736461937428e-06,"elapsed_instrumentation":8.035503560677171e-05,"return_value":{"class":"Symbol","value":":person","object_id":20695068}},{"id":38436,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":499720,"value":"#<Account:0x00007f5e0efc6908>"}},{"id":38437,"event":"return","thread_id":9960,"parent_id":38436,"elapsed":1.617602538317442e-05,"elapsed_instrumentation":9.579496691003442e-05},{"id":38438,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":38439,"event":"return","thread_id":9960,"parent_id":38438,"elapsed":4.975998308509588e-06,"elapsed_instrumentation":0.0001318780123256147,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":38440,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":38441,"event":"return","thread_id":9960,"parent_id":38440,"elapsed":3.1199888326227665e-06,"elapsed_instrumentation":0.0003194599994458258,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":38442,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"to_param","path":"app/models/account.rb","lineno":389,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":499720,"value":"#<Account:0x00007f5e0efc6908>"}},{"id":38443,"event":"return","thread_id":9960,"parent_id":38442,"elapsed":1.9207014702260494e-05,"elapsed_instrumentation":0.00013974698958918452,"return_value":{"class":"String","value":"elois106","object_id":499860}},{"id":38444,"event":"return","thread_id":9960,"parent_id":38431,"elapsed":0.001302921969909221,"elapsed_instrumentation":0.00011038698721677065,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/elois106","object_id":499880}},{"id":38445,"event":"return","thread_id":9960,"parent_id":38430,"elapsed":0.0014407120179384947,"elapsed_instrumentation":0.00012815697118639946,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/elois106#main-key","object_id":499900}},{"id":38446,"event":"return","thread_id":9960,"parent_id":38425,"elapsed":0.004030718991998583,"elapsed_instrumentation":0.0004521850496530533,"return_value":{"class":"Hash","value":"{User-Agent=>http.rb/5.1.1 (Mastodon/4.3.0-alpha.0; +https://cb6e6126.ngrok.io/), Host=>alice.com, Date=>Mon, 06 Nov 2023 08:04:04 GMT, Accept-Encoding=>gzip, Digest=>SHA-256=3QcdR+dImHyANVtaK7bhkqR7iTw3yfhJnphk0hkFgKw=, Content-Type=>application/activity+json, Signature=>keyId=\"https://cb6e6126.ngrok.io/users/elois106#main-key\",algorithm=\"rsa-sha256\",headers=\"(request-t (...394 more characters)}","object_id":499920,"size":7}},{"id":38447,"event":"call","thread_id":9960,"defined_class":"Request::ClientLimit","method_id":"body_with_limit","path":"app/lib/request.rb","lineno":227,"static":false,"parameters":[{"name":"limit","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"HTTP::Response","object_id":499980,"value":""}},{"id":38448,"event":"call","thread_id":9960,"defined_class":"Request::ClientLimit","method_id":"truncated_body","path":"app/lib/request.rb","lineno":204,"static":false,"parameters":[{"name":"limit","class":"Integer","object_id":2097153,"value":"1048576","kind":"opt"}],"receiver":{"class":"HTTP::Response","object_id":499980,"value":""}},{"id":38449,"event":"return","thread_id":9960,"parent_id":38448,"elapsed":0.0002662140177562833,"elapsed_instrumentation":0.0002808470162563026,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":500000,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":38450,"event":"return","thread_id":9960,"parent_id":38447,"elapsed":0.000615334021858871,"elapsed_instrumentation":0.00021123106125742197,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":500000,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":38451,"event":"return","thread_id":9960,"parent_id":38424,"elapsed":0.010553113999776542,"elapsed_instrumentation":7.498898776248097e-05,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":500000,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":38452,"event":"call","thread_id":9960,"defined_class":"RequestPool::Connection","method_id":"close","path":"app/lib/request_pool.rb","lineno":85,"static":false,"parameters":[],"receiver":{"class":"RequestPool::Connection","object_id":489900,"value":"#<RequestPool::Connection:0x00007f5e0deec0d8>"}},{"id":38453,"event":"return","thread_id":9960,"parent_id":38452,"elapsed":5.233974661678076e-06,"elapsed_instrumentation":0.00011228799121454358,"return_value":{"class":"Symbol","value":":clean","object_id":1565468}},{"id":38454,"event":"return","thread_id":9960,"parent_id":38413,"elapsed":0.012650734977796674,"elapsed_instrumentation":0.00013788399519398808,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":500000,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":38455,"event":"call","thread_id":9960,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"checkin","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":39,"static":false,"parameters":[{"name":"preferred_tag","class":"String","object_id":499620,"value":"https://alice.com","kind":"req"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":222040,"value":"#<ConnectionPool::SharedConnectionPool:0x00007f5e120f5dd0>"}},{"id":38456,"event":"call","thread_id":9960,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"push","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":14,"static":false,"parameters":[{"name":"connection","class":"RequestPool::Connection","object_id":489900,"value":"#<RequestPool::Connection:0x00007f5e0deec0d8>","kind":"req"}],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":222080,"value":"#<ConnectionPool::SharedTimedStack:0x00007f5e120f5ce0>"}},{"id":38457,"event":"return","thread_id":9960,"parent_id":38456,"elapsed":1.1109979823231697e-05,"elapsed_instrumentation":0.00012734002666547894,"return_value":{"class":"Thread::ConditionVariable","value":"#<Thread::ConditionVariable:0x00007f5e0e5bfc20>","object_id":222520}},{"id":38458,"event":"return","thread_id":9960,"parent_id":38455,"elapsed":0.00019162299577146769,"elapsed_instrumentation":8.600595174357295e-05},{"id":38459,"event":"return","thread_id":9960,"parent_id":38408,"elapsed":0.014287772006355226,"elapsed_instrumentation":0.00017990806372836232,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":500000,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":38460,"event":"return","thread_id":9960,"parent_id":38407,"elapsed":0.014512127032503486,"elapsed_instrumentation":0.000278402934782207,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":500000,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":38461,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":500020,"value":"{:error=>{:class=>HTTP::StateError, :message=>body has already been consumed}, :time=>2023-11-06T08:04:04.793893672+00:00}","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":500040,"value":"#<JSON::Ext::Generator::State:0x00007f5e0eb65af8>"}},{"id":38462,"event":"return","thread_id":9960,"parent_id":38461,"elapsed":1.3172044418752193e-05,"elapsed_instrumentation":0.0003832639195024967,"return_value":{"class":"String","value":"{\"error\":{\"class\":\"HTTP::StateError\",\"message\":\"body has already been consumed\"},\"time\":\"2023-11-06T (...26 more characters)","object_id":500060}},{"id":38463,"event":"call","thread_id":9960,"defined_class":"DeliveryFailureTracker","method_id":"track_failure!","path":"app/lib/delivery_failure_tracker.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"DeliveryFailureTracker","object_id":500080,"value":"#<DeliveryFailureTracker:0x00007f5e0eb60828>"}},{"id":38464,"event":"call","thread_id":9960,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"DeliveryFailureTracker","object_id":500080,"value":"#<DeliveryFailureTracker:0x00007f5e0eb60828>"}},{"id":38465,"event":"return","thread_id":9960,"parent_id":38464,"elapsed":4.9309455789625645e-06,"elapsed_instrumentation":0.00010302907321602106,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007f5e126ad930>","object_id":222620}},{"id":38466,"event":"call","thread_id":9960,"defined_class":"DeliveryFailureTracker","method_id":"days","path":"app/lib/delivery_failure_tracker.rb","lineno":26,"static":false,"parameters":[],"receiver":{"class":"DeliveryFailureTracker","object_id":500080,"value":"#<DeliveryFailureTracker:0x00007f5e0eb60828>"}},{"id":38467,"event":"call","thread_id":9960,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"DeliveryFailureTracker","object_id":500080,"value":"#<DeliveryFailureTracker:0x00007f5e0eb60828>"}},{"id":38468,"event":"return","thread_id":9960,"parent_id":38467,"elapsed":5.255045834928751e-06,"elapsed_instrumentation":0.00015089195221662521,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007f5e126ad930>","object_id":222620}},{"id":38469,"event":"return","thread_id":9960,"parent_id":38466,"elapsed":0.0007129880250431597,"elapsed_instrumentation":0.00037665595300495625,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":38470,"event":"return","thread_id":9960,"parent_id":38463,"elapsed":0.0019777880515903234,"elapsed_instrumentation":0.00010205298895016313},{"id":38471,"event":"return","thread_id":9960,"parent_id":38392,"elapsed":0.03406944201560691,"elapsed_instrumentation":0.00017716095317155123,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":500000,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]}]}