{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"50d0a0445fe1bf0ac82032f1958ae8e614b2ebd3","status":["M .env.test","M .husky/pre-commit","M appmap/rspec/API_routes_Account_routes_routes_to_followers/appmap-findings.json","M appmap/rspec/API_routes_Account_routes_routes_to_search/appmap-findings.json","M appmap/rspec/API_routes_Account_routes_routes_to_statuses/appmap-findings.json","M appmap/rspec/API_routes_Credentials_routes_routes_to_update_credentials/appmap-findings.json","M appmap/rspec/API_routes_Credentials_routes_routes_to_verify_credentials/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_favourite/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_favourited_by/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_mute/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_reblog/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_reblogged_by/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_unfavourite/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_unmute/appmap-findings.json","M appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_name_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_redirect_uris_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_website_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_an_unsupported_scope_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_many_duplicate_scopes_only_saves_the_scope_once.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_valid_params_creates_an_OAuth_app.appmap.json","?? appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_name_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_redirect_uris_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_website_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_an_unsupported_scope_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_many_duplicate_scopes_only_saves_the_scope_once/","?? appmap/rspec/Apps_POST_api_v1_apps_with_valid_params_creates_an_OAuth_app/","?? appmap/rspec/Apps_POST_api_v1_apps_without_required_params_returns_http_unprocessable_entity/","?? appmap/rspec/Auth_ChallengesController_POST_create_with_correct_password_redirects_back/"],"git_last_annotated_tag":"0.1.2-14643-g50d0a0445fe1bf0ac82032f1958ae8e614b2ebd3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"ActivityPub::FetchRepliesWorker perform performs a request if the collection URI is from the same host","source_location":"spec/workers/activitypub/fetch_replies_worker_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"failed","test_failure":{"message":"body has already been consumed","location":"app/lib/request.rb:217"},"exception":{"class":"HTTP::StateError","message":"body has already been consumed"}},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false},{"name":"ensure_keys!","type":"function","location":"app/models/account.rb:478","static":false},{"name":"keypair","type":"function","location":"app/models/account.rb:293","static":false},{"name":"object_type","type":"function","location":"app/models/account.rb:385","static":false},{"name":"instance_actor?","type":"function","location":"app/models/account.rb:175","static":false}]},{"name":"concerns","type":"package","children":[{"name":"DomainMaterializable","type":"class","children":[{"name":"refresh_instances_view","type":"function","location":"app/models/concerns/domain_materializable.rb:12","static":false},{"name":"count_unique_subdomains!","type":"function","location":"app/models/concerns/domain_materializable.rb:19","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false}]},{"name":"RateLimitable","type":"class","children":[{"name":"rate_limit?","type":"function","location":"app/models/concerns/rate_limitable.rb:10","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"increment_count!","type":"function","location":"app/models/concerns/account_counters.rb:23","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]}]},{"name":"Instance","type":"class","children":[{"name":"refresh","type":"function","location":"app/models/instance.rb:28","static":true}]},{"name":"Status","type":"class","children":[{"name":"local?","type":"function","location":"app/models/status.rb:188","static":false},{"name":"reblog?","type":"function","location":"app/models/status.rb:196","static":false},{"name":"reply?","type":"function","location":"app/models/status.rb:184","static":false},{"name":"with_media?","type":"function","location":"app/models/status.rb:242","static":false},{"name":"ordered_media_attachments","type":"function","location":"app/models/status.rb:271","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"TagManager","type":"class","children":[{"name":"normalize_domain","type":"function","location":"app/lib/tag_manager.rb:17","static":false}]},{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]},{"name":"Request","type":"class","children":[{"name":"on_behalf_of","type":"function","location":"app/lib/request.rb:91","static":false},{"name":"add_headers","type":"function","location":"app/lib/request.rb:100","static":false},{"name":"perform","type":"function","location":"app/lib/request.rb:105","static":false},{"name":"http_client","type":"function","location":"app/lib/request.rb:141","static":true},{"name":"headers","type":"function","location":"app/lib/request.rb:126","static":false},{"name":"ClientLimit","type":"class","children":[{"name":"body_with_limit","type":"function","location":"app/lib/request.rb:227","static":false},{"name":"truncated_body","type":"function","location":"app/lib/request.rb:204","static":false}]}]},{"name":"activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"key_uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:53","static":false},{"name":"uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:36","static":false}]}]}]}]},{"name":"validators","type":"package","children":[{"name":"UniqueUsernameValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/unique_username_validator.rb:6","static":false}]},{"name":"StatusLengthValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/status_length_validator.rb:8","static":false}]},{"name":"DisallowedHashtagsValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/disallowed_hashtags_validator.rb:4","static":false}]}]},{"name":"workers/activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"FetchRepliesWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/activitypub/fetch_replies_worker.rb:9","static":false}]}]}]},{"name":"helpers","type":"package","children":[{"name":"JsonLdHelper","type":"class","children":[{"name":"non_matching_uri_hosts?","type":"function","location":"app/helpers/jsonld_helper.rb:66","static":false},{"name":"unsupported_uri_scheme?","type":"function","location":"app/helpers/jsonld_helper.rb:62","static":false},{"name":"fetch_resource_without_id_validation","type":"function","location":"app/helpers/jsonld_helper.rb:171","static":false},{"name":"build_request","type":"function","location":"app/helpers/jsonld_helper.rb:207","static":false},{"name":"response_successful?","type":"function","location":"app/helpers/jsonld_helper.rb:199","static":false}]},{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"default_url_options","type":"function","location":"app/helpers/routing_helper.rb:12","static":false}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"lib","type":"package","children":[{"name":"paperclip","type":"package","children":[{"name":"Paperclip","type":"class","children":[{"name":"AttachmentExtensions","type":"class","children":[{"name":"save","type":"function","location":"lib/paperclip/attachment_extensions.rb:83","static":false}]}]}]},{"name":"mastodon","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"Snowflake","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"around_create","type":"function","location":"lib/mastodon/snowflake.rb:7","static":true}]}]},{"name":"Version","type":"class","children":[{"name":"user_agent","type":"function","location":"lib/mastodon/version.rb:67","static":true}]}]}]},{"name":"chewy","type":"package","children":[{"name":"Chewy","type":"class","children":[{"name":"IndexExtensions","type":"class","children":[{"name":"index_preset","type":"function","location":"lib/chewy/index_extensions.rb:5","static":true}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"Kernel","type":"class","children":[{"name":"eval","type":"function","location":"Kernel.eval","static":true,"labels":["lang.eval"]}]},{"name":"Array","type":"class","children":[{"name":"pack","type":"function","location":"<internal:pack>:7","static":false,"labels":["array.pack"]}]}]},{"name":"openssl","type":"package","children":[{"name":"OpenSSL","type":"class","children":[{"name":"PKey","type":"class","children":[{"name":"PKey","type":"class","children":[{"name":"sign","type":"function","location":"OpenSSL::PKey::PKey#sign","static":false,"labels":["crypto.pkey"]}]}]}]}]}],"events":[{"id":1519,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":209020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12869170>"}},{"id":1520,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":209040,"value":"#<Account:0x00007f5e0e667588>"}},{"id":1521,"event":"return","thread_id":9960,"parent_id":1520,"elapsed":1.8455961253494024e-05,"elapsed_instrumentation":8.77090496942401e-05},{"id":1522,"event":"call","thread_id":9960,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":209060,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":199560,"value":"#<TagManager:0x00007f5e1188f740>"}},{"id":1523,"event":"return","thread_id":9960,"parent_id":1522,"elapsed":0.0002591820084489882,"elapsed_instrumentation":0.00019909703405573964,"return_value":{"class":"String","value":"example.com","object_id":209080}},{"id":1524,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":209040,"value":"#<Account:0x00007f5e0e667588>"}},{"id":1525,"event":"return","thread_id":9960,"parent_id":1524,"elapsed":1.1102005373686552e-05,"elapsed_instrumentation":9.301200043410063e-05},{"id":1526,"event":"return","thread_id":9960,"parent_id":1519,"elapsed":0.0008471519686281681,"elapsed_instrumentation":0.0002679199678823352,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e12852218 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12852358 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12852498 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12852650 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":191160,"size":4}},{"id":1527,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":209100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e128690d0>"}},{"id":1528,"event":"call","thread_id":9960,"defined_class":"UniqueUsernameValidator","method_id":"validate","path":"app/validators/unique_username_validator.rb","lineno":6,"static":false,"parameters":[{"name":"account","class":"Account","object_id":209040,"value":"#<Account:0x00007f5e0e667588>","kind":"req"}],"receiver":{"class":"UniqueUsernameValidator","object_id":191220,"value":"#<UniqueUsernameValidator:0x00007f5e13f10590>"}},{"id":1529,"event":"call","thread_id":9960,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1530,"event":"return","thread_id":9960,"parent_id":1529,"elapsed":0.000788527,"elapsed_instrumentation":0.00019732199143618345},{"id":1531,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":209120,"value":"  \u001b[1m\u001b[36mTRANSACTION (1.0ms)\u001b[0m  \u001b[1m\u001b[35mSAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1532,"event":"return","thread_id":9960,"parent_id":1531,"elapsed":0.0033941970323212445,"elapsed_instrumentation":0.00028481200570240617,"return_value":{"class":"Integer","value":"75","object_id":151}},{"id":1533,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") = 'yevette_will2' AND LOWER(\"accounts\".\"domain\") = 'example.com' LIMIT $1","database_type":"postgres"}},{"id":1534,"event":"return","thread_id":9960,"parent_id":1533,"elapsed":0.006484152,"elapsed_instrumentation":0.00013530399883165956},{"id":1535,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":209140,"value":"  \u001b[1m\u001b[36mAccount Exists? (6.7ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"accounts\" WHERE LOWER(\"accoun (...110 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1536,"event":"return","thread_id":9960,"parent_id":1535,"elapsed":0.005304594000335783,"elapsed_instrumentation":0.0002965009771287441,"return_value":{"class":"Integer","value":"210","object_id":421}},{"id":1537,"event":"return","thread_id":9960,"parent_id":1528,"elapsed":0.01393843605183065,"elapsed_instrumentation":0.0006726069841533899},{"id":1538,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":209040,"value":"#<Account:0x00007f5e0e667588>"}},{"id":1539,"event":"return","thread_id":9960,"parent_id":1538,"elapsed":1.5038996934890747e-05,"elapsed_instrumentation":0.0001410750555805862},{"id":1540,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":209040,"value":"#<Account:0x00007f5e0e667588>"}},{"id":1541,"event":"return","thread_id":9960,"parent_id":1540,"elapsed":5.46302180737257e-06,"elapsed_instrumentation":6.41060178168118e-05},{"id":1542,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":209040,"value":"#<Account:0x00007f5e0e667588>"}},{"id":1543,"event":"return","thread_id":9960,"parent_id":1542,"elapsed":4.244968295097351e-06,"elapsed_instrumentation":5.518499528989196e-05},{"id":1544,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":209040,"value":"#<Account:0x00007f5e0e667588>"}},{"id":1545,"event":"return","thread_id":9960,"parent_id":1544,"elapsed":4.058994818478823e-06,"elapsed_instrumentation":5.0038041081279516e-05},{"id":1546,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":209040,"value":"#<Account:0x00007f5e0e667588>"}},{"id":1547,"event":"return","thread_id":9960,"parent_id":1546,"elapsed":4.136993084102869e-06,"elapsed_instrumentation":4.916294710710645e-05},{"id":1548,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":209040,"value":"#<Account:0x00007f5e0e667588>"}},{"id":1549,"event":"return","thread_id":9960,"parent_id":1548,"elapsed":4.1530001908540726e-06,"elapsed_instrumentation":4.911498399451375e-05},{"id":1550,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":209040,"value":"#<Account:0x00007f5e0e667588>"}},{"id":1551,"event":"return","thread_id":9960,"parent_id":1550,"elapsed":3.941997420042753e-06,"elapsed_instrumentation":4.821002949029207e-05},{"id":1552,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":209040,"value":"#<Account:0x00007f5e0e667588>"}},{"id":1553,"event":"return","thread_id":9960,"parent_id":1552,"elapsed":9.70496330410242e-06,"elapsed_instrumentation":0.00032276404090225697},{"id":1554,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":209040,"value":"#<Account:0x00007f5e0e667588>"}},{"id":1555,"event":"return","thread_id":9960,"parent_id":1554,"elapsed":4.97099244967103e-06,"elapsed_instrumentation":7.513799937441945e-05},{"id":1556,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":209040,"value":"#<Account:0x00007f5e0e667588>"}},{"id":1557,"event":"return","thread_id":9960,"parent_id":1556,"elapsed":4.316039849072695e-06,"elapsed_instrumentation":5.498691461980343e-05},{"id":1558,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":209040,"value":"#<Account:0x00007f5e0e667588>"}},{"id":1559,"event":"return","thread_id":9960,"parent_id":1558,"elapsed":4.341010935604572e-06,"elapsed_instrumentation":4.949793219566345e-05},{"id":1560,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":209040,"value":"#<Account:0x00007f5e0e667588>"}},{"id":1561,"event":"return","thread_id":9960,"parent_id":1560,"elapsed":4.140019882470369e-06,"elapsed_instrumentation":4.856300074607134e-05},{"id":1562,"event":"return","thread_id":9960,"parent_id":1527,"elapsed":0.01800376398023218,"elapsed_instrumentation":0.00021204299991950393,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e12839e20 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12839fd8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a118 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a258 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a398 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a4d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a640 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a780 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a8c0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283aa00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...61 more items)]","object_id":191520,"size":71}},{"id":1563,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":209100,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e128690d0>"}},{"id":1564,"event":"return","thread_id":9960,"parent_id":1563,"elapsed":3.7329737097024918e-06,"elapsed_instrumentation":9.213999146595597e-05,"return_value":{"class":"Array","value":"[]","object_id":191540,"size":0}},{"id":1565,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":209020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12869170>"}},{"id":1566,"event":"return","thread_id":9960,"parent_id":1565,"elapsed":6.0747028328478336e-05,"elapsed_instrumentation":0.00013565097469836473,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e128520d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":191560,"size":1}},{"id":1567,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":209160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12868360>"}},{"id":1568,"event":"return","thread_id":9960,"parent_id":1567,"elapsed":2.6416964828968048e-05,"elapsed_instrumentation":0.00011668703518807888,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e1282d120 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":191800,"size":1}},{"id":1569,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":209160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12868400>"}},{"id":1570,"event":"return","thread_id":9960,"parent_id":1569,"elapsed":2.804968971759081e-06,"elapsed_instrumentation":7.981609087437391e-05,"return_value":{"class":"Array","value":"[]","object_id":191840,"size":0}},{"id":1571,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":209180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12868270>"}},{"id":1572,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":209040,"value":"#<Account:0x00007f5e0e667588>"}},{"id":1573,"event":"return","thread_id":9960,"parent_id":1572,"elapsed":6.7140208557248116e-06,"elapsed_instrumentation":5.981797585263848e-05},{"id":1574,"event":"return","thread_id":9960,"parent_id":1571,"elapsed":9.50450194068253e-05,"elapsed_instrumentation":0.00010585994459688663,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e1282b988 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":191900,"size":1}},{"id":1575,"event":"call","thread_id":9960,"sql_query":{"sql":"INSERT INTO \"accounts\" (\"username\", \"domain\", \"private_key\", \"public_key\", \"created_at\", \"updated_at\", \"note\", \"display_name\", \"uri\", \"url\", \"avatar_file_name\", \"avatar_content_type\", \"avatar_file_size\", \"avatar_updated_at\", \"header_file_name\", \"header_content_type\", \"header_file_size\", \"header_updated_at\", \"avatar_remote_url\", \"locked\", \"header_remote_url\", \"last_webfingered_at\", \"inbox_url\", \"outbox_url\", \"shared_inbox_url\", \"followers_url\", \"protocol\", \"memorial\", \"moved_to_account_id\", \"featured_collection_url\", \"fields\", \"actor_type\", \"discoverable\", \"also_known_as\", \"silenced_at\", \"suspended_at\", \"hide_collections\", \"avatar_storage_schema_version\", \"header_storage_schema_version\", \"devices_url\", \"suspension_origin\", \"sensitized_at\", \"trendable\", \"reviewed_at\", \"requested_review_at\", \"indexable\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40, $41, $42, $43, $44, $45, $46) RETURNING \"id\"","database_type":"postgres"}},{"id":1576,"event":"return","thread_id":9960,"parent_id":1575,"elapsed":0.001808812,"elapsed_instrumentation":0.00013200397370383143},{"id":1577,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":209200,"value":"  \u001b[1m\u001b[36mAccount Create (2.0ms)\u001b[0m  \u001b[1m\u001b[32mINSERT INTO \"accounts\" (\"username\", \"domain\", \"priva (...4419 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1578,"event":"return","thread_id":9960,"parent_id":1577,"elapsed":0.00802849797764793,"elapsed_instrumentation":0.00027414405485615134,"return_value":{"class":"Integer","value":"4519","object_id":9039}},{"id":1579,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":209180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12868270>"}},{"id":1580,"event":"return","thread_id":9960,"parent_id":1579,"elapsed":0.0006212950102053583,"elapsed_instrumentation":0.0005062479758635163,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e1282b7d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282b618 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282b460 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282b2a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282b0f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282af38 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282ad80 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282abc8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282aa10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282a858 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...43 more items)]","object_id":192600,"size":53}},{"id":1581,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":209160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12868400>"}},{"id":1582,"event":"return","thread_id":9960,"parent_id":1581,"elapsed":3.583962097764015e-06,"elapsed_instrumentation":0.00017628696514293551,"return_value":{"class":"Array","value":"[]","object_id":192620,"size":0}},{"id":1583,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":209160,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12868360>"}},{"id":1584,"event":"call","thread_id":9960,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":209220,"value":"/avatars/original/missing.png"}},{"id":1585,"event":"return","thread_id":9960,"parent_id":1584,"elapsed":4.010199336335063e-05,"elapsed_instrumentation":0.0003305349382571876,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1586,"event":"call","thread_id":9960,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":209240,"value":"/headers/original/missing.png"}},{"id":1587,"event":"return","thread_id":9960,"parent_id":1586,"elapsed":2.93480115942657e-05,"elapsed_instrumentation":0.00021049997303634882,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1588,"event":"return","thread_id":9960,"parent_id":1583,"elapsed":0.0009268940193578601,"elapsed_instrumentation":0.00021855701925233006,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e1282cf68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282cdb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282cbf8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282ca40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":192680,"size":4}},{"id":1589,"event":"call","thread_id":9960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1590,"event":"return","thread_id":9960,"parent_id":1589,"elapsed":0.000757667,"elapsed_instrumentation":0.00012073299149051309},{"id":1591,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":209260,"value":"  \u001b[1m\u001b[36mTRANSACTION (0.9ms)\u001b[0m  \u001b[1m\u001b[35mRELEASE SAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1592,"event":"return","thread_id":9960,"parent_id":1591,"elapsed":0.0058643119991756976,"elapsed_instrumentation":0.0005368070560507476,"return_value":{"class":"Integer","value":"83","object_id":167}},{"id":1593,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":209280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":195460,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e127a7728>"}},{"id":1594,"event":"return","thread_id":9960,"parent_id":1593,"elapsed":6.8480148911476135e-06,"elapsed_instrumentation":0.00029227096820250154,"return_value":{"class":"Array","value":"[]","object_id":195480,"size":0}},{"id":1595,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":209280,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":195460,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e127a7728>"}},{"id":1596,"event":"call","thread_id":9960,"defined_class":"DomainMaterializable","method_id":"refresh_instances_view","path":"app/models/concerns/domain_materializable.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":209040,"value":"#<Account:0x00007f5e0e667588>"}},{"id":1597,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n       pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n       c.collname, col_description(a.attrelid, a.attnum) AS comment,\n       a.attidentity AS identity,\n       attgenerated as attgenerated\n  FROM pg_attribute a\n  LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n  LEFT JOIN pg_type t ON a.atttypid = t.oid\n  LEFT JOIN pg_collation c ON a.attcollation = c.oid AND a.attcollation <> t.typcollation\n WHERE a.attrelid = '\"instances\"'::regclass\n   AND a.attnum > 0 AND NOT a.attisdropped\n ORDER BY a.attnum\n","database_type":"postgres"}},{"id":1598,"event":"return","thread_id":9960,"parent_id":1597,"elapsed":0.002718853,"elapsed_instrumentation":0.00012344395508989692},{"id":1599,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"instances\" WHERE \"instances\".\"domain\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1600,"event":"return","thread_id":9960,"parent_id":1599,"elapsed":0.017897374,"elapsed_instrumentation":0.0001461250358261168},{"id":1601,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":209340,"value":"  \u001b[1m\u001b[36mInstance Exists? (18.1ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"instances\" WHERE \"instances (...72 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1602,"event":"return","thread_id":9960,"parent_id":1601,"elapsed":0.005243686959147453,"elapsed_instrumentation":0.0007357910508289933,"return_value":{"class":"Integer","value":"172","object_id":345}},{"id":1603,"event":"call","thread_id":9960,"defined_class":"Instance","method_id":"refresh","path":"app/models/instance.rb","lineno":28,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":209300,"value":"Instance"}},{"id":1604,"event":"call","thread_id":9960,"sql_query":{"sql":"REFRESH MATERIALIZED VIEW CONCURRENTLY \"instances\";","database_type":"postgres"}},{"id":1605,"event":"return","thread_id":9960,"parent_id":1604,"elapsed":0.041709647,"elapsed_instrumentation":0.00014484499115496874},{"id":1606,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":209360,"value":"  \u001b[1m\u001b[35m (41.9ms)\u001b[0m  \u001b[1m\u001b[35mREFRESH MATERIALIZED VIEW CONCURRENTLY \"instances\";\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1607,"event":"return","thread_id":9960,"parent_id":1606,"elapsed":0.002000003994908184,"elapsed_instrumentation":0.0004223440191708505,"return_value":{"class":"Integer","value":"91","object_id":183}},{"id":1608,"event":"return","thread_id":9960,"parent_id":1603,"elapsed":0.04511607496533543,"elapsed_instrumentation":0.000599826977122575,"return_value":{"class":"PG::Result","value":"#<PG::Result:0x00007f5e11f2bbf8>","object_id":209380}},{"id":1609,"event":"call","thread_id":9960,"defined_class":"DomainMaterializable","method_id":"count_unique_subdomains!","path":"app/models/concerns/domain_materializable.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":209040,"value":"#<Account:0x00007f5e0e667588>"}},{"id":1610,"event":"call","thread_id":9960,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":209040,"value":"#<Account:0x00007f5e0e667588>"}},{"id":1611,"event":"call","thread_id":9960,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":209400,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":209420,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":27000,"value":"RedisConfiguration"}},{"id":1612,"event":"call","thread_id":9960,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":27000,"value":"RedisConfiguration"}},{"id":1613,"event":"return","thread_id":9960,"parent_id":1612,"elapsed":4.085944965481758e-06,"elapsed_instrumentation":0.00011302903294563293,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007f5e126adbb0>","object_id":209440}},{"id":1614,"event":"return","thread_id":9960,"parent_id":1611,"elapsed":0.0016296730027534068,"elapsed_instrumentation":0.0004166239523328841,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1615,"event":"return","thread_id":9960,"parent_id":1610,"elapsed":0.002227424003649503,"elapsed_instrumentation":0.00026274099946022034,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1616,"event":"return","thread_id":9960,"parent_id":1609,"elapsed":0.07055062800645828,"elapsed_instrumentation":0.0001972729805856943,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1617,"event":"return","thread_id":9960,"parent_id":1596,"elapsed":0.20888326095882803,"elapsed_instrumentation":0.00010710599599406123,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1618,"event":"return","thread_id":9960,"parent_id":1595,"elapsed":0.20907347602769732,"elapsed_instrumentation":0.00040767400059849024,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e12791fe0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12791db0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12791b80 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e127919c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12791810 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12791658 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":195500,"size":6}},{"id":1619,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n       pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n       c.collname, col_description(a.attrelid, a.attnum) AS comment,\n       a.attidentity AS identity,\n       attgenerated as attgenerated\n  FROM pg_attribute a\n  LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n  LEFT JOIN pg_type t ON a.atttypid = t.oid\n  LEFT JOIN pg_collation c ON a.attcollation = c.oid AND a.attcollation <> t.typcollation\n WHERE a.attrelid = '\"statuses\"'::regclass\n   AND a.attnum > 0 AND NOT a.attisdropped\n ORDER BY a.attnum\n","database_type":"postgres"}},{"id":1620,"event":"return","thread_id":9960,"parent_id":1619,"elapsed":0.006150218,"elapsed_instrumentation":0.0003779869875870645},{"id":1621,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT a.attname\n  FROM (\n         SELECT indrelid, indkey, generate_subscripts(indkey, 1) idx\n           FROM pg_index\n          WHERE indrelid = '\"statuses\"'::regclass\n            AND indisprimary\n       ) i\n  JOIN pg_attribute a\n    ON a.attrelid = i.indrelid\n   AND a.attnum = i.indkey[i.idx]\n ORDER BY i.idx\n","database_type":"postgres"}},{"id":1622,"event":"return","thread_id":9960,"parent_id":1621,"elapsed":0.00489808,"elapsed_instrumentation":9.847903857007623e-05},{"id":1623,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":209040,"value":"#<Account:0x00007f5e0e667588>"}},{"id":1624,"event":"return","thread_id":9960,"parent_id":1623,"elapsed":1.4254997950047255e-05,"elapsed_instrumentation":0.00018375401850789785},{"id":1625,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":215180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":215200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc5e10>"}},{"id":1626,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"local?","path":"app/models/status.rb","lineno":188,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":215220,"value":"#<Status:0x00007f5e11b418d0>"}},{"id":1627,"event":"return","thread_id":9960,"parent_id":1626,"elapsed":0.00013227900490164757,"elapsed_instrumentation":0.00018734298646450043},{"id":1628,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"reblog?","path":"app/models/status.rb","lineno":196,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":215220,"value":"#<Status:0x00007f5e11b418d0>"}},{"id":1629,"event":"return","thread_id":9960,"parent_id":1628,"elapsed":1.0040996130555868e-05,"elapsed_instrumentation":8.786603575572371e-05},{"id":1630,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"reblog?","path":"app/models/status.rb","lineno":196,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":215220,"value":"#<Status:0x00007f5e11b418d0>"}},{"id":1631,"event":"return","thread_id":9960,"parent_id":1630,"elapsed":4.507019184529781e-06,"elapsed_instrumentation":5.479203537106514e-05},{"id":1632,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"reply?","path":"app/models/status.rb","lineno":184,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":215220,"value":"#<Status:0x00007f5e11b418d0>"}},{"id":1633,"event":"return","thread_id":9960,"parent_id":1632,"elapsed":6.054597906768322e-05,"elapsed_instrumentation":0.00013408804079517722},{"id":1634,"event":"call","thread_id":9960,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1635,"event":"return","thread_id":9960,"parent_id":1634,"elapsed":0.000647474,"elapsed_instrumentation":8.827494457364082e-05},{"id":1636,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":215280,"value":"  \u001b[1m\u001b[36mTRANSACTION (0.8ms)\u001b[0m  \u001b[1m\u001b[35mSAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1637,"event":"return","thread_id":9960,"parent_id":1636,"elapsed":0.002021419000811875,"elapsed_instrumentation":0.00019824603805318475,"return_value":{"class":"Integer","value":"75","object_id":151}},{"id":1638,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n       pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n       c.collname, col_description(a.attrelid, a.attnum) AS comment,\n       a.attidentity AS identity,\n       attgenerated as attgenerated\n  FROM pg_attribute a\n  LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n  LEFT JOIN pg_type t ON a.atttypid = t.oid\n  LEFT JOIN pg_collation c ON a.attcollation = c.oid AND a.attcollation <> t.typcollation\n WHERE a.attrelid = '\"conversations\"'::regclass\n   AND a.attnum > 0 AND NOT a.attisdropped\n ORDER BY a.attnum\n","database_type":"postgres"}},{"id":1639,"event":"return","thread_id":9960,"parent_id":1638,"elapsed":0.006472387,"elapsed_instrumentation":9.336404036730528e-05},{"id":1640,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT a.attname\n  FROM (\n         SELECT indrelid, indkey, generate_subscripts(indkey, 1) idx\n           FROM pg_index\n          WHERE indrelid = '\"conversations\"'::regclass\n            AND indisprimary\n       ) i\n  JOIN pg_attribute a\n    ON a.attrelid = i.indrelid\n   AND a.attnum = i.indkey[i.idx]\n ORDER BY i.idx\n","database_type":"postgres"}},{"id":1641,"event":"return","thread_id":9960,"parent_id":1640,"elapsed":0.004761518,"elapsed_instrumentation":0.00010413100244477391},{"id":1642,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":209040,"value":"#<Account:0x00007f5e0e667588>"}},{"id":1643,"event":"return","thread_id":9960,"parent_id":1642,"elapsed":5.529396003112197e-05,"elapsed_instrumentation":0.00028966605896130204},{"id":1644,"event":"return","thread_id":9960,"parent_id":1625,"elapsed":0.039640106027945876,"elapsed_instrumentation":0.000475394946988672,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e11a46e08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11a46f98 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11a47150 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11a47290 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11a473d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11a47510 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":215320,"size":6}},{"id":1645,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":215340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":215360,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0eeaeed0>"}},{"id":1646,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"local?","path":"app/models/status.rb","lineno":188,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":215220,"value":"#<Status:0x00007f5e11b418d0>"}},{"id":1647,"event":"return","thread_id":9960,"parent_id":1646,"elapsed":7.928203558549285e-05,"elapsed_instrumentation":0.0004407789674587548},{"id":1648,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"statuses\" WHERE \"statuses\".\"uri\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1649,"event":"return","thread_id":9960,"parent_id":1648,"elapsed":0.004514997,"elapsed_instrumentation":0.00011663400800898671},{"id":1650,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":215380,"value":"  \u001b[1m\u001b[36mStatus Exists? (5.0ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"statuses\" WHERE \"statuses\".\"ur (...114 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1651,"event":"return","thread_id":9960,"parent_id":1650,"elapsed":0.0051155430264770985,"elapsed_instrumentation":0.0005283409846015275,"return_value":{"class":"Integer","value":"214","object_id":429}},{"id":1652,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"local?","path":"app/models/status.rb","lineno":188,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":215220,"value":"#<Status:0x00007f5e11b418d0>"}},{"id":1653,"event":"return","thread_id":9960,"parent_id":1652,"elapsed":0.00011362700024619699,"elapsed_instrumentation":0.00020977796521037817},{"id":1654,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"with_media?","path":"app/models/status.rb","lineno":242,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":215220,"value":"#<Status:0x00007f5e11b418d0>"}},{"id":1655,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"ordered_media_attachments","path":"app/models/status.rb","lineno":271,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":215220,"value":"#<Status:0x00007f5e11b418d0>"}},{"id":1656,"event":"call","thread_id":9960,"defined_class":"Kernel","method_id":"eval","path":"Kernel.eval","static":true,"parameters":[{"name":"string","class":"String","object_id":215440,"value":"            def before_post_process(*args, &blk)\n              set_callback(:post_process, :before,  (...156 more characters)","kind":"req"},{"name":"arg","class":"Array","object_id":215460,"value":"[]","kind":"rest","size":0}],"receiver":{"class":"Class","object_id":215420,"value":"MediaAttachment"}},{"id":1657,"event":"return","thread_id":9960,"parent_id":1656,"elapsed":0.0004314070101827383,"elapsed_instrumentation":0.0004206500016152859,"return_value":{"class":"Symbol","value":":after_post_process","object_id":19100828}},{"id":1658,"event":"call","thread_id":9960,"defined_class":"Kernel","method_id":"eval","path":"Kernel.eval","static":true,"parameters":[{"name":"string","class":"String","object_id":215480,"value":"            def before_file_post_process(*args, &blk)\n              set_callback(:file_post_process, (...176 more characters)","kind":"req"},{"name":"arg","class":"Array","object_id":215500,"value":"[]","kind":"rest","size":0}],"receiver":{"class":"Class","object_id":215420,"value":"MediaAttachment"}},{"id":1659,"event":"return","thread_id":9960,"parent_id":1658,"elapsed":0.00029544701101258397,"elapsed_instrumentation":0.0001830579712986946,"return_value":{"class":"Symbol","value":":after_file_post_process","object_id":22415388}},{"id":1660,"event":"call","thread_id":9960,"defined_class":"Kernel","method_id":"eval","path":"Kernel.eval","static":true,"parameters":[{"name":"string","class":"String","object_id":215520,"value":"            def before_file_validate(*args, &blk)\n              set_callback(:file_validate, :before (...160 more characters)","kind":"req"},{"name":"arg","class":"Array","object_id":215540,"value":"[]","kind":"rest","size":0}],"receiver":{"class":"Class","object_id":215420,"value":"MediaAttachment"}},{"id":1661,"event":"return","thread_id":9960,"parent_id":1660,"elapsed":0.0004145239945501089,"elapsed_instrumentation":0.00016933400183916092,"return_value":{"class":"Symbol","value":":after_file_validate","object_id":22415708}},{"id":1662,"event":"call","thread_id":9960,"defined_class":"Kernel","method_id":"eval","path":"Kernel.eval","static":true,"parameters":[{"name":"string","class":"String","object_id":215560,"value":"            def before_post_process(*args, &blk)\n              set_callback(:post_process, :before,  (...156 more characters)","kind":"req"},{"name":"arg","class":"Array","object_id":215580,"value":"[]","kind":"rest","size":0}],"receiver":{"class":"Class","object_id":215420,"value":"MediaAttachment"}},{"id":1663,"event":"return","thread_id":9960,"parent_id":1662,"elapsed":0.00029711704701185226,"elapsed_instrumentation":0.0004672329523600638,"return_value":{"class":"Symbol","value":":after_post_process","object_id":19100828}},{"id":1664,"event":"call","thread_id":9960,"defined_class":"Kernel","method_id":"eval","path":"Kernel.eval","static":true,"parameters":[{"name":"string","class":"String","object_id":215600,"value":"            def before_thumbnail_post_process(*args, &blk)\n              set_callback(:thumbnail_pos (...196 more characters)","kind":"req"},{"name":"arg","class":"Array","object_id":215620,"value":"[]","kind":"rest","size":0}],"receiver":{"class":"Class","object_id":215420,"value":"MediaAttachment"}},{"id":1665,"event":"return","thread_id":9960,"parent_id":1664,"elapsed":0.0002934689982794225,"elapsed_instrumentation":0.00038362399209290743,"return_value":{"class":"Symbol","value":":after_thumbnail_post_process","object_id":22420508}},{"id":1666,"event":"call","thread_id":9960,"defined_class":"Kernel","method_id":"eval","path":"Kernel.eval","static":true,"parameters":[{"name":"string","class":"String","object_id":215640,"value":"            def before_thumbnail_validate(*args, &blk)\n              set_callback(:thumbnail_validat (...180 more characters)","kind":"req"},{"name":"arg","class":"Array","object_id":215660,"value":"[]","kind":"rest","size":0}],"receiver":{"class":"Class","object_id":215420,"value":"MediaAttachment"}},{"id":1667,"event":"return","thread_id":9960,"parent_id":1666,"elapsed":0.00030743697425350547,"elapsed_instrumentation":0.00041256798431277275,"return_value":{"class":"Symbol","value":":after_thumbnail_validate","object_id":22421148}},{"id":1668,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n       pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n       c.collname, col_description(a.attrelid, a.attnum) AS comment,\n       a.attidentity AS identity,\n       attgenerated as attgenerated\n  FROM pg_attribute a\n  LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n  LEFT JOIN pg_type t ON a.atttypid = t.oid\n  LEFT JOIN pg_collation c ON a.attcollation = c.oid AND a.attcollation <> t.typcollation\n WHERE a.attrelid = '\"media_attachments\"'::regclass\n   AND a.attnum > 0 AND NOT a.attisdropped\n ORDER BY a.attnum\n","database_type":"postgres"}},{"id":1669,"event":"return","thread_id":9960,"parent_id":1668,"elapsed":0.006303989,"elapsed_instrumentation":0.00011580996215343475},{"id":1670,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT a.attname\n  FROM (\n         SELECT indrelid, indkey, generate_subscripts(indkey, 1) idx\n           FROM pg_index\n          WHERE indrelid = '\"media_attachments\"'::regclass\n            AND indisprimary\n       ) i\n  JOIN pg_attribute a\n    ON a.attrelid = i.indrelid\n   AND a.attnum = i.indkey[i.idx]\n ORDER BY i.idx\n","database_type":"postgres"}},{"id":1671,"event":"return","thread_id":9960,"parent_id":1670,"elapsed":0.006141725,"elapsed_instrumentation":0.00017164397286251187},{"id":1672,"event":"return","thread_id":9960,"parent_id":1655,"elapsed":0.22135147399967536,"elapsed_instrumentation":0.0003494190168567002,"return_value":{"class":"ActiveRecord::Associations::CollectionProxy","value":"#<MediaAttachment::ActiveRecord_Associations_CollectionProxy:0x00007f5e115fbd08>","object_id":215700}},{"id":1673,"event":"return","thread_id":9960,"parent_id":1654,"elapsed":0.22282021294813603,"elapsed_instrumentation":0.00017829705029726028},{"id":1674,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"reblog?","path":"app/models/status.rb","lineno":196,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":215220,"value":"#<Status:0x00007f5e11b418d0>"}},{"id":1675,"event":"return","thread_id":9960,"parent_id":1674,"elapsed":0.00024750304874032736,"elapsed_instrumentation":0.0001634999644011259},{"id":1676,"event":"call","thread_id":9960,"defined_class":"StatusLengthValidator","method_id":"validate","path":"app/validators/status_length_validator.rb","lineno":8,"static":false,"parameters":[{"name":"status","class":"Status","object_id":215220,"value":"#<Status:0x00007f5e11b418d0>","kind":"req"}],"receiver":{"class":"StatusLengthValidator","object_id":215720,"value":"#<StatusLengthValidator:0x00007f5e183d73e0>"}},{"id":1677,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"local?","path":"app/models/status.rb","lineno":188,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":215220,"value":"#<Status:0x00007f5e11b418d0>"}},{"id":1678,"event":"return","thread_id":9960,"parent_id":1677,"elapsed":6.414996460080147e-05,"elapsed_instrumentation":6.829004269093275e-05},{"id":1679,"event":"return","thread_id":9960,"parent_id":1676,"elapsed":0.00015768001321703196,"elapsed_instrumentation":0.00022870401153340936},{"id":1680,"event":"call","thread_id":9960,"defined_class":"DisallowedHashtagsValidator","method_id":"validate","path":"app/validators/disallowed_hashtags_validator.rb","lineno":4,"static":false,"parameters":[{"name":"status","class":"Status","object_id":215220,"value":"#<Status:0x00007f5e11b418d0>","kind":"req"}],"receiver":{"class":"DisallowedHashtagsValidator","object_id":215740,"value":"#<DisallowedHashtagsValidator:0x00007f5e183d3d08>"}},{"id":1681,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"local?","path":"app/models/status.rb","lineno":188,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":215220,"value":"#<Status:0x00007f5e11b418d0>"}},{"id":1682,"event":"return","thread_id":9960,"parent_id":1681,"elapsed":6.340100662782788e-05,"elapsed_instrumentation":5.8895035181194544e-05},{"id":1683,"event":"return","thread_id":9960,"parent_id":1680,"elapsed":0.00014399801148101687,"elapsed_instrumentation":0.00017953896895051003},{"id":1684,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"reblog?","path":"app/models/status.rb","lineno":196,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":215220,"value":"#<Status:0x00007f5e11b418d0>"}},{"id":1685,"event":"return","thread_id":9960,"parent_id":1684,"elapsed":6.935966666787863e-06,"elapsed_instrumentation":7.621000986546278e-05},{"id":1686,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"reblog?","path":"app/models/status.rb","lineno":196,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":215220,"value":"#<Status:0x00007f5e11b418d0>"}},{"id":1687,"event":"return","thread_id":9960,"parent_id":1686,"elapsed":4.341010935604572e-06,"elapsed_instrumentation":5.2799005061388016e-05},{"id":1688,"event":"return","thread_id":9960,"parent_id":1645,"elapsed":0.23778258298989385,"elapsed_instrumentation":0.00025044806534424424,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e119bbba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e119bbd58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e119bbe98 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e119bc078 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e119bc1b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e119bc2f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e119bc438 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e119bc578 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e119bc6b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e119bc7f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...18 more items)]","object_id":215760,"size":28}},{"id":1689,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":215340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":215360,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0eeaeed0>"}},{"id":1690,"event":"return","thread_id":9960,"parent_id":1689,"elapsed":3.394030500203371e-06,"elapsed_instrumentation":9.864196181297302e-05,"return_value":{"class":"Array","value":"[]","object_id":215780,"size":0}},{"id":1691,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":215180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":215200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc5e10>"}},{"id":1692,"event":"return","thread_id":9960,"parent_id":1691,"elapsed":1.5260011423379183e-05,"elapsed_instrumentation":9.212200529873371e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e11a46ca0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":215800,"size":1}},{"id":1693,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":215820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":215840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2f88>"}},{"id":1694,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":215860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":215880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2da8>"}},{"id":1695,"event":"return","thread_id":9960,"parent_id":1694,"elapsed":2.2386026103049517e-05,"elapsed_instrumentation":0.00014028395526111126,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0f36e830 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":215900,"size":1}},{"id":1696,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":215920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":215940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2cb8>"}},{"id":1697,"event":"return","thread_id":9960,"parent_id":1696,"elapsed":8.347496623173356e-05,"elapsed_instrumentation":0.00038585596485063434,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0f36d3b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f36d570 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f36d7c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":215960,"size":3}},{"id":1698,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":215920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":215940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2cb8>"}},{"id":1699,"event":"return","thread_id":9960,"parent_id":1698,"elapsed":3.0259834602475166e-06,"elapsed_instrumentation":8.857995271682739e-05,"return_value":{"class":"Array","value":"[]","object_id":215980,"size":0}},{"id":1700,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":215860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":215880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2da8>"}},{"id":1701,"event":"return","thread_id":9960,"parent_id":1700,"elapsed":1.2018950656056404e-05,"elapsed_instrumentation":9.821000276133418e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0f36e6f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":216000,"size":1}},{"id":1702,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":216020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216040,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2a38>"}},{"id":1703,"event":"return","thread_id":9960,"parent_id":1702,"elapsed":2.734013833105564e-06,"elapsed_instrumentation":8.578004781156778e-05,"return_value":{"class":"Array","value":"[]","object_id":216060,"size":0}},{"id":1704,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":216020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216080,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2a88>"}},{"id":1705,"event":"return","thread_id":9960,"parent_id":1704,"elapsed":2.604967448860407e-06,"elapsed_instrumentation":7.531704613938928e-05,"return_value":{"class":"Array","value":"[]","object_id":216100,"size":0}},{"id":1706,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":216120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2768>"}},{"id":1707,"event":"return","thread_id":9960,"parent_id":1706,"elapsed":3.6180135793983936e-06,"elapsed_instrumentation":0.00013121700612828135,"return_value":{"class":"Array","value":"[]","object_id":216160,"size":0}},{"id":1708,"event":"call","thread_id":9960,"sql_query":{"sql":"INSERT INTO \"conversations\" (\"uri\", \"created_at\", \"updated_at\") VALUES ($1, $2, $3) RETURNING \"id\"","database_type":"postgres"}},{"id":1709,"event":"return","thread_id":9960,"parent_id":1708,"elapsed":0.006361299,"elapsed_instrumentation":0.000364683975931257},{"id":1710,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":216180,"value":"  \u001b[1m\u001b[36mConversation Create (6.8ms)\u001b[0m  \u001b[1m\u001b[32mINSERT INTO \"conversations\" (\"uri\", \"created_at (...164 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1711,"event":"return","thread_id":9960,"parent_id":1710,"elapsed":0.0014085200382396579,"elapsed_instrumentation":0.00028388097416609526,"return_value":{"class":"Integer","value":"264","object_id":529}},{"id":1712,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":216120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2768>"}},{"id":1713,"event":"return","thread_id":9960,"parent_id":1712,"elapsed":5.232298281043768e-05,"elapsed_instrumentation":0.00024655298329889774,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0f368840 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":216200,"size":1}},{"id":1714,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":216020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216080,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2a88>"}},{"id":1715,"event":"return","thread_id":9960,"parent_id":1714,"elapsed":6.575020961463451e-06,"elapsed_instrumentation":0.0003108960227109492,"return_value":{"class":"Array","value":"[]","object_id":216220,"size":0}},{"id":1716,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":216020,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216040,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2a38>"}},{"id":1717,"event":"return","thread_id":9960,"parent_id":1716,"elapsed":4.8450310714542866e-06,"elapsed_instrumentation":0.00015676894690841436,"return_value":{"class":"Array","value":"[]","object_id":216240,"size":0}},{"id":1718,"event":"return","thread_id":9960,"parent_id":1693,"elapsed":0.013509012991562486,"elapsed_instrumentation":0.0002283289795741439,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e115f0160 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e115f02a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e115f03e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e115f0520 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e115f0660 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e115f07a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e115f08e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":216260,"size":7}},{"id":1719,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":215820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2fd8>"}},{"id":1720,"event":"return","thread_id":9960,"parent_id":1719,"elapsed":3.9120204746723175e-06,"elapsed_instrumentation":0.00013865897199139,"return_value":{"class":"Array","value":"[]","object_id":216300,"size":0}},{"id":1721,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":216320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e1b88>"}},{"id":1722,"event":"return","thread_id":9960,"parent_id":1721,"elapsed":3.175984602421522e-06,"elapsed_instrumentation":0.00015218299813568592,"return_value":{"class":"Array","value":"[]","object_id":216360,"size":0}},{"id":1723,"event":"call","thread_id":9960,"defined_class":"Mastodon::Snowflake::Callbacks","method_id":"around_create","path":"lib/mastodon/snowflake.rb","lineno":7,"static":true,"parameters":[{"name":"record","class":"Status","object_id":215220,"value":"#<Status:0x00007f5e11b418d0>","kind":"req"}],"receiver":{"class":"Class","object_id":216380,"value":"Mastodon::Snowflake::Callbacks"}},{"id":1724,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":216320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e1c28>"}},{"id":1725,"event":"return","thread_id":9960,"parent_id":1724,"elapsed":5.442008841782808e-06,"elapsed_instrumentation":0.00018131296383216977,"return_value":{"class":"Array","value":"[]","object_id":216420,"size":0}},{"id":1726,"event":"call","thread_id":9960,"sql_query":{"sql":"INSERT INTO \"statuses\" (\"uri\", \"text\", \"created_at\", \"updated_at\", \"in_reply_to_id\", \"reblog_of_id\", \"url\", \"sensitive\", \"visibility\", \"spoiler_text\", \"reply\", \"language\", \"conversation_id\", \"local\", \"account_id\", \"application_id\", \"in_reply_to_account_id\", \"poll_id\", \"deleted_at\", \"edited_at\", \"trendable\", \"ordered_media_attachment_ids\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22) RETURNING \"id\"","database_type":"postgres"}},{"id":1727,"event":"return","thread_id":9960,"parent_id":1726,"elapsed":0.015898222,"elapsed_instrumentation":0.00013574102194979787},{"id":1728,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":216440,"value":"  \u001b[1m\u001b[36mStatus Create (16.1ms)\u001b[0m  \u001b[1m\u001b[32mINSERT INTO \"statuses\" (\"uri\", \"text\", \"created_at\", (...1044 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1729,"event":"return","thread_id":9960,"parent_id":1728,"elapsed":0.002051705028861761,"elapsed_instrumentation":0.0004067579284310341,"return_value":{"class":"Integer","value":"1144","object_id":2289}},{"id":1730,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":216320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e1c28>"}},{"id":1731,"event":"return","thread_id":9960,"parent_id":1730,"elapsed":6.403017323464155e-06,"elapsed_instrumentation":0.00021150795510038733,"return_value":{"class":"Array","value":"[]","object_id":216460,"size":0}},{"id":1732,"event":"return","thread_id":9960,"parent_id":1723,"elapsed":0.022525923035573214,"elapsed_instrumentation":0.0004662869614548981,"return_value":{"class":"Integer","value":"111362556645870642","object_id":222725113291741285}},{"id":1733,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":216320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e1b88>"}},{"id":1734,"event":"call","thread_id":9960,"defined_class":"RateLimitable","method_id":"rate_limit?","path":"app/models/concerns/rate_limitable.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":215220,"value":"#<Status:0x00007f5e11b418d0>"}},{"id":1735,"event":"return","thread_id":9960,"parent_id":1734,"elapsed":6.137008313089609e-06,"elapsed_instrumentation":0.00018247694242745638},{"id":1736,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n       pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n       c.collname, col_description(a.attrelid, a.attnum) AS comment,\n       a.attidentity AS identity,\n       attgenerated as attgenerated\n  FROM pg_attribute a\n  LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n  LEFT JOIN pg_type t ON a.atttypid = t.oid\n  LEFT JOIN pg_collation c ON a.attcollation = c.oid AND a.attcollation <> t.typcollation\n WHERE a.attrelid = '\"polls\"'::regclass\n   AND a.attnum > 0 AND NOT a.attisdropped\n ORDER BY a.attnum\n","database_type":"postgres"}},{"id":1737,"event":"return","thread_id":9960,"parent_id":1736,"elapsed":0.004883087,"elapsed_instrumentation":0.00011180900037288666},{"id":1738,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT a.attname\n  FROM (\n         SELECT indrelid, indkey, generate_subscripts(indkey, 1) idx\n           FROM pg_index\n          WHERE indrelid = '\"polls\"'::regclass\n            AND indisprimary\n       ) i\n  JOIN pg_attribute a\n    ON a.attrelid = i.indrelid\n   AND a.attnum = i.indkey[i.idx]\n ORDER BY i.idx\n","database_type":"postgres"}},{"id":1739,"event":"return","thread_id":9960,"parent_id":1738,"elapsed":0.006038129,"elapsed_instrumentation":0.0001656830427236855},{"id":1740,"event":"return","thread_id":9960,"parent_id":1733,"elapsed":0.09971759998006746,"elapsed_instrumentation":0.0006502760224975646,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0f360be0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f360a28 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f360848 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f360690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f3604d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f360320 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f360168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f386408 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f38feb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f38fd00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...14 more items)]","object_id":216580,"size":24}},{"id":1741,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":215820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2fd8>"}},{"id":1742,"event":"return","thread_id":9960,"parent_id":1741,"elapsed":4.441011697053909e-06,"elapsed_instrumentation":0.0001544999540783465,"return_value":{"class":"Array","value":"[]","object_id":216600,"size":0}},{"id":1743,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":215820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":215840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2f88>"}},{"id":1744,"event":"call","thread_id":9960,"defined_class":"Chewy::IndexExtensions","method_id":"index_preset","path":"lib/chewy/index_extensions.rb","lineno":5,"static":true,"parameters":[{"name":"base_options","class":"Hash","object_id":216620,"value":"{:refresh_interval=>30s, :number_of_shards=>5}","kind":"opt","size":2}],"receiver":{"class":"Class","object_id":216640,"value":"StatusesIndex"}},{"id":1745,"event":"return","thread_id":9960,"parent_id":1744,"elapsed":1.3944983948022127e-05,"elapsed_instrumentation":0.0006032120436429977,"return_value":{"class":"Hash","value":"{:refresh_interval=>30s, :number_of_shards=>5, :number_of_replicas=>0}","object_id":216660,"size":3}},{"id":1746,"event":"call","thread_id":9960,"defined_class":"Chewy::IndexExtensions","method_id":"index_preset","path":"lib/chewy/index_extensions.rb","lineno":5,"static":true,"parameters":[{"name":"base_options","class":"Hash","object_id":216700,"value":"{:refresh_interval=>30s, :number_of_shards=>5}","kind":"opt","size":2}],"receiver":{"class":"Class","object_id":216720,"value":"PublicStatusesIndex"}},{"id":1747,"event":"return","thread_id":9960,"parent_id":1746,"elapsed":1.2478034477680922e-05,"elapsed_instrumentation":0.0003304840065538883,"return_value":{"class":"Hash","value":"{:refresh_interval=>30s, :number_of_shards=>5, :number_of_replicas=>0}","object_id":216740,"size":3}},{"id":1748,"event":"return","thread_id":9960,"parent_id":1743,"elapsed":0.028195779013913125,"elapsed_instrumentation":0.0002001129905693233,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0f36ff78 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":216780,"size":1}},{"id":1749,"event":"call","thread_id":9960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1750,"event":"return","thread_id":9960,"parent_id":1749,"elapsed":0.000458127,"elapsed_instrumentation":0.00015808205353096128},{"id":1751,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":216800,"value":"  \u001b[1m\u001b[36mTRANSACTION (0.8ms)\u001b[0m  \u001b[1m\u001b[35mRELEASE SAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1752,"event":"return","thread_id":9960,"parent_id":1751,"elapsed":0.001940392015967518,"elapsed_instrumentation":0.0002737950417213142,"return_value":{"class":"Integer","value":"83","object_id":167}},{"id":1753,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":216840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f3bc850>"}},{"id":1754,"event":"return","thread_id":9960,"parent_id":1753,"elapsed":8.18201806396246e-06,"elapsed_instrumentation":0.0005566689651459455,"return_value":{"class":"Array","value":"[]","object_id":216880,"size":0}},{"id":1755,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":216840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f3bc850>"}},{"id":1756,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"local?","path":"app/models/status.rb","lineno":188,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":215220,"value":"#<Status:0x00007f5e11b418d0>"}},{"id":1757,"event":"return","thread_id":9960,"parent_id":1756,"elapsed":0.0002296429593116045,"elapsed_instrumentation":0.00013930798741057515},{"id":1758,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"local?","path":"app/models/status.rb","lineno":188,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":215220,"value":"#<Status:0x00007f5e11b418d0>"}},{"id":1759,"event":"return","thread_id":9960,"parent_id":1758,"elapsed":8.55129910632968e-05,"elapsed_instrumentation":0.0001726619666442275},{"id":1760,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17227228,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":209040,"value":"#<Account:0x00007f5e0e667588>"}},{"id":1761,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17227228,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":209040,"value":"#<Account:0x00007f5e0e667588>"}},{"id":1762,"event":"call","thread_id":9960,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111362556645914248, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":1763,"event":"return","thread_id":9960,"parent_id":1762,"elapsed":0.001956345,"elapsed_instrumentation":0.0001318500144407153},{"id":1764,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":216900,"value":"  \u001b[1m\u001b[35mSQL (2.1ms)\u001b[0m  \u001b[1m\u001b[32mINSERT INTO account_stats(account_id, statuses_count, created_a (...234 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1765,"event":"return","thread_id":9960,"parent_id":1764,"elapsed":0.0015836289967410266,"elapsed_instrumentation":0.0002636680146679282,"return_value":{"class":"Integer","value":"334","object_id":669}},{"id":1766,"event":"return","thread_id":9960,"parent_id":1761,"elapsed":0.004974179028067738,"elapsed_instrumentation":0.00018979900050908327},{"id":1767,"event":"return","thread_id":9960,"parent_id":1760,"elapsed":0.005206813977565616,"elapsed_instrumentation":0.0002101550344377756},{"id":1768,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"reblog?","path":"app/models/status.rb","lineno":196,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":215220,"value":"#<Status:0x00007f5e11b418d0>"}},{"id":1769,"event":"return","thread_id":9960,"parent_id":1768,"elapsed":1.5542027540504932e-05,"elapsed_instrumentation":0.00013880996266379952},{"id":1770,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"local?","path":"app/models/status.rb","lineno":188,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":215220,"value":"#<Status:0x00007f5e11b418d0>"}},{"id":1771,"event":"return","thread_id":9960,"parent_id":1770,"elapsed":9.004800813272595e-05,"elapsed_instrumentation":0.0001418149913661182},{"id":1772,"event":"return","thread_id":9960,"parent_id":1755,"elapsed":0.007111262995749712,"elapsed_instrumentation":0.00030670303385704756,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0f1af030 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f1aee00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f1aec48 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f1aea90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f1ae8d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f1ae720 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":216920,"size":6}},{"id":1773,"event":"call","thread_id":9960,"defined_class":"ActivityPub::FetchRepliesWorker","method_id":"perform","path":"app/workers/activitypub/fetch_replies_worker.rb","lineno":9,"static":false,"parameters":[{"name":"parent_status_id","class":"Integer","object_id":222725113291741285,"value":"111362556645870642","kind":"req"},{"name":"replies_uri","class":"String","object_id":216940,"value":"https://example.com/statuses_replies/1","kind":"req"},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::FetchRepliesWorker","object_id":216960,"value":"#<ActivityPub::FetchRepliesWorker:0x00007f5e1214b8e8>"}},{"id":1774,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"statuses\".* FROM \"statuses\" WHERE \"statuses\".\"deleted_at\" IS NULL AND \"statuses\".\"id\" = $1 ORDER BY \"statuses\".\"id\" DESC LIMIT $2","database_type":"postgres"}},{"id":1775,"event":"return","thread_id":9960,"parent_id":1774,"elapsed":0.001492538,"elapsed_instrumentation":0.00012003601295873523},{"id":1776,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":216980,"value":"  \u001b[1m\u001b[36mStatus Load (1.6ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"statuses\".* FROM \"statuses\" WHERE \"statuses\".\"d (...131 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1777,"event":"return","thread_id":9960,"parent_id":1776,"elapsed":0.0016984300455078483,"elapsed_instrumentation":0.00023877801140770316,"return_value":{"class":"Integer","value":"231","object_id":463}},{"id":1778,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1779,"event":"return","thread_id":9960,"parent_id":1778,"elapsed":0.001250118,"elapsed_instrumentation":9.313103510066867e-05},{"id":1780,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":217000,"value":"  \u001b[1m\u001b[36mAccount Load (1.4ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accoun (...1364 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1781,"event":"return","thread_id":9960,"parent_id":1780,"elapsed":0.002477868983987719,"elapsed_instrumentation":0.00027355406200513244,"return_value":{"class":"Integer","value":"1464","object_id":2929}},{"id":1782,"event":"call","thread_id":9960,"defined_class":"JsonLdHelper","method_id":"non_matching_uri_hosts?","path":"app/helpers/jsonld_helper.rb","lineno":66,"static":false,"parameters":[{"name":"base_url","class":"String","object_id":217020,"value":"https://example.com/users/yevette_will2","kind":"req"},{"name":"comparison_url","class":"String","object_id":216940,"value":"https://example.com/statuses_replies/1","kind":"req"}],"receiver":{"class":"ActivityPub::FetchRepliesService","object_id":217040,"value":"#<ActivityPub::FetchRepliesService:0x00007f5e0f1a4e28>"}},{"id":1783,"event":"call","thread_id":9960,"defined_class":"JsonLdHelper","method_id":"unsupported_uri_scheme?","path":"app/helpers/jsonld_helper.rb","lineno":62,"static":false,"parameters":[{"name":"uri","class":"String","object_id":216940,"value":"https://example.com/statuses_replies/1","kind":"req"}],"receiver":{"class":"ActivityPub::FetchRepliesService","object_id":217040,"value":"#<ActivityPub::FetchRepliesService:0x00007f5e0f1a4e28>"}},{"id":1784,"event":"return","thread_id":9960,"parent_id":1783,"elapsed":6.606976967304945e-06,"elapsed_instrumentation":0.000255582039244473},{"id":1785,"event":"return","thread_id":9960,"parent_id":1782,"elapsed":0.00043124600779265165,"elapsed_instrumentation":0.00025440898025408387},{"id":1786,"event":"call","thread_id":9960,"defined_class":"JsonLdHelper","method_id":"fetch_resource_without_id_validation","path":"app/helpers/jsonld_helper.rb","lineno":171,"static":false,"parameters":[{"name":"uri","class":"String","object_id":216940,"value":"https://example.com/statuses_replies/1","kind":"req"},{"name":"on_behalf_of","class":"NilClass","object_id":4,"value":null,"kind":"opt"},{"name":"raise_on_temporary_error","class":"TrueClass","object_id":20,"value":"true","kind":"opt"}],"receiver":{"class":"ActivityPub::FetchRepliesService","object_id":217040,"value":"#<ActivityPub::FetchRepliesService:0x00007f5e0f1a4e28>"}},{"id":1787,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1788,"event":"return","thread_id":9960,"parent_id":1787,"elapsed":0.001037599,"elapsed_instrumentation":0.0002818870125338435},{"id":1789,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":217060,"value":"  \u001b[1m\u001b[36mAccount Load (1.3ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accoun (...1349 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1790,"event":"return","thread_id":9960,"parent_id":1789,"elapsed":0.00132980098715052,"elapsed_instrumentation":0.00037853303365409374,"return_value":{"class":"Integer","value":"1449","object_id":2899}},{"id":1791,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"ensure_keys!","path":"app/models/account.rb","lineno":478,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":217080,"value":"#<Account:0x00007f5e0e817310>"}},{"id":1792,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":217080,"value":"#<Account:0x00007f5e0e817310>"}},{"id":1793,"event":"return","thread_id":9960,"parent_id":1792,"elapsed":2.0831997971981764e-05,"elapsed_instrumentation":0.0001221710117533803,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1794,"event":"return","thread_id":9960,"parent_id":1791,"elapsed":0.00019273499492555857,"elapsed_instrumentation":0.00011840899242088199},{"id":1795,"event":"call","thread_id":9960,"defined_class":"JsonLdHelper","method_id":"build_request","path":"app/helpers/jsonld_helper.rb","lineno":207,"static":false,"parameters":[{"name":"uri","class":"String","object_id":216940,"value":"https://example.com/statuses_replies/1","kind":"req"},{"name":"on_behalf_of","class":"Account","object_id":217080,"value":"#<Account:0x00007f5e0e817310>","kind":"opt"}],"receiver":{"class":"ActivityPub::FetchRepliesService","object_id":217040,"value":"#<ActivityPub::FetchRepliesService:0x00007f5e0f1a4e28>"}},{"id":1796,"event":"call","thread_id":9960,"defined_class":"Mastodon::Version","method_id":"user_agent","path":"lib/mastodon/version.rb","lineno":67,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":172680,"value":"4.3.0-alpha.0"}},{"id":1797,"event":"return","thread_id":9960,"parent_id":1796,"elapsed":3.0120136216282845e-06,"elapsed_instrumentation":0.00021330593153834343,"return_value":{"class":"String","value":"http.rb/5.1.1 (Mastodon/4.3.0-alpha.0; +https://cb6e6126.ngrok.io/)","object_id":172740}},{"id":1798,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"on_behalf_of","path":"app/lib/request.rb","lineno":91,"static":false,"parameters":[{"name":"actor","class":"Account","object_id":217080,"value":"#<Account:0x00007f5e0e817310>","kind":"req"},{"name":"sign_with","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Request","object_id":217100,"value":"#<Request:0x00007f5e0f3b9880>"}},{"id":1799,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"keypair","path":"app/models/account.rb","lineno":293,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":217080,"value":"#<Account:0x00007f5e0e817310>"}},{"id":1800,"event":"return","thread_id":9960,"parent_id":1799,"elapsed":0.0004258289700374007,"elapsed_instrumentation":0.00022213603369891644,"return_value":{"class":"OpenSSL::PKey::RSA","value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEAwOoRZ/kKHE6l6rFVXMcYXjVHGdSO42IN8MpouM+PkpAAieMD\nz6t","object_id":217120}},{"id":1801,"event":"return","thread_id":9960,"parent_id":1798,"elapsed":0.0006883039604872465,"elapsed_instrumentation":0.0001775100245140493,"return_value":{"class":"Request","value":"#<Request:0x00007f5e0f3b9880>","object_id":217100}},{"id":1802,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"add_headers","path":"app/lib/request.rb","lineno":100,"static":false,"parameters":[{"name":"new_headers","class":"Hash","object_id":217140,"value":"{Accept=>application/activity+json, application/ld+json}","kind":"req","size":1}],"receiver":{"class":"Request","object_id":217100,"value":"#<Request:0x00007f5e0f3b9880>"}},{"id":1803,"event":"return","thread_id":9960,"parent_id":1802,"elapsed":8.270028047263622e-06,"elapsed_instrumentation":0.00020696496358141303,"return_value":{"class":"Request","value":"#<Request:0x00007f5e0f3b9880>","object_id":217100}},{"id":1804,"event":"return","thread_id":9960,"parent_id":1795,"elapsed":0.002043822023551911,"elapsed_instrumentation":0.00017666799249127507,"return_value":{"class":"Request","value":"#<Request:0x00007f5e0f3b9880>","object_id":217100}},{"id":1805,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"perform","path":"app/lib/request.rb","lineno":105,"static":false,"parameters":[],"receiver":{"class":"Request","object_id":217100,"value":"#<Request:0x00007f5e0f3b9880>"}},{"id":1806,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"http_client","path":"app/lib/request.rb","lineno":141,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":33060,"value":"Request"}},{"id":1807,"event":"return","thread_id":9960,"parent_id":1806,"elapsed":8.1869016867131e-05,"elapsed_instrumentation":0.0002937230165116489,"return_value":{"class":"HTTP::Client","value":"#<HTTP::Client:0x00007f5e0f16e120>","object_id":217160}},{"id":1808,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"headers","path":"app/lib/request.rb","lineno":126,"static":false,"parameters":[],"receiver":{"class":"Request","object_id":217100,"value":"#<Request:0x00007f5e0f3b9880>"}},{"id":1809,"event":"call","thread_id":9960,"defined_class":"OpenSSL::PKey::PKey","method_id":"sign","path":"OpenSSL::PKey::PKey#sign","static":false,"parameters":[{"name":"arg","class":"Array","object_id":217180,"value":"[e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855, (request-target): get /statuses_replies/1\nhost: example.com\ndate: Mon, 06 Nov 2023 08:02:42 GMT\nacce (...50 more characters)]","kind":"rest","size":2}],"receiver":{"class":"OpenSSL::PKey::RSA","object_id":217120,"value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEAwOoRZ/kKHE6l6rFVXMcYXjVHGdSO42IN8MpouM+PkpAAieMD\nz6t"}},{"id":1810,"event":"return","thread_id":9960,"parent_id":1809,"elapsed":0.002802286995574832,"elapsed_instrumentation":0.00036962900776416063,"return_value":{"class":"String","value":"N_1_#_ _O___\\_[Dcky_A_\u00036_^\u0018_A\u0015__\t_\u0013>__K_EU\u0005__\f_____!I____f__\u0002__c_Lm+_m\u0005___y\u001a_(6__J72_z_u\u0015_\u0012_C\"J8;R\u0017 (...156 more characters)","object_id":217200}},{"id":1811,"event":"call","thread_id":9960,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":207640,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":217220,"value":"[N_1_#_ _O___\\_[Dcky_A_\u00036_^\u0018_A\u0015__\t_\u0013>__K_EU\u0005__\f_____!I____f__\u0002__c_Lm+_m\u0005___y\u001a_(6__J72_z_u\u0015_\u0012_C\"J8;R\u0017 (...156 more characters)]"}},{"id":1812,"event":"return","thread_id":9960,"parent_id":1811,"elapsed":0.00019783299649134278,"elapsed_instrumentation":0.000248184020165354,"return_value":{"class":"String","value":"TuAx5CPNIO1P3afyXLx/W0Rja3m5QdYDNrleGNFBFZH6CfoTPomtS7tFVQWFiQyAmF/lrCFJ2riT/GbEiQKYmmOXTG0rj20Flfvy (...244 more characters)","object_id":217240}},{"id":1813,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"key_uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":53,"static":false,"parameters":[{"name":"target","class":"Account","object_id":217080,"value":"#<Account:0x00007f5e0e817310>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":1814,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":217080,"value":"#<Account:0x00007f5e0e817310>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":1815,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":217080,"value":"#<Account:0x00007f5e0e817310>"}},{"id":1816,"event":"return","thread_id":9960,"parent_id":1815,"elapsed":1.5764962881803513e-05,"elapsed_instrumentation":9.303196566179395e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1817,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":217080,"value":"#<Account:0x00007f5e0e817310>"}},{"id":1818,"event":"return","thread_id":9960,"parent_id":1817,"elapsed":5.577050615102053e-06,"elapsed_instrumentation":0.00011961697600781918,"return_value":{"class":"Symbol","value":":person","object_id":20695068}},{"id":1819,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":217080,"value":"#<Account:0x00007f5e0e817310>"}},{"id":1820,"event":"return","thread_id":9960,"parent_id":1819,"elapsed":2.088898327201605e-05,"elapsed_instrumentation":8.041103137657046e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1821,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":1822,"event":"return","thread_id":9960,"parent_id":1821,"elapsed":5.25603536516428e-06,"elapsed_instrumentation":0.00017266999930143356,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":1823,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":1824,"event":"return","thread_id":9960,"parent_id":1823,"elapsed":2.9570073820650578e-06,"elapsed_instrumentation":0.00010820903116837144,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":1825,"event":"return","thread_id":9960,"parent_id":1814,"elapsed":0.0010554580367170274,"elapsed_instrumentation":0.00021972897229716182,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/actor","object_id":217260}},{"id":1826,"event":"return","thread_id":9960,"parent_id":1813,"elapsed":0.0013002179912291467,"elapsed_instrumentation":0.00017928803572431207,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/actor#main-key","object_id":217280}},{"id":1827,"event":"return","thread_id":9960,"parent_id":1808,"elapsed":0.00529302895301953,"elapsed_instrumentation":0.00018879200797528028,"return_value":{"class":"Hash","value":"{User-Agent=>http.rb/5.1.1 (Mastodon/4.3.0-alpha.0; +https://cb6e6126.ngrok.io/), Host=>example.com, Date=>Mon, 06 Nov 2023 08:02:42 GMT, Accept-Encoding=>gzip, Accept=>application/activity+json, application/ld+json, Signature=>keyId=\"https://cb6e6126.ngrok.io/actor#main-key\",algorithm=\"rsa-sha256\",headers=\"(request-target) ho (...372 more characters)}","object_id":217300,"size":6}},{"id":1828,"event":"call","thread_id":9960,"defined_class":"JsonLdHelper","method_id":"response_successful?","path":"app/helpers/jsonld_helper.rb","lineno":199,"static":false,"parameters":[{"name":"response","class":"HTTP::Response","object_id":217360,"value":"{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://example.com/statuses_replies/1\",\"t","kind":"req"}],"receiver":{"class":"ActivityPub::FetchRepliesService","object_id":217040,"value":"#<ActivityPub::FetchRepliesService:0x00007f5e0f1a4e28>"}},{"id":1829,"event":"return","thread_id":9960,"parent_id":1828,"elapsed":1.2301024980843067e-05,"elapsed_instrumentation":0.00023786997189745307,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1830,"event":"call","thread_id":9960,"defined_class":"Request::ClientLimit","method_id":"body_with_limit","path":"app/lib/request.rb","lineno":227,"static":false,"parameters":[{"name":"limit","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"HTTP::Response","object_id":217360,"value":"{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://example.com/statuses_replies/1\",\"t"}},{"id":1831,"event":"call","thread_id":9960,"defined_class":"Request::ClientLimit","method_id":"truncated_body","path":"app/lib/request.rb","lineno":204,"static":false,"parameters":[{"name":"limit","class":"Integer","object_id":2097153,"value":"1048576","kind":"opt"}],"receiver":{"class":"HTTP::Response","object_id":217360,"value":"{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://example.com/statuses_replies/1\",\"t"}},{"id":1832,"event":"return","thread_id":9960,"parent_id":1831,"elapsed":0.00020084501011297107,"elapsed_instrumentation":0.00019062496721744537,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":217380,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":1833,"event":"return","thread_id":9960,"parent_id":1830,"elapsed":0.00045821303501725197,"elapsed_instrumentation":0.00014270399697124958,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":217380,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":1834,"event":"return","thread_id":9960,"parent_id":1805,"elapsed":0.00973264902131632,"elapsed_instrumentation":0.0001458289916627109,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":217380,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":1835,"event":"return","thread_id":9960,"parent_id":1786,"elapsed":0.017321399005595595,"elapsed_instrumentation":0.00013104308163747191,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":217380,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":1836,"event":"return","thread_id":9960,"parent_id":1773,"elapsed":0.033766166015993804,"elapsed_instrumentation":0.0003535390133038163,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":217380,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]}]}