{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"50d0a0445fe1bf0ac82032f1958ae8e614b2ebd3","status":["M .env.test","M .husky/pre-commit","M appmap/rspec/API_routes_Account_routes_routes_to_followers/appmap-findings.json","M appmap/rspec/API_routes_Account_routes_routes_to_search/appmap-findings.json","M appmap/rspec/API_routes_Account_routes_routes_to_statuses/appmap-findings.json","M appmap/rspec/API_routes_Credentials_routes_routes_to_update_credentials/appmap-findings.json","M appmap/rspec/API_routes_Credentials_routes_routes_to_verify_credentials/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_favourite/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_favourited_by/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_mute/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_reblog/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_reblogged_by/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_unfavourite/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_unmute/appmap-findings.json","M appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_name_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_redirect_uris_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_website_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_an_unsupported_scope_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_many_duplicate_scopes_only_saves_the_scope_once.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_valid_params_creates_an_OAuth_app.appmap.json","?? appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_name_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_redirect_uris_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_website_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_an_unsupported_scope_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_many_duplicate_scopes_only_saves_the_scope_once/","?? appmap/rspec/Apps_POST_api_v1_apps_with_valid_params_creates_an_OAuth_app/","?? appmap/rspec/Apps_POST_api_v1_apps_without_required_params_returns_http_unprocessable_entity/","?? appmap/rspec/Auth_ChallengesController_POST_create_with_correct_password_redirects_back/"],"git_last_annotated_tag":"0.1.2-14643-g50d0a0445fe1bf0ac82032f1958ae8e614b2ebd3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"Api::V2::SearchController with token GET #index when searching accounts with following=true returns only the followed accounts","source_location":"spec/controllers/api/v2/search_controller_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"failed","test_failure":{"message":"expected collection contained:  [\"111362556505029262\"]\nactual collection contained:    []\nthe missing elements were:      [\"111362556505029262\"]\n","location":"spec/controllers/api/v2/search_controller_spec.rb:47"},"exception":{"class":"RSpec::Expectations::ExpectationNotMetError","message":"expected collection contained:  [\"111362556505029262\"]\nactual collection contained:    []\nthe missin (...45 more characters)"}},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"app","type":"package","children":[{"name":"controllers","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"Localized","type":"class","children":[{"name":"set_locale","type":"function","location":"app/controllers/concerns/localized.rb:10","static":false}]},{"name":"CacheConcern","type":"class","children":[{"name":"enforce_cache_control!","type":"function","location":"app/controllers/concerns/cache_concern.rb:165","static":false}]}]},{"name":"api","type":"package","children":[{"name":"Api","type":"class","children":[{"name":"BaseController","type":"class","children":[{"name":"current_user","type":"function","location":"app/controllers/api/base_controller.rb:116","static":false},{"name":"current_resource_owner","type":"function","location":"app/controllers/api/base_controller.rb:112","static":false},{"name":"disallow_unauthenticated_api_access?","type":"function","location":"app/controllers/api/base_controller.rb:152","static":false},{"name":"require_not_suspended!","type":"function","location":"app/controllers/api/base_controller.rb:126","static":false},{"name":"authorize_if_got_token!","type":"function","location":"app/controllers/api/base_controller.rb:148","static":false},{"name":"limit_param","type":"function","location":"app/controllers/api/base_controller.rb:102","static":false}]}]},{"name":"v2","type":"package","children":[{"name":"Api","type":"class","children":[{"name":"V2","type":"class","children":[{"name":"SearchController","type":"class","children":[{"name":"index","type":"function","location":"app/controllers/api/v2/search_controller.rb:11","static":false}]}]}]}]}]},{"name":"ApplicationController","type":"class","children":[{"name":"current_session","type":"function","location":"app/controllers/application_controller.rb:153","static":false},{"name":"check_self_destruct!","type":"function","location":"app/controllers/application_controller.rb:176","static":false},{"name":"set_cache_control_defaults","type":"function","location":"app/controllers/application_controller.rb:185","static":false},{"name":"current_account","type":"function","location":"app/controllers/application_controller.rb:147","static":false},{"name":"truthy_param?","type":"function","location":"app/controllers/application_controller.rb:91","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"AccessTokenExtension","type":"class","children":[{"name":"push_to_streaming_api","type":"function","location":"app/lib/access_token_extension.rb:20","static":false},{"name":"update_last_used","type":"function","location":"app/lib/access_token_extension.rb:16","static":false}]},{"name":"TagManager","type":"class","children":[{"name":"local_domain?","type":"function","location":"app/lib/tag_manager.rb:13","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"SelfDestructHelper","type":"class","children":[{"name":"self_destruct?","type":"function","location":"app/helpers/self_destruct_helper.rb:11","static":false}]},{"name":"DomainControlHelper","type":"class","children":[{"name":"limited_federation_mode?","type":"function","location":"app/helpers/domain_control_helper.rb:20","static":false}]}]},{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"suspended?","type":"function","location":"app/models/account.rb:237","static":false}]}]},{"name":"services","type":"package","children":[{"name":"AccountSearchService","type":"class","children":[{"name":"QueryBuilder","type":"class","children":[{"name":"build","type":"function","location":"app/services/account_search_service.rb:18","static":false}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"Array","type":"class","children":[{"name":"pack","type":"function","location":"<internal:pack>:7","static":false,"labels":["array.pack"]}]}]},{"name":"lib/chewy","type":"package","children":[{"name":"Chewy","type":"class","children":[{"name":"SettingsExtensions","type":"class","children":[{"name":"enabled?","type":"function","location":"lib/chewy/settings_extensions.rb:5","static":true}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]}],"events":[{"id":923,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":203640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":77500,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12beb4b0>"}},{"id":924,"event":"return","thread_id":9960,"parent_id":923,"elapsed":0.00010345404734835029,"elapsed_instrumentation":0.00026112596970051527,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e12bd31f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12bd3338 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12bd34a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12bd3658 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":77520,"size":4}},{"id":925,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":203640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":77500,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12beb4b0>"}},{"id":926,"event":"return","thread_id":9960,"parent_id":925,"elapsed":3.3609685488045216e-06,"elapsed_instrumentation":8.943304419517517e-05,"return_value":{"class":"Array","value":"[]","object_id":77540,"size":0}},{"id":927,"event":"call","thread_id":9960,"http_server_request":{"request_method":"GET","path_info":"/api/v2/search","normalized_path_info":"/api/v2/search","headers":{"Host":"test.host","User-Agent":"Rails Testing"}},"message":[{"name":"following","class":"String","value":"true","object_id":204540},{"name":"q","class":"String","value":"test","object_id":204560},{"name":"type","class":"String","value":"accounts","object_id":204580},{"name":"controller","class":"String","value":"api/v2/search","object_id":200640},{"name":"action","class":"String","value":"index","object_id":204600}]},{"id":928,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":203660,"value":"Processing by Api::V2::SearchController#index as HTML\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":929,"event":"return","thread_id":9960,"parent_id":928,"elapsed":0.0019777650013566017,"elapsed_instrumentation":0.00017799896886572242,"return_value":{"class":"Integer","value":"54","object_id":109}},{"id":930,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":203680,"value":"  Parameters: {\"following\"=>\"true\", \"q\"=>\"test\", \"type\"=>\"accounts\"}\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":931,"event":"return","thread_id":9960,"parent_id":930,"elapsed":0.0012311019818298519,"elapsed_instrumentation":0.00037116598105058074,"return_value":{"class":"Integer","value":"69","object_id":139}},{"id":932,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":203700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":189820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11b6eb50>"}},{"id":933,"event":"return","thread_id":9960,"parent_id":932,"elapsed":5.46604860574007e-06,"elapsed_instrumentation":0.0001437189639545977,"return_value":{"class":"Array","value":"[]","object_id":189840,"size":0}},{"id":934,"event":"call","thread_id":9960,"defined_class":"Localized","method_id":"set_locale","path":"app/controllers/concerns/localized.rb","lineno":10,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":935,"event":"call","thread_id":9960,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":936,"event":"call","thread_id":9960,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":937,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":203740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":198600,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11973ad0>"}},{"id":938,"event":"call","thread_id":9960,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":198620,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":203760,"value":"[\u000e_\u0012q___gy?_8___\t_%_5_BU__\u001f____f_]"}},{"id":939,"event":"return","thread_id":9960,"parent_id":938,"elapsed":9.943032637238503e-06,"elapsed_instrumentation":0.0004413540009409189,"return_value":{"class":"String","value":"DvsScd7immd5P/k4p7bFCawljjWxQlXz/R/5mpOqZsY=","object_id":203780}},{"id":940,"event":"return","thread_id":9960,"parent_id":937,"elapsed":0.000845095026306808,"elapsed_instrumentation":0.00028262397972866893,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e1191aea8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1191afe8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1191b1a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":198680,"size":3}},{"id":941,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":203800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":198720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e119734e0>"}},{"id":942,"event":"call","thread_id":9960,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":943,"event":"return","thread_id":9960,"parent_id":942,"elapsed":0.000583972,"elapsed_instrumentation":9.76019655354321e-05},{"id":944,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":203820,"value":"  \u001b[1m\u001b[36mTRANSACTION (0.7ms)\u001b[0m  \u001b[1m\u001b[35mSAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":945,"event":"return","thread_id":9960,"parent_id":944,"elapsed":0.0010592289618216455,"elapsed_instrumentation":0.00016385503113269806,"return_value":{"class":"Integer","value":"75","object_id":151}},{"id":946,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"oauth_access_tokens\" WHERE \"oauth_access_tokens\".\"token\" = $1 LIMIT $2","database_type":"postgres"}},{"id":947,"event":"return","thread_id":9960,"parent_id":946,"elapsed":0.002857495,"elapsed_instrumentation":8.280400652438402e-05},{"id":948,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":203840,"value":"  \u001b[1m\u001b[36mDoorkeeper::AccessToken Exists? (3.0ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"oauth_access_ (...136 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":949,"event":"return","thread_id":9960,"parent_id":948,"elapsed":0.00160191796021536,"elapsed_instrumentation":0.00015437003457918763,"return_value":{"class":"Integer","value":"236","object_id":473}},{"id":950,"event":"return","thread_id":9960,"parent_id":941,"elapsed":0.005826390988659114,"elapsed_instrumentation":0.0001897040638141334,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e11917370 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11917528 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11917708 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e119178e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":198780,"size":4}},{"id":951,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":203800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":198720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e119734e0>"}},{"id":952,"event":"return","thread_id":9960,"parent_id":951,"elapsed":3.7850113585591316e-06,"elapsed_instrumentation":0.00011659902520477772,"return_value":{"class":"Array","value":"[]","object_id":198800,"size":0}},{"id":953,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":203740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":198600,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11973ad0>"}},{"id":954,"event":"return","thread_id":9960,"parent_id":953,"elapsed":2.7810456231236458e-06,"elapsed_instrumentation":8.445593994110823e-05,"return_value":{"class":"Array","value":"[]","object_id":198820,"size":0}},{"id":955,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":203860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":198860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11971c80>"}},{"id":956,"event":"return","thread_id":9960,"parent_id":955,"elapsed":4.666997119784355e-05,"elapsed_instrumentation":0.00016337702982127666,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e1190fb48 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":198880,"size":1}},{"id":957,"event":"call","thread_id":9960,"sql_query":{"sql":"INSERT INTO \"oauth_access_tokens\" (\"token\", \"refresh_token\", \"expires_in\", \"revoked_at\", \"created_at\", \"scopes\", \"application_id\", \"resource_owner_id\", \"last_used_at\", \"last_used_ip\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING \"id\"","database_type":"postgres"}},{"id":958,"event":"return","thread_id":9960,"parent_id":957,"elapsed":0.001067065,"elapsed_instrumentation":0.00016037997556850314},{"id":959,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":203880,"value":"  \u001b[1m\u001b[36mDoorkeeper::AccessToken Create (1.2ms)\u001b[0m  \u001b[1m\u001b[32mINSERT INTO \"oauth_access_tokens\" (\" (...512 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":960,"event":"return","thread_id":9960,"parent_id":959,"elapsed":0.0011060800170525908,"elapsed_instrumentation":0.0002994929673150182,"return_value":{"class":"Integer","value":"612","object_id":1225}},{"id":961,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":203860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":198860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11971c80>"}},{"id":962,"event":"return","thread_id":9960,"parent_id":961,"elapsed":4.098983481526375e-06,"elapsed_instrumentation":0.0001496259937994182,"return_value":{"class":"Array","value":"[]","object_id":198920,"size":0}},{"id":963,"event":"call","thread_id":9960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":964,"event":"return","thread_id":9960,"parent_id":963,"elapsed":0.000525696,"elapsed_instrumentation":9.066099300980568e-05},{"id":965,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":203900,"value":"  \u001b[1m\u001b[36mTRANSACTION (0.6ms)\u001b[0m  \u001b[1m\u001b[35mRELEASE SAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":966,"event":"return","thread_id":9960,"parent_id":965,"elapsed":0.0017525959992781281,"elapsed_instrumentation":0.0002248579985462129,"return_value":{"class":"Integer","value":"83","object_id":167}},{"id":967,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":203940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":199020,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11970fb0>"}},{"id":968,"event":"return","thread_id":9960,"parent_id":967,"elapsed":5.061039701104164e-06,"elapsed_instrumentation":0.00015703000826761127,"return_value":{"class":"Array","value":"[]","object_id":199040,"size":0}},{"id":969,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":203940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":199020,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11970fb0>"}},{"id":970,"event":"call","thread_id":9960,"defined_class":"AccessTokenExtension","method_id":"push_to_streaming_api","path":"app/lib/access_token_extension.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"Doorkeeper::AccessToken","object_id":203920,"value":"#<Doorkeeper::AccessToken:0x00007f5e0ee0af10>"}},{"id":971,"event":"return","thread_id":9960,"parent_id":970,"elapsed":3.9237027522176504e-05,"elapsed_instrumentation":0.00037588400300592184},{"id":972,"event":"return","thread_id":9960,"parent_id":969,"elapsed":0.0004605120047926903,"elapsed_instrumentation":0.00017730396939441562,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e11909568 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":199060,"size":1}},{"id":973,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"users\".\"id\", \"users\".\"email\", \"users\".\"created_at\", \"users\".\"updated_at\", \"users\".\"encrypted_password\", \"users\".\"reset_password_token\", \"users\".\"reset_password_sent_at\", \"users\".\"sign_in_count\", \"users\".\"current_sign_in_at\", \"users\".\"last_sign_in_at\", \"users\".\"admin\", \"users\".\"confirmation_token\", \"users\".\"confirmed_at\", \"users\".\"confirmation_sent_at\", \"users\".\"unconfirmed_email\", \"users\".\"locale\", \"users\".\"encrypted_otp_secret\", \"users\".\"encrypted_otp_secret_iv\", \"users\".\"encrypted_otp_secret_salt\", \"users\".\"consumed_timestep\", \"users\".\"otp_required_for_login\", \"users\".\"last_emailed_at\", \"users\".\"otp_backup_codes\", \"users\".\"account_id\", \"users\".\"disabled\", \"users\".\"moderator\", \"users\".\"invite_id\", \"users\".\"chosen_languages\", \"users\".\"created_by_application_id\", \"users\".\"approved\", \"users\".\"sign_in_token\", \"users\".\"sign_in_token_sent_at\", \"users\".\"webauthn_id\", \"users\".\"sign_up_ip\", \"users\".\"role_id\", \"users\".\"settings\", \"users\".\"time_zone\" FROM \"users\" WHERE \"users\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":974,"event":"return","thread_id":9960,"parent_id":973,"elapsed":0.00131873,"elapsed_instrumentation":0.0003756140358746052},{"id":975,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":203960,"value":"  \u001b[1m\u001b[36mUser Load (1.7ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"users\".\"id\", \"users\".\"email\", \"users\".\"created_at (...983 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":976,"event":"return","thread_id":9960,"parent_id":975,"elapsed":0.001816180010791868,"elapsed_instrumentation":0.0002696010051295161,"return_value":{"class":"Integer","value":"1083","object_id":2167}},{"id":977,"event":"return","thread_id":9960,"parent_id":936,"elapsed":0.023002037953119725,"elapsed_instrumentation":0.00011332903522998095,"return_value":{"class":"User","value":"#<User:0x00007f5e0ee0a150>","object_id":203980}},{"id":978,"event":"return","thread_id":9960,"parent_id":935,"elapsed":0.023140801989939064,"elapsed_instrumentation":9.099795715883374e-05,"return_value":{"class":"User","value":"#<User:0x00007f5e0ee0a150>","object_id":203980}},{"id":979,"event":"call","thread_id":9960,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":980,"event":"call","thread_id":9960,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":981,"event":"return","thread_id":9960,"parent_id":980,"elapsed":0.0003172190045006573,"elapsed_instrumentation":9.175098966807127e-05,"return_value":{"class":"User","value":"#<User:0x00007f5e0ee0a150>","object_id":203980}},{"id":982,"event":"return","thread_id":9960,"parent_id":979,"elapsed":0.00043162901420146227,"elapsed_instrumentation":0.00035412696888670325,"return_value":{"class":"User","value":"#<User:0x00007f5e0ee0a150>","object_id":203980}},{"id":983,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":203700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":199120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11b6eba0>"}},{"id":984,"event":"call","thread_id":9960,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":985,"event":"call","thread_id":9960,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":986,"event":"return","thread_id":9960,"parent_id":985,"elapsed":0.00021198304602876306,"elapsed_instrumentation":8.864799747243524e-05,"return_value":{"class":"User","value":"#<User:0x00007f5e0ee0a150>","object_id":203980}},{"id":987,"event":"return","thread_id":9960,"parent_id":984,"elapsed":0.0003218189813196659,"elapsed_instrumentation":8.946697926148772e-05,"return_value":{"class":"User","value":"#<User:0x00007f5e0ee0a150>","object_id":203980}},{"id":988,"event":"call","thread_id":9960,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":989,"event":"call","thread_id":9960,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":990,"event":"return","thread_id":9960,"parent_id":989,"elapsed":0.00018567603547126055,"elapsed_instrumentation":0.00013240502448752522,"return_value":{"class":"User","value":"#<User:0x00007f5e0ee0a150>","object_id":203980}},{"id":991,"event":"return","thread_id":9960,"parent_id":988,"elapsed":0.00034598197089508176,"elapsed_instrumentation":0.000365359999705106,"return_value":{"class":"User","value":"#<User:0x00007f5e0ee0a150>","object_id":203980}},{"id":992,"event":"call","thread_id":9960,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":993,"event":"call","thread_id":9960,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":994,"event":"return","thread_id":9960,"parent_id":993,"elapsed":0.0002674649585969746,"elapsed_instrumentation":0.00011961295967921615,"return_value":{"class":"User","value":"#<User:0x00007f5e0ee0a150>","object_id":203980}},{"id":995,"event":"return","thread_id":9960,"parent_id":992,"elapsed":0.00040978402830660343,"elapsed_instrumentation":8.635694393888116e-05,"return_value":{"class":"User","value":"#<User:0x00007f5e0ee0a150>","object_id":203980}},{"id":996,"event":"call","thread_id":9960,"defined_class":"ApplicationController","method_id":"current_session","path":"app/controllers/application_controller.rb","lineno":153,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":997,"event":"return","thread_id":9960,"parent_id":996,"elapsed":9.630696149542928e-05,"elapsed_instrumentation":0.00011629605432972312},{"id":998,"event":"call","thread_id":9960,"defined_class":"ApplicationController","method_id":"check_self_destruct!","path":"app/controllers/application_controller.rb","lineno":176,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":999,"event":"call","thread_id":9960,"defined_class":"SelfDestructHelper","method_id":"self_destruct?","path":"app/helpers/self_destruct_helper.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":1000,"event":"return","thread_id":9960,"parent_id":999,"elapsed":6.796966772526503e-06,"elapsed_instrumentation":5.0185073632746935e-05},{"id":1001,"event":"return","thread_id":9960,"parent_id":998,"elapsed":7.643795106559992e-05,"elapsed_instrumentation":5.921308184042573e-05},{"id":1002,"event":"call","thread_id":9960,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":1003,"event":"call","thread_id":9960,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":1004,"event":"return","thread_id":9960,"parent_id":1003,"elapsed":0.00027642003260552883,"elapsed_instrumentation":9.82779311016202e-05,"return_value":{"class":"User","value":"#<User:0x00007f5e0ee0a150>","object_id":203980}},{"id":1005,"event":"return","thread_id":9960,"parent_id":1002,"elapsed":0.00039530900539830327,"elapsed_instrumentation":7.545104017481208e-05,"return_value":{"class":"User","value":"#<User:0x00007f5e0ee0a150>","object_id":203980}},{"id":1006,"event":"call","thread_id":9960,"defined_class":"DomainControlHelper","method_id":"limited_federation_mode?","path":"app/helpers/domain_control_helper.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":1007,"event":"return","thread_id":9960,"parent_id":1006,"elapsed":1.586799044162035e-05,"elapsed_instrumentation":6.398401455953717e-05},{"id":1008,"event":"call","thread_id":9960,"defined_class":"ApplicationController","method_id":"set_cache_control_defaults","path":"app/controllers/application_controller.rb","lineno":185,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":1009,"event":"return","thread_id":9960,"parent_id":1008,"elapsed":4.350964445620775e-06,"elapsed_instrumentation":0.00011226796777918935,"return_value":{"class":"Hash","value":"{:private=>true, :no_store=>true}","object_id":204000,"size":2}},{"id":1010,"event":"call","thread_id":9960,"defined_class":"AccessTokenExtension","method_id":"update_last_used","path":"app/lib/access_token_extension.rb","lineno":16,"static":false,"parameters":[{"name":"request","class":"ActionController::TestRequest","object_id":204020,"value":"#<ActionController::TestRequest:0x00007f5e0ed98848>","kind":"req"},{"name":"clock","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"Doorkeeper::AccessToken","object_id":203920,"value":"#<Doorkeeper::AccessToken:0x00007f5e0ee0af10>"}},{"id":1011,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":204040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":198600,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11973ad0>"}},{"id":1012,"event":"return","thread_id":9960,"parent_id":1011,"elapsed":2.9041024390608072e-05,"elapsed_instrumentation":0.0001674149534665048,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e1191aea8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1191afe8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1191b1a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":198680,"size":3}},{"id":1013,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":204060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":198720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e119734e0>"}},{"id":1014,"event":"call","thread_id":9960,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1015,"event":"return","thread_id":9960,"parent_id":1014,"elapsed":0.000473024,"elapsed_instrumentation":8.298701141029596e-05},{"id":1016,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":204080,"value":"  \u001b[1m\u001b[36mTRANSACTION (0.6ms)\u001b[0m  \u001b[1m\u001b[35mSAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1017,"event":"return","thread_id":9960,"parent_id":1016,"elapsed":0.00138323096325621,"elapsed_instrumentation":0.00014949997421354055,"return_value":{"class":"Integer","value":"75","object_id":151}},{"id":1018,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"oauth_access_tokens\" WHERE \"oauth_access_tokens\".\"token\" = $1 AND \"oauth_access_tokens\".\"id\" != $2 LIMIT $3","database_type":"postgres"}},{"id":1019,"event":"return","thread_id":9960,"parent_id":1018,"elapsed":0.003038963,"elapsed_instrumentation":7.247197208926082e-05},{"id":1020,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":204100,"value":"  \u001b[1m\u001b[36mDoorkeeper::AccessToken Exists? (3.1ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"oauth_access_ (...184 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1021,"event":"return","thread_id":9960,"parent_id":1020,"elapsed":0.0011025679996237159,"elapsed_instrumentation":0.00015131302643567324,"return_value":{"class":"Integer","value":"284","object_id":569}},{"id":1022,"event":"return","thread_id":9960,"parent_id":1013,"elapsed":0.005905010970309377,"elapsed_instrumentation":0.00015787401935085654,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e11917370 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11917528 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11917708 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e119178e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":198780,"size":4}},{"id":1023,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":204060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":198720,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e119734e0>"}},{"id":1024,"event":"return","thread_id":9960,"parent_id":1023,"elapsed":3.845954779535532e-06,"elapsed_instrumentation":0.00010234804358333349,"return_value":{"class":"Array","value":"[]","object_id":198800,"size":0}},{"id":1025,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":204040,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":198600,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11973ad0>"}},{"id":1026,"event":"return","thread_id":9960,"parent_id":1025,"elapsed":3.830005880445242e-06,"elapsed_instrumentation":0.0003129789838567376,"return_value":{"class":"Array","value":"[]","object_id":198820,"size":0}},{"id":1027,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":204120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":198860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11971c80>"}},{"id":1028,"event":"return","thread_id":9960,"parent_id":1027,"elapsed":4.50549996457994e-05,"elapsed_instrumentation":0.000108762935269624,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e1190fb48 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":198880,"size":1}},{"id":1029,"event":"call","thread_id":9960,"sql_query":{"sql":"UPDATE \"oauth_access_tokens\" SET \"last_used_at\" = $1, \"last_used_ip\" = $2 WHERE \"oauth_access_tokens\".\"id\" = $3","database_type":"postgres"}},{"id":1030,"event":"return","thread_id":9960,"parent_id":1029,"elapsed":0.001048055,"elapsed_instrumentation":7.714400999248028e-05},{"id":1031,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":204140,"value":"  \u001b[1m\u001b[36mDoorkeeper::AccessToken Update (1.1ms)\u001b[0m  \u001b[1m\u001b[33mUPDATE \"oauth_access_tokens\" SET \"la (...173 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1032,"event":"return","thread_id":9960,"parent_id":1031,"elapsed":0.0010955290053971112,"elapsed_instrumentation":0.00037966796662658453,"return_value":{"class":"Integer","value":"273","object_id":547}},{"id":1033,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":204120,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":198860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11971c80>"}},{"id":1034,"event":"return","thread_id":9960,"parent_id":1033,"elapsed":3.5149860195815563e-06,"elapsed_instrumentation":0.00012426800094544888,"return_value":{"class":"Array","value":"[]","object_id":198920,"size":0}},{"id":1035,"event":"call","thread_id":9960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":1036,"event":"return","thread_id":9960,"parent_id":1035,"elapsed":0.000662096,"elapsed_instrumentation":7.778900908306241e-05},{"id":1037,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":204160,"value":"  \u001b[1m\u001b[36mTRANSACTION (0.8ms)\u001b[0m  \u001b[1m\u001b[35mRELEASE SAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1038,"event":"return","thread_id":9960,"parent_id":1037,"elapsed":0.001166889036539942,"elapsed_instrumentation":0.00015836296370252967,"return_value":{"class":"Integer","value":"83","object_id":167}},{"id":1039,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":204180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":199020,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11970fb0>"}},{"id":1040,"event":"return","thread_id":9960,"parent_id":1039,"elapsed":4.197005182504654e-06,"elapsed_instrumentation":0.00021805294090881944,"return_value":{"class":"Array","value":"[]","object_id":199040,"size":0}},{"id":1041,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":204180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":199020,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11970fb0>"}},{"id":1042,"event":"call","thread_id":9960,"defined_class":"AccessTokenExtension","method_id":"push_to_streaming_api","path":"app/lib/access_token_extension.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"Doorkeeper::AccessToken","object_id":203920,"value":"#<Doorkeeper::AccessToken:0x00007f5e0ee0af10>"}},{"id":1043,"event":"return","thread_id":9960,"parent_id":1042,"elapsed":1.2141012120991945e-05,"elapsed_instrumentation":6.463698809966445e-05},{"id":1044,"event":"return","thread_id":9960,"parent_id":1041,"elapsed":0.00010122702224180102,"elapsed_instrumentation":0.00010721595026552677,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e11909568 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":199060,"size":1}},{"id":1045,"event":"return","thread_id":9960,"parent_id":1010,"elapsed":0.01431456400314346,"elapsed_instrumentation":0.0001326689962297678,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1046,"event":"call","thread_id":9960,"defined_class":"Api::BaseController","method_id":"disallow_unauthenticated_api_access?","path":"app/controllers/api/base_controller.rb","lineno":152,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":1047,"event":"return","thread_id":9960,"parent_id":1046,"elapsed":1.9181985408067703e-05,"elapsed_instrumentation":0.00027181697078049183},{"id":1048,"event":"call","thread_id":9960,"defined_class":"Api::BaseController","method_id":"require_not_suspended!","path":"app/controllers/api/base_controller.rb","lineno":126,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":1049,"event":"call","thread_id":9960,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":1050,"event":"call","thread_id":9960,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":1051,"event":"return","thread_id":9960,"parent_id":1050,"elapsed":0.00041384599171578884,"elapsed_instrumentation":0.00010516296606510878,"return_value":{"class":"User","value":"#<User:0x00007f5e0ee0a150>","object_id":203980}},{"id":1052,"event":"return","thread_id":9960,"parent_id":1049,"elapsed":0.0005415779887698591,"elapsed_instrumentation":7.010798435658216e-05,"return_value":{"class":"User","value":"#<User:0x00007f5e0ee0a150>","object_id":203980}},{"id":1053,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":1054,"event":"return","thread_id":9960,"parent_id":1053,"elapsed":0.000790564,"elapsed_instrumentation":8.535099914297462e-05},{"id":1055,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":204200,"value":"  \u001b[1m\u001b[36mAccount Load (0.9ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accoun (...1364 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1056,"event":"return","thread_id":9960,"parent_id":1055,"elapsed":0.0011132630170322955,"elapsed_instrumentation":0.00018008594634011388,"return_value":{"class":"Integer","value":"1464","object_id":2929}},{"id":1057,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":204220,"value":"#<Account:0x00007f5e0ee09750>"}},{"id":1058,"event":"return","thread_id":9960,"parent_id":1057,"elapsed":2.594798570498824e-05,"elapsed_instrumentation":0.00011053401976823807},{"id":1059,"event":"return","thread_id":9960,"parent_id":1048,"elapsed":0.0050966289709322155,"elapsed_instrumentation":5.749397678300738e-05},{"id":1060,"event":"call","thread_id":9960,"defined_class":"Api::BaseController","method_id":"authorize_if_got_token!","path":"app/controllers/api/base_controller.rb","lineno":148,"static":false,"parameters":[{"name":"scopes","class":"Array","object_id":204240,"value":"[:read, :read:search]","kind":"rest","size":2}],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":1061,"event":"return","thread_id":9960,"parent_id":1060,"elapsed":0.0008102810243144631,"elapsed_instrumentation":0.0002144970349036157},{"id":1062,"event":"call","thread_id":9960,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":1063,"event":"call","thread_id":9960,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":1064,"event":"return","thread_id":9960,"parent_id":1063,"elapsed":0.00029147497843950987,"elapsed_instrumentation":0.00010582903632894158,"return_value":{"class":"User","value":"#<User:0x00007f5e0ee0a150>","object_id":203980}},{"id":1065,"event":"return","thread_id":9960,"parent_id":1062,"elapsed":0.00042294198647141457,"elapsed_instrumentation":0.00010787200881168246,"return_value":{"class":"User","value":"#<User:0x00007f5e0ee0a150>","object_id":203980}},{"id":1066,"event":"return","thread_id":9960,"parent_id":983,"elapsed":0.02546369598712772,"elapsed_instrumentation":0.0005681570037268102,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e11b49af8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11b49c38 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11b49eb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11b49ff8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11b4a2c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11b4a4f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11b4a638 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11b4a7f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11b4a930 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11b4ab10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...5 more items)]","object_id":199420,"size":15}},{"id":1067,"event":"call","thread_id":9960,"defined_class":"Api::V2::SearchController","method_id":"index","path":"app/controllers/api/v2/search_controller.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":1068,"event":"call","thread_id":9960,"defined_class":"ApplicationController","method_id":"current_account","path":"app/controllers/application_controller.rb","lineno":147,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":1069,"event":"call","thread_id":9960,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":1070,"event":"call","thread_id":9960,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":1071,"event":"return","thread_id":9960,"parent_id":1070,"elapsed":0.00039868702879175544,"elapsed_instrumentation":0.00015916000120341778,"return_value":{"class":"User","value":"#<User:0x00007f5e0ee0a150>","object_id":203980}},{"id":1072,"event":"return","thread_id":9960,"parent_id":1069,"elapsed":0.0005954180378466845,"elapsed_instrumentation":0.00013428996317088604,"return_value":{"class":"User","value":"#<User:0x00007f5e0ee0a150>","object_id":203980}},{"id":1073,"event":"return","thread_id":9960,"parent_id":1068,"elapsed":0.0007960509974509478,"elapsed_instrumentation":0.00011226098285987973,"return_value":{"class":"Account","value":"#<Account:0x00007f5e0ee09750>","object_id":204220}},{"id":1074,"event":"call","thread_id":9960,"defined_class":"Api::BaseController","method_id":"limit_param","path":"app/controllers/api/base_controller.rb","lineno":102,"static":false,"parameters":[{"name":"default_limit","class":"Integer","object_id":41,"value":"20","kind":"req"}],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":1075,"event":"return","thread_id":9960,"parent_id":1074,"elapsed":1.6448961105197668e-05,"elapsed_instrumentation":0.00012130104005336761,"return_value":{"class":"Integer","value":"20","object_id":41}},{"id":1076,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":204260,"value":"\u001b[31mUnpermitted parameter: :q. Context: { controller: Api::V2::SearchController, action: index, req (...178 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1077,"event":"return","thread_id":9960,"parent_id":1076,"elapsed":0.0014028630102984607,"elapsed_instrumentation":0.00015851703938096762,"return_value":{"class":"Integer","value":"278","object_id":557}},{"id":1078,"event":"call","thread_id":9960,"defined_class":"ApplicationController","method_id":"truthy_param?","path":"app/controllers/application_controller.rb","lineno":91,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":1243548,"value":":resolve","kind":"req"}],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":1079,"event":"return","thread_id":9960,"parent_id":1078,"elapsed":2.477102680131793e-05,"elapsed_instrumentation":0.00029274995904415846},{"id":1080,"event":"call","thread_id":9960,"defined_class":"ApplicationController","method_id":"truthy_param?","path":"app/controllers/application_controller.rb","lineno":91,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":20469788,"value":":exclude_unreviewed","kind":"req"}],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":1081,"event":"return","thread_id":9960,"parent_id":1080,"elapsed":1.1662021279335022e-05,"elapsed_instrumentation":9.189301636070013e-05},{"id":1082,"event":"call","thread_id":9960,"defined_class":"ApplicationController","method_id":"truthy_param?","path":"app/controllers/application_controller.rb","lineno":91,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":12056028,"value":":following","kind":"req"}],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":1083,"event":"return","thread_id":9960,"parent_id":1082,"elapsed":1.5212979633361101e-05,"elapsed_instrumentation":8.42059962451458e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1084,"event":"call","thread_id":9960,"defined_class":"Chewy::SettingsExtensions","method_id":"enabled?","path":"lib/chewy/settings_extensions.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":199500,"value":"Chewy"}},{"id":1085,"event":"return","thread_id":9960,"parent_id":1084,"elapsed":1.1464988347142935e-05,"elapsed_instrumentation":9.522703476250172e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1086,"event":"call","thread_id":9960,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"TagManager","object_id":199560,"value":"#<TagManager:0x00007f5e1188f740>"}},{"id":1087,"event":"return","thread_id":9960,"parent_id":1086,"elapsed":4.222034476697445e-06,"elapsed_instrumentation":0.0001038850168697536,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1088,"event":"call","thread_id":9960,"defined_class":"AccountSearchService::QueryBuilder","method_id":"build","path":"app/services/account_search_service.rb","lineno":18,"static":false,"parameters":[],"receiver":{"class":"AccountSearchService::FullQueryBuilder","object_id":204280,"value":"#<AccountSearchService::FullQueryBuilder:0x00007f5e0ed39ed8>"}},{"id":1089,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"follows\".\"target_account_id\" FROM \"follows\" WHERE \"follows\".\"account_id\" = $1","database_type":"postgres"}},{"id":1090,"event":"return","thread_id":9960,"parent_id":1089,"elapsed":0.000801456,"elapsed_instrumentation":8.636002894490957e-05},{"id":1091,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":204300,"value":"  \u001b[1m\u001b[36mFollow Pluck (0.9ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"follows\".\"target_account_id\" FROM \"follows\" WH (...74 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1092,"event":"return","thread_id":9960,"parent_id":1091,"elapsed":0.001358279027044773,"elapsed_instrumentation":0.0002505149459466338,"return_value":{"class":"Integer","value":"174","object_id":349}},{"id":1093,"event":"return","thread_id":9960,"parent_id":1088,"elapsed":0.004435504029970616,"elapsed_instrumentation":0.00011530698975548148,"return_value":{"class":"AccountsIndex::Query","value":"#<AccountsIndex::Query:0x00007f5e0ed397a8>","object_id":204320}},{"id":1094,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":204340,"value":"\u001b[33m[httplog] POST http://es:9200/mastodon_test_accounts/_search completed with status code 404 in  (...21 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1095,"event":"return","thread_id":9960,"parent_id":1094,"elapsed":0.001417128019966185,"elapsed_instrumentation":0.0005343990051187575,"return_value":{"class":"Integer","value":"121","object_id":243}},{"id":1096,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":204360,"value":"  \u001b[1m\u001b[32mAccountsIndex Search (13.7ms)\u001b[0m {:index=>[\"mastodon_test_accounts\"], :body=>{:size=>20, (...705 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1097,"event":"return","thread_id":9960,"parent_id":1096,"elapsed":0.0011524310102686286,"elapsed_instrumentation":0.00021540396846830845,"return_value":{"class":"Integer","value":"805","object_id":1611}},{"id":1098,"event":"call","thread_id":9960,"defined_class":"Chewy::SettingsExtensions","method_id":"enabled?","path":"lib/chewy/settings_extensions.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":199500,"value":"Chewy"}},{"id":1099,"event":"return","thread_id":9960,"parent_id":1098,"elapsed":1.3721000868827105e-05,"elapsed_instrumentation":0.00028591800946742296,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":1100,"event":"call","thread_id":9960,"defined_class":"Api::BaseController","method_id":"current_user","path":"app/controllers/api/base_controller.rb","lineno":116,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":1101,"event":"call","thread_id":9960,"defined_class":"Api::BaseController","method_id":"current_resource_owner","path":"app/controllers/api/base_controller.rb","lineno":112,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":1102,"event":"return","thread_id":9960,"parent_id":1101,"elapsed":0.0005392869934439659,"elapsed_instrumentation":0.0001141729298979044,"return_value":{"class":"User","value":"#<User:0x00007f5e0ee0a150>","object_id":203980}},{"id":1103,"event":"return","thread_id":9960,"parent_id":1100,"elapsed":0.0006786139565519989,"elapsed_instrumentation":0.00012308702571317554,"return_value":{"class":"User","value":"#<User:0x00007f5e0ee0a150>","object_id":203980}},{"id":1104,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":204380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":193260,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e120c5d38>"}},{"id":1105,"event":"return","thread_id":9960,"parent_id":1104,"elapsed":3.8879807107150555e-06,"elapsed_instrumentation":0.0001147140865214169,"return_value":{"class":"Array","value":"[]","object_id":193280,"size":0}},{"id":1106,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":204380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":193300,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e120c5d88>"}},{"id":1107,"event":"return","thread_id":9960,"parent_id":1106,"elapsed":2.9910006560385227e-06,"elapsed_instrumentation":9.791593765839934e-05,"return_value":{"class":"Array","value":"[]","object_id":193320,"size":0}},{"id":1108,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":204400,"value":"{:accounts=>[], :statuses=>[], :hashtags=>[]}","kind":"req","size":3}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":204420,"value":"#<JSON::Ext::Generator::State:0x00007f5e0ecc8f80>"}},{"id":1109,"event":"return","thread_id":9960,"parent_id":1108,"elapsed":9.487033821642399e-06,"elapsed_instrumentation":0.00019605096895247698,"return_value":{"class":"String","value":"{\"accounts\":[],\"statuses\":[],\"hashtags\":[]}","object_id":204440}},{"id":1110,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":204380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":193300,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e120c5d88>"}},{"id":1111,"event":"return","thread_id":9960,"parent_id":1110,"elapsed":3.5259872674942017e-06,"elapsed_instrumentation":0.00017128995386883616,"return_value":{"class":"Array","value":"[]","object_id":195220,"size":0}},{"id":1112,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":204380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":193260,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e120c5d38>"}},{"id":1113,"event":"return","thread_id":9960,"parent_id":1112,"elapsed":2.53098551183939e-06,"elapsed_instrumentation":8.27109906822443e-05,"return_value":{"class":"Array","value":"[]","object_id":195240,"size":0}},{"id":1114,"event":"return","thread_id":9960,"parent_id":1067,"elapsed":0.028764928050804883,"elapsed_instrumentation":0.00011606700718402863,"return_value":{"class":"String","value":"{\"accounts\":[],\"statuses\":[],\"hashtags\":[]}","object_id":204440}},{"id":1115,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":203700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":199120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11b6eba0>"}},{"id":1116,"event":"call","thread_id":9960,"defined_class":"CacheConcern","method_id":"enforce_cache_control!","path":"app/controllers/concerns/cache_concern.rb","lineno":165,"static":false,"parameters":[],"receiver":{"class":"Api::V2::SearchController","object_id":201840,"value":"#<Api::V2::SearchController:0x00007f5e0f308490>"}},{"id":1117,"event":"return","thread_id":9960,"parent_id":1116,"elapsed":3.289896994829178e-05,"elapsed_instrumentation":7.046799873933196e-05},{"id":1118,"event":"return","thread_id":9960,"parent_id":1115,"elapsed":0.00015187094686552882,"elapsed_instrumentation":0.00012086296919733286,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e11b4aed0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11b49d78 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":200480,"size":2}},{"id":1119,"event":"return","thread_id":9960,"parent_id":934,"elapsed":0.07963699102401733,"elapsed_instrumentation":0.0002345519606024027,"return_value":{"class":"String","value":"{\"accounts\":[],\"statuses\":[],\"hashtags\":[]}","object_id":204440}},{"id":1120,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":203700,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":189820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11b6eb50>"}},{"id":1121,"event":"return","thread_id":9960,"parent_id":1120,"elapsed":2.635992132127285e-06,"elapsed_instrumentation":8.407596033066511e-05,"return_value":{"class":"Array","value":"[]","object_id":200500,"size":0}},{"id":1122,"event":"return","thread_id":9960,"parent_id":7,"elapsed":0.080290458,"elapsed_instrumentation":0.15298268798505887,"http_server_response":{"status_code":200,"headers":{"X-Frame-Options":"SAMEORIGIN","X-XSS-Protection":"0","X-Content-Type-Options":"nosniff","X-Download-Options":"noopen","X-Permitted-Cross-Domain-Policies":"none","Referrer-Policy":"strict-origin-when-cross-origin","Vary":"Authorization","Content-Type":"application/json; charset=utf-8"}}},{"id":1123,"event":"return","thread_id":9960,"parent_id":92,"elapsed":0.080290458,"elapsed_instrumentation":0.0015605450607836246,"http_server_response":{"status_code":200,"headers":{"X-Frame-Options":"SAMEORIGIN","X-XSS-Protection":"0","X-Content-Type-Options":"nosniff","X-Download-Options":"noopen","X-Permitted-Cross-Domain-Policies":"none","Referrer-Policy":"strict-origin-when-cross-origin","Vary":"Authorization","Content-Type":"application/json; charset=utf-8"}}},{"id":1124,"event":"return","thread_id":9960,"parent_id":927,"elapsed":0.080290458,"elapsed_instrumentation":0.0006642740336246789,"http_server_response":{"status_code":200,"headers":{"X-Frame-Options":"SAMEORIGIN","X-XSS-Protection":"0","X-Content-Type-Options":"nosniff","X-Download-Options":"noopen","X-Permitted-Cross-Domain-Policies":"none","Referrer-Policy":"strict-origin-when-cross-origin","Vary":"Authorization","Content-Type":"application/json; charset=utf-8"}}},{"id":1125,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":204460,"value":"Completed 200 OK in 81ms (Views: 2.9ms | ActiveRecord: 12.9ms | Allocations: 12933)\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":1126,"event":"return","thread_id":9960,"parent_id":1125,"elapsed":0.0013336039846763015,"elapsed_instrumentation":0.00014233699766919017,"return_value":{"class":"Integer","value":"84","object_id":169}},{"id":1127,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":204480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":172880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e126ad750>"}},{"id":1128,"event":"return","thread_id":9960,"parent_id":1127,"elapsed":0.0002072060015052557,"elapsed_instrumentation":0.0004558110376819968,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e1268e378 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1268e4b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1268e5f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1268e7b0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":172900,"size":4}},{"id":1129,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":204480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":172880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e126ad750>"}},{"id":1130,"event":"return","thread_id":9960,"parent_id":1129,"elapsed":3.4570111893117428e-06,"elapsed_instrumentation":9.782594861462712e-05,"return_value":{"class":"Array","value":"[]","object_id":172920,"size":0}},{"id":1131,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":204500,"value":"#<JSON::Ext::Parser:0x00007f5e0ecc0718>"}},{"id":1132,"event":"return","thread_id":9960,"parent_id":1131,"elapsed":1.8969993107020855e-05,"elapsed_instrumentation":0.00015417294343933463,"return_value":{"class":"Hash","value":"{:accounts=>[], :statuses=>[], :hashtags=>[]}","object_id":204520,"size":3}}]}