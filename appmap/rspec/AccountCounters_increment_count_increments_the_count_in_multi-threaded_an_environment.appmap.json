{
  "events": [
    {
      "id": 1,
      "event": "call",
      "thread_id": 921180,
      "defined_class": "AccountCounters",
      "method_id": "increment_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 23,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 2,
      "event": "call",
      "thread_id": 921180,
      "defined_class": "AccountCounters",
      "method_id": "update_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 34,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        },
        {
          "name": "value",
          "class": "Integer",
          "object_id": 3,
          "value": "1",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 3,
      "event": "call",
      "thread_id": 921180,
      "sql_query": {
        "sql": "INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;",
        "database_type": "postgres"
      }
    },
    {
      "id": 4,
      "event": "return",
      "thread_id": 921180,
      "parent_id": 3,
      "elapsed": 0.010942168,
      "elapsed_instrumentation": 0.00010116200428456068
    },
    {
      "id": 5,
      "event": "return",
      "thread_id": 921180,
      "parent_id": 2,
      "elapsed": 0.011621927027590573,
      "elapsed_instrumentation": 0.00012996996520087123
    },
    {
      "id": 6,
      "event": "return",
      "thread_id": 921180,
      "parent_id": 1,
      "elapsed": 0.011788457981310785,
      "elapsed_instrumentation": 0.00038920703809708357
    },
    {
      "id": 7,
      "event": "call",
      "thread_id": 921200,
      "defined_class": "AccountCounters",
      "method_id": "increment_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 23,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 8,
      "event": "call",
      "thread_id": 921200,
      "defined_class": "AccountCounters",
      "method_id": "update_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 34,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        },
        {
          "name": "value",
          "class": "Integer",
          "object_id": 3,
          "value": "1",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 9,
      "event": "call",
      "thread_id": 921200,
      "sql_query": {
        "sql": "INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;",
        "database_type": "postgres"
      }
    },
    {
      "id": 10,
      "event": "return",
      "thread_id": 921200,
      "parent_id": 9,
      "elapsed": 0.001219883,
      "elapsed_instrumentation": 0.00011238595470786095
    },
    {
      "id": 11,
      "event": "return",
      "thread_id": 921200,
      "parent_id": 8,
      "elapsed": 0.012873077008407563,
      "elapsed_instrumentation": 0.00011394999455660582
    },
    {
      "id": 12,
      "event": "return",
      "thread_id": 921200,
      "parent_id": 7,
      "elapsed": 0.013016190030612051,
      "elapsed_instrumentation": 0.000278969993814826
    },
    {
      "id": 13,
      "event": "call",
      "thread_id": 921220,
      "defined_class": "AccountCounters",
      "method_id": "increment_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 23,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 14,
      "event": "call",
      "thread_id": 921220,
      "defined_class": "AccountCounters",
      "method_id": "update_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 34,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        },
        {
          "name": "value",
          "class": "Integer",
          "object_id": 3,
          "value": "1",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 15,
      "event": "call",
      "thread_id": 921220,
      "sql_query": {
        "sql": "INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;",
        "database_type": "postgres"
      }
    },
    {
      "id": 16,
      "event": "return",
      "thread_id": 921220,
      "parent_id": 15,
      "elapsed": 0.000916508,
      "elapsed_instrumentation": 0.00007897301111370325
    },
    {
      "id": 17,
      "event": "return",
      "thread_id": 921220,
      "parent_id": 14,
      "elapsed": 0.02246612898306921,
      "elapsed_instrumentation": 0.00024096097331494093
    },
    {
      "id": 18,
      "event": "return",
      "thread_id": 921220,
      "parent_id": 13,
      "elapsed": 0.022736120969057083,
      "elapsed_instrumentation": 0.00012200803030282259
    },
    {
      "id": 19,
      "event": "call",
      "thread_id": 921240,
      "defined_class": "AccountCounters",
      "method_id": "increment_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 23,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 20,
      "event": "call",
      "thread_id": 921240,
      "defined_class": "AccountCounters",
      "method_id": "update_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 34,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        },
        {
          "name": "value",
          "class": "Integer",
          "object_id": 3,
          "value": "1",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 21,
      "event": "call",
      "thread_id": 921240,
      "sql_query": {
        "sql": "INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;",
        "database_type": "postgres"
      }
    },
    {
      "id": 22,
      "event": "return",
      "thread_id": 921240,
      "parent_id": 21,
      "elapsed": 0.000959087,
      "elapsed_instrumentation": 0.00009017501724883914
    },
    {
      "id": 23,
      "event": "return",
      "thread_id": 921240,
      "parent_id": 20,
      "elapsed": 0.01308197103207931,
      "elapsed_instrumentation": 0.00010571698658168316
    },
    {
      "id": 24,
      "event": "return",
      "thread_id": 921240,
      "parent_id": 19,
      "elapsed": 0.013212546007707715,
      "elapsed_instrumentation": 0.00011760002234950662
    },
    {
      "id": 25,
      "event": "call",
      "thread_id": 921260,
      "defined_class": "AccountCounters",
      "method_id": "increment_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 23,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 26,
      "event": "call",
      "thread_id": 921260,
      "defined_class": "AccountCounters",
      "method_id": "update_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 34,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        },
        {
          "name": "value",
          "class": "Integer",
          "object_id": 3,
          "value": "1",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 27,
      "event": "call",
      "thread_id": 921260,
      "sql_query": {
        "sql": "INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;",
        "database_type": "postgres"
      }
    },
    {
      "id": 28,
      "event": "return",
      "thread_id": 921260,
      "parent_id": 27,
      "elapsed": 0.000881231,
      "elapsed_instrumentation": 0.0002022779663093388
    },
    {
      "id": 29,
      "event": "return",
      "thread_id": 921260,
      "parent_id": 26,
      "elapsed": 0.029143470979761332,
      "elapsed_instrumentation": 0.0001141949906013906
    },
    {
      "id": 30,
      "event": "return",
      "thread_id": 921260,
      "parent_id": 25,
      "elapsed": 0.029282160045113415,
      "elapsed_instrumentation": 0.00012978294398635626
    },
    {
      "id": 31,
      "event": "call",
      "thread_id": 921280,
      "defined_class": "AccountCounters",
      "method_id": "increment_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 23,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 32,
      "event": "call",
      "thread_id": 921280,
      "defined_class": "AccountCounters",
      "method_id": "update_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 34,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        },
        {
          "name": "value",
          "class": "Integer",
          "object_id": 3,
          "value": "1",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 33,
      "event": "call",
      "thread_id": 921280,
      "sql_query": {
        "sql": "INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;",
        "database_type": "postgres"
      }
    },
    {
      "id": 34,
      "event": "return",
      "thread_id": 921280,
      "parent_id": 33,
      "elapsed": 0.000772001,
      "elapsed_instrumentation": 0.00028916896553710103
    },
    {
      "id": 35,
      "event": "return",
      "thread_id": 921280,
      "parent_id": 32,
      "elapsed": 0.013114489964209497,
      "elapsed_instrumentation": 0.0003167660324834287
    },
    {
      "id": 36,
      "event": "return",
      "thread_id": 921280,
      "parent_id": 31,
      "elapsed": 0.013458805042319,
      "elapsed_instrumentation": 0.00012143398635089397
    },
    {
      "id": 37,
      "event": "call",
      "thread_id": 921320,
      "defined_class": "AccountCounters",
      "method_id": "increment_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 23,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 38,
      "event": "call",
      "thread_id": 921320,
      "defined_class": "AccountCounters",
      "method_id": "update_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 34,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        },
        {
          "name": "value",
          "class": "Integer",
          "object_id": 3,
          "value": "1",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 39,
      "event": "call",
      "thread_id": 921320,
      "sql_query": {
        "sql": "INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;",
        "database_type": "postgres"
      }
    },
    {
      "id": 40,
      "event": "return",
      "thread_id": 921320,
      "parent_id": 39,
      "elapsed": 0.000897797,
      "elapsed_instrumentation": 0.00008743302896618843
    },
    {
      "id": 41,
      "event": "return",
      "thread_id": 921320,
      "parent_id": 38,
      "elapsed": 0.013185666990466416,
      "elapsed_instrumentation": 0.00010537198977544904
    },
    {
      "id": 42,
      "event": "return",
      "thread_id": 921320,
      "parent_id": 37,
      "elapsed": 0.013314876006916165,
      "elapsed_instrumentation": 0.00011094904039055109
    },
    {
      "id": 43,
      "event": "call",
      "thread_id": 921300,
      "defined_class": "AccountCounters",
      "method_id": "increment_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 23,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 44,
      "event": "call",
      "thread_id": 921300,
      "defined_class": "AccountCounters",
      "method_id": "update_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 34,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        },
        {
          "name": "value",
          "class": "Integer",
          "object_id": 3,
          "value": "1",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 45,
      "event": "call",
      "thread_id": 921300,
      "sql_query": {
        "sql": "INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;",
        "database_type": "postgres"
      }
    },
    {
      "id": 46,
      "event": "return",
      "thread_id": 921300,
      "parent_id": 45,
      "elapsed": 0.000870101,
      "elapsed_instrumentation": 0.00007351901149377227
    },
    {
      "id": 47,
      "event": "return",
      "thread_id": 921300,
      "parent_id": 44,
      "elapsed": 0.02118072396842763,
      "elapsed_instrumentation": 0.00010630104225128889
    },
    {
      "id": 48,
      "event": "return",
      "thread_id": 921300,
      "parent_id": 43,
      "elapsed": 0.02148548699915409,
      "elapsed_instrumentation": 0.00013400602620095015
    },
    {
      "id": 49,
      "event": "call",
      "thread_id": 921360,
      "defined_class": "AccountCounters",
      "method_id": "increment_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 23,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 50,
      "event": "call",
      "thread_id": 921360,
      "defined_class": "AccountCounters",
      "method_id": "update_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 34,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        },
        {
          "name": "value",
          "class": "Integer",
          "object_id": 3,
          "value": "1",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 51,
      "event": "call",
      "thread_id": 921360,
      "sql_query": {
        "sql": "INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;",
        "database_type": "postgres"
      }
    },
    {
      "id": 52,
      "event": "return",
      "thread_id": 921360,
      "parent_id": 51,
      "elapsed": 0.000822239,
      "elapsed_instrumentation": 0.00010717002442106605
    },
    {
      "id": 53,
      "event": "return",
      "thread_id": 921360,
      "parent_id": 50,
      "elapsed": 0.013103909965138882,
      "elapsed_instrumentation": 0.00033060600981116295
    },
    {
      "id": 54,
      "event": "return",
      "thread_id": 921360,
      "parent_id": 49,
      "elapsed": 0.0134606440551579,
      "elapsed_instrumentation": 0.0001211320050060749
    },
    {
      "id": 55,
      "event": "call",
      "thread_id": 921340,
      "defined_class": "AccountCounters",
      "method_id": "increment_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 23,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 56,
      "event": "call",
      "thread_id": 921340,
      "defined_class": "AccountCounters",
      "method_id": "update_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 34,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        },
        {
          "name": "value",
          "class": "Integer",
          "object_id": 3,
          "value": "1",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 57,
      "event": "call",
      "thread_id": 921340,
      "sql_query": {
        "sql": "INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;",
        "database_type": "postgres"
      }
    },
    {
      "id": 58,
      "event": "return",
      "thread_id": 921340,
      "parent_id": 57,
      "elapsed": 0.000899024,
      "elapsed_instrumentation": 0.00007238698890432715
    },
    {
      "id": 59,
      "event": "return",
      "thread_id": 921340,
      "parent_id": 56,
      "elapsed": 0.024435399973299354,
      "elapsed_instrumentation": 0.0002451230539008975
    },
    {
      "id": 60,
      "event": "return",
      "thread_id": 921340,
      "parent_id": 55,
      "elapsed": 0.02471554302610457,
      "elapsed_instrumentation": 0.00042819499503821135
    },
    {
      "id": 61,
      "event": "call",
      "thread_id": 921400,
      "defined_class": "AccountCounters",
      "method_id": "increment_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 23,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 62,
      "event": "call",
      "thread_id": 921400,
      "defined_class": "AccountCounters",
      "method_id": "update_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 34,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        },
        {
          "name": "value",
          "class": "Integer",
          "object_id": 3,
          "value": "1",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 63,
      "event": "call",
      "thread_id": 921400,
      "sql_query": {
        "sql": "INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;",
        "database_type": "postgres"
      }
    },
    {
      "id": 64,
      "event": "return",
      "thread_id": 921400,
      "parent_id": 63,
      "elapsed": 0.000811963,
      "elapsed_instrumentation": 0.00007475004531443119
    },
    {
      "id": 65,
      "event": "return",
      "thread_id": 921400,
      "parent_id": 62,
      "elapsed": 0.012428894988261163,
      "elapsed_instrumentation": 0.00022354000248014927
    },
    {
      "id": 66,
      "event": "return",
      "thread_id": 921400,
      "parent_id": 61,
      "elapsed": 0.012678435014095157,
      "elapsed_instrumentation": 0.00011338898912072182
    },
    {
      "id": 67,
      "event": "call",
      "thread_id": 921440,
      "defined_class": "AccountCounters",
      "method_id": "increment_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 23,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 68,
      "event": "call",
      "thread_id": 921440,
      "defined_class": "AccountCounters",
      "method_id": "update_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 34,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        },
        {
          "name": "value",
          "class": "Integer",
          "object_id": 3,
          "value": "1",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 69,
      "event": "call",
      "thread_id": 921440,
      "sql_query": {
        "sql": "INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;",
        "database_type": "postgres"
      }
    },
    {
      "id": 70,
      "event": "return",
      "thread_id": 921440,
      "parent_id": 69,
      "elapsed": 0.000853453,
      "elapsed_instrumentation": 0.00007981294766068459
    },
    {
      "id": 71,
      "event": "return",
      "thread_id": 921440,
      "parent_id": 68,
      "elapsed": 0.012587490025907755,
      "elapsed_instrumentation": 0.00010770699009299278
    },
    {
      "id": 72,
      "event": "return",
      "thread_id": 921440,
      "parent_id": 67,
      "elapsed": 0.012719922000542283,
      "elapsed_instrumentation": 0.00010896497406065464
    },
    {
      "id": 73,
      "event": "call",
      "thread_id": 921420,
      "defined_class": "AccountCounters",
      "method_id": "increment_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 23,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 74,
      "event": "call",
      "thread_id": 921420,
      "defined_class": "AccountCounters",
      "method_id": "update_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 34,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        },
        {
          "name": "value",
          "class": "Integer",
          "object_id": 3,
          "value": "1",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 75,
      "event": "call",
      "thread_id": 921420,
      "sql_query": {
        "sql": "INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;",
        "database_type": "postgres"
      }
    },
    {
      "id": 76,
      "event": "return",
      "thread_id": 921420,
      "parent_id": 75,
      "elapsed": 0.000961263,
      "elapsed_instrumentation": 0.0003209459828212857
    },
    {
      "id": 77,
      "event": "return",
      "thread_id": 921420,
      "parent_id": 74,
      "elapsed": 0.024538868048693985,
      "elapsed_instrumentation": 0.00010416301665827632
    },
    {
      "id": 78,
      "event": "return",
      "thread_id": 921420,
      "parent_id": 73,
      "elapsed": 0.024666614015586674,
      "elapsed_instrumentation": 0.00011648697545751929
    },
    {
      "id": 79,
      "event": "call",
      "thread_id": 921380,
      "defined_class": "AccountCounters",
      "method_id": "increment_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 23,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 80,
      "event": "call",
      "thread_id": 921380,
      "defined_class": "AccountCounters",
      "method_id": "update_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 34,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        },
        {
          "name": "value",
          "class": "Integer",
          "object_id": 3,
          "value": "1",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 81,
      "event": "call",
      "thread_id": 921380,
      "sql_query": {
        "sql": "INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;",
        "database_type": "postgres"
      }
    },
    {
      "id": 82,
      "event": "return",
      "thread_id": 921380,
      "parent_id": 81,
      "elapsed": 0.000964499,
      "elapsed_instrumentation": 0.00007933902088552713
    },
    {
      "id": 83,
      "event": "return",
      "thread_id": 921380,
      "parent_id": 80,
      "elapsed": 0.019846644951030612,
      "elapsed_instrumentation": 0.00011527905007824302
    },
    {
      "id": 84,
      "event": "return",
      "thread_id": 921380,
      "parent_id": 79,
      "elapsed": 0.019987971987575293,
      "elapsed_instrumentation": 0.00011421501403674483
    },
    {
      "id": 85,
      "event": "call",
      "thread_id": 921460,
      "defined_class": "AccountCounters",
      "method_id": "increment_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 23,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 86,
      "event": "call",
      "thread_id": 921460,
      "defined_class": "AccountCounters",
      "method_id": "update_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 34,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17343068,
          "value": ":statuses_count",
          "kind": "req"
        },
        {
          "name": "value",
          "class": "Integer",
          "object_id": 3,
          "value": "1",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 87,
      "event": "call",
      "thread_id": 921460,
      "sql_query": {
        "sql": "INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;",
        "database_type": "postgres"
      }
    },
    {
      "id": 88,
      "event": "return",
      "thread_id": 921460,
      "parent_id": 87,
      "elapsed": 0.001177825,
      "elapsed_instrumentation": 0.00008915597572922707
    },
    {
      "id": 89,
      "event": "return",
      "thread_id": 921460,
      "parent_id": 86,
      "elapsed": 0.018332956999074668,
      "elapsed_instrumentation": 0.00015443802112713456
    },
    {
      "id": 90,
      "event": "return",
      "thread_id": 921460,
      "parent_id": 85,
      "elapsed": 0.018654439016245306,
      "elapsed_instrumentation": 0.01121783594135195
    },
    {
      "id": 91,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "AccountCounters",
      "method_id": "statuses_count",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 13,
      "static": false,
      "parameters": [
        {
          "name": "*",
          "class": "Array",
          "object_id": 921480,
          "value": "[]",
          "kind": "rest",
          "size": 0
        },
        {
          "name": "**",
          "class": "Hash",
          "object_id": 921500,
          "value": "{}",
          "kind": "keyrest",
          "size": 0
        },
        {
          "name": "&",
          "class": "NilClass",
          "object_id": 4,
          "value": null,
          "kind": "block"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 92,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "AccountCounters",
      "method_id": "account_stat",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 76,
      "static": false,
      "receiver": {
        "class": "Account",
        "object_id": 921140,
        "value": "#<Account:0x00007fc930db3ac0>"
      }
    },
    {
      "id": 93,
      "event": "call",
      "thread_id": 9160,
      "sql_query": {
        "sql": "SELECT \"account_stats\".\"id\", \"account_stats\".\"account_id\", \"account_stats\".\"statuses_count\", \"account_stats\".\"following_count\", \"account_stats\".\"followers_count\", \"account_stats\".\"created_at\", \"account_stats\".\"updated_at\", \"account_stats\".\"last_status_at\" FROM \"account_stats\" WHERE \"account_stats\".\"account_id\" = $1 LIMIT $2",
        "database_type": "postgres"
      }
    },
    {
      "id": 94,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 93,
      "elapsed": 0.000641331,
      "elapsed_instrumentation": 0.00010878301691263914
    },
    {
      "id": 95,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 92,
      "elapsed": 0.0026604440063238144,
      "elapsed_instrumentation": 0.00011669495142996311,
      "return_value": {
        "class": "AccountStat",
        "value": "#<AccountStat:0x00007fc930fec080>",
        "object_id": 921520
      }
    },
    {
      "id": 96,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "AccountStat",
      "method_id": "statuses_count",
      "path": "app/models/account_stat.rb",
      "lineno": 33,
      "static": false,
      "receiver": {
        "class": "AccountStat",
        "object_id": 921520,
        "value": "#<AccountStat:0x00007fc930fec080>"
      }
    },
    {
      "id": 97,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 96,
      "elapsed": 0.00011890497989952564,
      "elapsed_instrumentation": 0.0000993740395642817,
      "return_value": {
        "class": "Integer",
        "value": "15",
        "object_id": 31
      }
    },
    {
      "id": 98,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 91,
      "elapsed": 0.0030537400161847472,
      "elapsed_instrumentation": 0.00020799896446987987,
      "return_value": {
        "class": "Integer",
        "value": "15",
        "object_id": 31
      }
    }
  ],
  "version": "1.12.0",
  "metadata": {
    "app": "mastodon",
    "language": {
      "name": "ruby",
      "engine": "ruby",
      "version": "3.2.2"
    },
    "client": {
      "name": "appmap",
      "url": "https://github.com/applandinc/appmap-ruby",
      "version": "0.102.1"
    },
    "frameworks": [
      {
        "name": "rails",
        "version": "7.1.1"
      },
      {
        "name": "rspec",
        "version": "3.12.2"
      }
    ],
    "git": {
      "repository": "https://github.com/sgrigson/mastodon.git",
      "branch": "appmap-config",
      "commit": "2c1ae2317e8741caf25b51e9b3b2c15776c54ae3",
      "git_last_annotated_tag": "0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3",
      "git_last_tag": "v4.2.0",
      "git_commits_since_last_annotated_tag": 0,
      "git_commits_since_last_tag": 0
    },
    "name": "AccountCounters #increment_count! increments the count in multi-threaded an environment",
    "source_location": "spec/models/concerns/account_counters_spec.rb",
    "recorder": {
      "name": "rspec",
      "type": "tests"
    },
    "test_status": "succeeded"
  },
  "classMap": [
    {
      "name": "app/models",
      "type": "package",
      "children": [
        {
          "name": "concerns",
          "type": "package",
          "children": [
            {
              "name": "AccountCounters",
              "type": "class",
              "children": [
                {
                  "name": "increment_count!",
                  "type": "function",
                  "static": false,
                  "location": "app/models/concerns/account_counters.rb:23"
                },
                {
                  "name": "update_count!",
                  "type": "function",
                  "static": false,
                  "location": "app/models/concerns/account_counters.rb:34"
                },
                {
                  "name": "statuses_count",
                  "type": "function",
                  "static": false,
                  "location": "app/models/concerns/account_counters.rb:13"
                },
                {
                  "name": "account_stat",
                  "type": "function",
                  "static": false,
                  "location": "app/models/concerns/account_counters.rb:76"
                }
              ]
            }
          ]
        },
        {
          "name": "AccountStat",
          "type": "class",
          "children": [
            {
              "name": "statuses_count",
              "type": "function",
              "static": false,
              "location": "app/models/account_stat.rb:33"
            }
          ]
        }
      ]
    },
    {
      "type": "database",
      "name": "Database",
      "children": [
        {
          "type": "query",
          "name": "INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111361310909819743, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;"
        },
        {
          "type": "query",
          "name": "SELECT \"account_stats\".\"id\", \"account_stats\".\"account_id\", \"account_stats\".\"statuses_count\", \"account_stats\".\"following_count\", \"account_stats\".\"followers_count\", \"account_stats\".\"created_at\", \"account_stats\".\"updated_at\", \"account_stats\".\"last_status_at\" FROM \"account_stats\" WHERE \"account_stats\".\"account_id\" = $1 LIMIT $2"
        }
      ]
    }
  ]
}