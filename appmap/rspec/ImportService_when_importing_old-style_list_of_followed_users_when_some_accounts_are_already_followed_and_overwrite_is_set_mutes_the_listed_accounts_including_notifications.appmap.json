{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"50d0a0445fe1bf0ac82032f1958ae8e614b2ebd3","status":["M .env.test","M .husky/pre-commit","M appmap/rspec/API_routes_Account_routes_routes_to_followers/appmap-findings.json","M appmap/rspec/API_routes_Account_routes_routes_to_search/appmap-findings.json","M appmap/rspec/API_routes_Account_routes_routes_to_statuses/appmap-findings.json","M appmap/rspec/API_routes_Credentials_routes_routes_to_update_credentials/appmap-findings.json","M appmap/rspec/API_routes_Credentials_routes_routes_to_verify_credentials/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_favourite/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_favourited_by/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_mute/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_reblog/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_reblogged_by/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_unfavourite/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_unmute/appmap-findings.json","M appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_name_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_redirect_uris_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_website_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_an_unsupported_scope_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_many_duplicate_scopes_only_saves_the_scope_once.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_valid_params_creates_an_OAuth_app.appmap.json","?? appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_name_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_redirect_uris_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_website_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_an_unsupported_scope_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_many_duplicate_scopes_only_saves_the_scope_once/","?? appmap/rspec/Apps_POST_api_v1_apps_with_valid_params_creates_an_OAuth_app/","?? appmap/rspec/Apps_POST_api_v1_apps_without_required_params_returns_http_unprocessable_entity/","?? appmap/rspec/Auth_ChallengesController_POST_create_with_correct_password_redirects_back/"],"git_last_annotated_tag":"0.1.2-14643-g50d0a0445fe1bf0ac82032f1958ae8e614b2ebd3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"ImportService when importing old-style list of followed users when some accounts are already followed and overwrite is set mutes the listed accounts, including notifications","source_location":"spec/services/import_service_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"failed","test_failure":{"message":"body has already been consumed","location":"app/lib/request.rb:217"},"exception":{"class":"HTTP::StateError","message":"body has already been consumed"}},"classMap":[{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountInteractions","type":"class","children":[{"name":"follow!","type":"function","location":"app/models/concerns/account_interactions.rb:115","static":false},{"name":"blocking?","type":"function","location":"app/models/concerns/account_interactions.rb:214","static":false},{"name":"domain_blocking?","type":"function","location":"app/models/concerns/account_interactions.rb:218","static":false},{"name":"following?","type":"function","location":"app/models/concerns/account_interactions.rb:198","static":false},{"name":"requested?","type":"function","location":"app/models/concerns/account_interactions.rb:238","static":false},{"name":"not_following_anyone?","type":"function","location":"app/models/concerns/account_interactions.rb:206","static":false},{"name":"following_anyone?","type":"function","location":"app/models/concerns/account_interactions.rb:202","static":false},{"name":"request_follow!","type":"function","location":"app/models/concerns/account_interactions.rb:130","static":false}]},{"name":"RateLimitable","type":"class","children":[{"name":"rate_limit=","type":"function","location":"app/models/concerns/rate_limitable.rb:6","static":false},{"name":"rate_limit?","type":"function","location":"app/models/concerns/rate_limitable.rb:10","static":false}]},{"name":"FollowLimitable","type":"class","children":[{"name":"bypass_follow_limit=","type":"function","location":"app/models/concerns/follow_limitable.rb:10","static":false},{"name":"bypass_follow_limit?","type":"function","location":"app/models/concerns/follow_limitable.rb:14","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"following_count","type":"function","location":"app/models/concerns/account_counters.rb:13","static":false},{"name":"account_stat","type":"function","location":"app/models/concerns/account_counters.rb:76","static":false},{"name":"increment_count!","type":"function","location":"app/models/concerns/account_counters.rb:23","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]},{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false},{"name":"acct","type":"function","location":"app/models/account.rb:191","static":false},{"name":"suspended?","type":"function","location":"app/models/account.rb:237","static":false},{"name":"moved?","type":"function","location":"app/models/account.rb:167","static":false},{"name":"possibly_stale?","type":"function","location":"app/models/account.rb:211","static":false},{"name":"silenced?","type":"function","location":"app/models/account.rb:225","static":false},{"name":"object_type","type":"function","location":"app/models/account.rb:385","static":false},{"name":"instance_actor?","type":"function","location":"app/models/account.rb:175","static":false},{"name":"to_param","type":"function","location":"app/models/account.rb:389","static":false},{"name":"keypair","type":"function","location":"app/models/account.rb:293","static":false}]},{"name":"AccountStat","type":"class","children":[{"name":"following_count","type":"function","location":"app/models/account_stat.rb:25","static":false}]},{"name":"DomainBlock","type":"class","children":[{"name":"blocked?","type":"function","location":"app/models/domain_block.rb:49","static":true},{"name":"rule_for","type":"function","location":"app/models/domain_block.rb:67","static":true}]},{"name":"FollowRequest","type":"class","children":[{"name":"local?","type":"function","location":"app/models/follow_request.rb:43","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"generate_uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:61","static":false},{"name":"uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:36","static":false},{"name":"key_uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:53","static":false}]},{"name":"Adapter","type":"class","children":[{"name":"serializable_hash","type":"function","location":"app/lib/activitypub/adapter.rb:14","static":false},{"name":"transform_key_casing!","type":"function","location":"app/lib/activitypub/adapter.rb:10","static":true}]},{"name":"Serializer","type":"class","children":[{"name":"serializable_hash","type":"function","location":"app/lib/activitypub/serializer.rb:31","static":false}]},{"name":"CaseTransform","type":"class","children":[{"name":"camel_lower","type":"function","location":"app/lib/activitypub/case_transform.rb:9","static":true},{"name":"camel_lower_cache","type":"function","location":"app/lib/activitypub/case_transform.rb:5","static":true}]}]}]},{"name":"PotentialFriendshipTracker","type":"class","children":[{"name":"remove","type":"function","location":"app/lib/potential_friendship_tracker.rb:27","static":true}]},{"name":"TagManager","type":"class","children":[{"name":"local_domain?","type":"function","location":"app/lib/tag_manager.rb:13","static":false},{"name":"normalize_domain","type":"function","location":"app/lib/tag_manager.rb:17","static":false}]},{"name":"DeliveryFailureTracker","type":"class","children":[{"name":"available?","type":"function","location":"app/lib/delivery_failure_tracker.rb:52","static":true},{"name":"available?","type":"function","location":"app/lib/delivery_failure_tracker.rb:30","static":false},{"name":"track_failure!","type":"function","location":"app/lib/delivery_failure_tracker.rb:12","static":false},{"name":"days","type":"function","location":"app/lib/delivery_failure_tracker.rb:26","static":false}]},{"name":"ActivityTracker","type":"class","children":[{"name":"increment","type":"function","location":"app/lib/activity_tracker.rb:53","static":true},{"name":"add","type":"function","location":"app/lib/activity_tracker.rb:13","static":false}]},{"name":"RequestPool","type":"class","children":[{"name":"current","type":"function","location":"app/lib/request_pool.rb:6","static":true},{"name":"with","type":"function","location":"app/lib/request_pool.rb:106","static":false},{"name":"Connection","type":"class","children":[{"name":"use","type":"function","location":"app/lib/request_pool.rb:47","static":false},{"name":"close","type":"function","location":"app/lib/request_pool.rb:85","static":false}]}]},{"name":"connection_pool","type":"package","children":[{"name":"ConnectionPool","type":"class","children":[{"name":"SharedConnectionPool","type":"class","children":[{"name":"with","type":"function","location":"app/lib/connection_pool/shared_connection_pool.rb:15","static":false},{"name":"checkout","type":"function","location":"app/lib/connection_pool/shared_connection_pool.rb:29","static":false},{"name":"checkin","type":"function","location":"app/lib/connection_pool/shared_connection_pool.rb:39","static":false}]},{"name":"SharedTimedStack","type":"class","children":[{"name":"pop","type":"function","location":"app/lib/connection_pool/shared_timed_stack.rb:23","static":false},{"name":"push","type":"function","location":"app/lib/connection_pool/shared_timed_stack.rb:14","static":false}]}]}]},{"name":"Request","type":"class","children":[{"name":"on_behalf_of","type":"function","location":"app/lib/request.rb:91","static":false},{"name":"add_headers","type":"function","location":"app/lib/request.rb:100","static":false},{"name":"perform","type":"function","location":"app/lib/request.rb:105","static":false},{"name":"headers","type":"function","location":"app/lib/request.rb:126","static":false},{"name":"ClientLimit","type":"class","children":[{"name":"body_with_limit","type":"function","location":"app/lib/request.rb:227","static":false},{"name":"truncated_body","type":"function","location":"app/lib/request.rb:204","static":false}]}]}]},{"name":"helpers","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"default_url_options","type":"function","location":"app/helpers/routing_helper.rb:12","static":false}]}]},{"name":"DomainControlHelper","type":"class","children":[{"name":"domain_not_allowed?","type":"function","location":"app/helpers/domain_control_helper.rb:4","static":false},{"name":"limited_federation_mode?","type":"function","location":"app/helpers/domain_control_helper.rb:20","static":false}]},{"name":"ContextHelper","type":"class","children":[{"name":"serialized_context","type":"function","location":"app/helpers/context_helper.rb:41","static":false}]}]},{"name":"validators","type":"package","children":[{"name":"FollowLimitValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/follow_limit_validator.rb:7","static":false},{"name":"limit_for_account","type":"function","location":"app/validators/follow_limit_validator.rb:14","static":true}]},{"name":"LanguageValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"app/validators/language_validator.rb:6","static":false}]}]},{"name":"workers","type":"package","children":[{"name":"import","type":"package","children":[{"name":"Import","type":"class","children":[{"name":"RelationshipWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/import/relationship_worker.rb:11","static":false},{"name":"domain","type":"function","location":"app/workers/import/relationship_worker.rb:41","static":false},{"name":"stoplight_wrap_request","type":"function","location":"app/workers/import/relationship_worker.rb:46","static":false}]}]}]},{"name":"activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"DeliveryWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/activitypub/delivery_worker.rb:25","static":false}]}]}]}]},{"name":"services/concerns","type":"package","children":[{"name":"Payloadable","type":"class","children":[{"name":"serialize_payload","type":"function","location":"app/services/concerns/payloadable.rb:13","static":false}]}]},{"name":"serializers/activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"FollowSerializer","type":"class","children":[{"name":"id","type":"function","location":"app/serializers/activitypub/follow_serializer.rb:7","static":false},{"name":"type","type":"function","location":"app/serializers/activitypub/follow_serializer.rb:11","static":false},{"name":"actor","type":"function","location":"app/serializers/activitypub/follow_serializer.rb:15","static":false},{"name":"virtual_object","type":"function","location":"app/serializers/activitypub/follow_serializer.rb:19","static":false}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]},{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]},{"name":"Array","type":"class","children":[{"name":"pack","type":"function","location":"<internal:pack>:7","static":false,"labels":["array.pack"]}]}]},{"name":"lib","type":"package","children":[{"name":"paperclip","type":"package","children":[{"name":"Paperclip","type":"class","children":[{"name":"AttachmentExtensions","type":"class","children":[{"name":"assign_attributes","type":"function","location":"lib/paperclip/attachment_extensions.rb:54","static":false},{"name":"save","type":"function","location":"lib/paperclip/attachment_extensions.rb:83","static":false},{"name":"storage_schema_version","type":"function","location":"lib/paperclip/attachment_extensions.rb:50","static":false}]},{"name":"MediaTypeSpoofDetectorExtensions","type":"class","children":[{"name":"calculated_content_type","type":"function","location":"lib/paperclip/media_type_spoof_detector_extensions.rb:7","static":false}]}]}]},{"name":"terrapin","type":"package","children":[{"name":"Terrapin","type":"class","children":[{"name":"MultiPipeExtensions","type":"class","children":[{"name":"pipe_options","type":"function","location":"lib/terrapin/multi_pipe_extensions.rb:14","static":false},{"name":"read","type":"function","location":"lib/terrapin/multi_pipe_extensions.rb:19","static":false}]}]}]},{"name":"mastodon","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"Version","type":"class","children":[{"name":"user_agent","type":"function","location":"lib/mastodon/version.rb:67","static":true}]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]},{"name":"openssl","type":"package","children":[{"name":"OpenSSL","type":"class","children":[{"name":"PKey","type":"class","children":[{"name":"PKey","type":"class","children":[{"name":"sign","type":"function","location":"OpenSSL::PKey::PKey#sign","static":false,"labels":["crypto.pkey"]}]}]}]}]}],"events":[{"id":9815,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"follow!","path":"app/models/concerns/account_interactions.rb","lineno":115,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":295120,"value":"#<Account:0x00007f5e0efc5648>","kind":"req"},{"name":"reblogs","class":"FalseClass","object_id":0,"value":"false","kind":"key"},{"name":"notify","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"languages","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"uri","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"rate_limit","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"bypass_limit","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Account","object_id":295080,"value":"#<Account:0x00007f5e0efcd988>"}},{"id":9816,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":9817,"event":"return","thread_id":9960,"parent_id":9816,"elapsed":0.001378222,"elapsed_instrumentation":0.00014433404430747032},{"id":9818,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":295180,"value":"  \u001b[1m\u001b[36mFollow Load (1.5ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"acco (...160 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":9819,"event":"return","thread_id":9960,"parent_id":9818,"elapsed":0.0030799839878454804,"elapsed_instrumentation":0.0006620110361836851,"return_value":{"class":"Integer","value":"260","object_id":521}},{"id":9820,"event":"call","thread_id":9960,"defined_class":"RateLimitable","method_id":"rate_limit=","path":"app/models/concerns/rate_limitable.rb","lineno":6,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Follow","object_id":295200,"value":"#<Follow:0x00007f5e0f30e610>"}},{"id":9821,"event":"return","thread_id":9960,"parent_id":9820,"elapsed":8.471019100397825e-06,"elapsed_instrumentation":0.0001798570156097412},{"id":9822,"event":"call","thread_id":9960,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit=","path":"app/models/concerns/follow_limitable.rb","lineno":10,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Follow","object_id":295200,"value":"#<Follow:0x00007f5e0f30e610>"}},{"id":9823,"event":"return","thread_id":9960,"parent_id":9822,"elapsed":6.412970833480358e-06,"elapsed_instrumentation":0.00012867600889876485},{"id":9824,"event":"call","thread_id":9960,"defined_class":"RateLimitable","method_id":"rate_limit=","path":"app/models/concerns/rate_limitable.rb","lineno":6,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Follow","object_id":295200,"value":"#<Follow:0x00007f5e0f30e610>"}},{"id":9825,"event":"return","thread_id":9960,"parent_id":9824,"elapsed":8.08702316135168e-06,"elapsed_instrumentation":0.00019778800196945667},{"id":9826,"event":"call","thread_id":9960,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit=","path":"app/models/concerns/follow_limitable.rb","lineno":10,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Follow","object_id":295200,"value":"#<Follow:0x00007f5e0f30e610>"}},{"id":9827,"event":"return","thread_id":9960,"parent_id":9826,"elapsed":6.143003702163696e-06,"elapsed_instrumentation":0.00014976999955251813},{"id":9828,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":295220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255160,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc8e80>"}},{"id":9829,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"generate_uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":61,"static":false,"parameters":[{"name":"_target","class":"Follow","object_id":295200,"value":"#<Follow:0x00007f5e0f30e610>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":9830,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":9831,"event":"return","thread_id":9960,"parent_id":9830,"elapsed":7.61798582971096e-06,"elapsed_instrumentation":0.00035822007339447737,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":9832,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":9833,"event":"return","thread_id":9960,"parent_id":9832,"elapsed":7.4180425144732e-06,"elapsed_instrumentation":0.00027578597655519843,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":9834,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":245020,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":295240,"value":"LS___l2______>__"}},{"id":9835,"event":"return","thread_id":9960,"parent_id":9834,"elapsed":1.2045027688145638e-05,"elapsed_instrumentation":0.0007047989638522267,"return_value":{"class":"Array","value":"[1280563633, 53612, 12948, 44725, 63229, 3879639453]","object_id":295260,"size":6}},{"id":9836,"event":"return","thread_id":9960,"parent_id":9829,"elapsed":0.002399098011665046,"elapsed_instrumentation":0.0004081729566678405,"return_value":{"class":"URI::HTTPS","value":"https://cb6e6126.ngrok.io/4c53d9b1-d16c-4294-aeb5-f6fde73e999d","object_id":295280}},{"id":9837,"event":"return","thread_id":9960,"parent_id":9828,"elapsed":0.002967502980027348,"elapsed_instrumentation":0.0005557810654863715,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0eda8810 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eda8950 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":255240,"size":2}},{"id":9838,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":295300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc8c00>"}},{"id":9839,"event":"call","thread_id":9960,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit?","path":"app/models/concerns/follow_limitable.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Follow","object_id":295200,"value":"#<Follow:0x00007f5e0f30e610>"}},{"id":9840,"event":"return","thread_id":9960,"parent_id":9839,"elapsed":6.898015271872282e-06,"elapsed_instrumentation":0.00036351796006783843},{"id":9841,"event":"call","thread_id":9960,"defined_class":"FollowLimitValidator","method_id":"validate","path":"app/validators/follow_limit_validator.rb","lineno":7,"static":false,"parameters":[{"name":"follow","class":"Follow","object_id":295200,"value":"#<Follow:0x00007f5e0f30e610>","kind":"req"}],"receiver":{"class":"FollowLimitValidator","object_id":255300,"value":"#<FollowLimitValidator:0x00007f5e1186f558>"}},{"id":9842,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":295080,"value":"#<Account:0x00007f5e0efcd988>"}},{"id":9843,"event":"return","thread_id":9960,"parent_id":9842,"elapsed":1.8282036762684584e-05,"elapsed_instrumentation":0.0010306250187568367,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":9844,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"following_count","path":"app/models/concerns/account_counters.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":295320,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":295340,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":295080,"value":"#<Account:0x00007f5e0efcd988>"}},{"id":9845,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":295080,"value":"#<Account:0x00007f5e0efcd988>"}},{"id":9846,"event":"call","thread_id":9960,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":9847,"event":"return","thread_id":9960,"parent_id":9846,"elapsed":0.000750856,"elapsed_instrumentation":0.00011754495790228248},{"id":9848,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":295360,"value":"  \u001b[1m\u001b[36mTRANSACTION (0.9ms)\u001b[0m  \u001b[1m\u001b[35mSAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":9849,"event":"return","thread_id":9960,"parent_id":9848,"elapsed":0.003501928993500769,"elapsed_instrumentation":0.000648892018944025,"return_value":{"class":"Integer","value":"75","object_id":151}},{"id":9850,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"account_stats\".\"id\", \"account_stats\".\"account_id\", \"account_stats\".\"statuses_count\", \"account_stats\".\"following_count\", \"account_stats\".\"followers_count\", \"account_stats\".\"created_at\", \"account_stats\".\"updated_at\", \"account_stats\".\"last_status_at\" FROM \"account_stats\" WHERE \"account_stats\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":9851,"event":"return","thread_id":9960,"parent_id":9850,"elapsed":0.000896199,"elapsed_instrumentation":0.0002035049838013947},{"id":9852,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":295380,"value":"  \u001b[1m\u001b[36mAccountStat Load (1.2ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"account_stats\".\"id\", \"account_stats\".\"acco (...332 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":9853,"event":"return","thread_id":9960,"parent_id":9852,"elapsed":0.00324442598503083,"elapsed_instrumentation":0.00025753502268344164,"return_value":{"class":"Integer","value":"432","object_id":865}},{"id":9854,"event":"return","thread_id":9960,"parent_id":9845,"elapsed":0.0128438999527134,"elapsed_instrumentation":0.0002120450371876359,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007f5e0f30e250>","object_id":295400}},{"id":9855,"event":"call","thread_id":9960,"defined_class":"AccountStat","method_id":"following_count","path":"app/models/account_stat.rb","lineno":25,"static":false,"parameters":[],"receiver":{"class":"AccountStat","object_id":295400,"value":"#<AccountStat:0x00007f5e0f30e250>"}},{"id":9856,"event":"return","thread_id":9960,"parent_id":9855,"elapsed":6.67329877614975e-05,"elapsed_instrumentation":0.0001773320254869759,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":9857,"event":"return","thread_id":9960,"parent_id":9844,"elapsed":0.01339472399558872,"elapsed_instrumentation":0.0005138569395057857,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":9858,"event":"call","thread_id":9960,"defined_class":"FollowLimitValidator","method_id":"limit_for_account","path":"app/validators/follow_limit_validator.rb","lineno":14,"static":true,"parameters":[{"name":"account","class":"Account","object_id":295080,"value":"#<Account:0x00007f5e0efcd988>","kind":"req"}],"receiver":{"class":"Class","object_id":199640,"value":"FollowLimitValidator"}},{"id":9859,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"following_count","path":"app/models/concerns/account_counters.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":295420,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":295440,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":295080,"value":"#<Account:0x00007f5e0efcd988>"}},{"id":9860,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":295080,"value":"#<Account:0x00007f5e0efcd988>"}},{"id":9861,"event":"return","thread_id":9960,"parent_id":9860,"elapsed":2.9154005460441113e-05,"elapsed_instrumentation":0.00014643499162048101,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007f5e0f30e250>","object_id":295400}},{"id":9862,"event":"call","thread_id":9960,"defined_class":"AccountStat","method_id":"following_count","path":"app/models/account_stat.rb","lineno":25,"static":false,"parameters":[],"receiver":{"class":"AccountStat","object_id":295400,"value":"#<AccountStat:0x00007f5e0f30e250>"}},{"id":9863,"event":"return","thread_id":9960,"parent_id":9862,"elapsed":3.4310040064156055e-05,"elapsed_instrumentation":0.00011002598330378532,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":9864,"event":"return","thread_id":9960,"parent_id":9859,"elapsed":0.0003803849685937166,"elapsed_instrumentation":0.0003261450328864157,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":9865,"event":"return","thread_id":9960,"parent_id":9858,"elapsed":0.0007328959763981402,"elapsed_instrumentation":0.00011832005111500621,"return_value":{"class":"Integer","value":"7500","object_id":15001}},{"id":9866,"event":"return","thread_id":9960,"parent_id":9841,"elapsed":0.016052277002017945,"elapsed_instrumentation":0.0002006579888984561},{"id":9867,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":9868,"event":"return","thread_id":9960,"parent_id":9867,"elapsed":0.001125178,"elapsed_instrumentation":0.00017738004680722952},{"id":9869,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":295460,"value":"  \u001b[1m\u001b[36mFollow Exists? (1.6ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"acco (...160 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":9870,"event":"return","thread_id":9960,"parent_id":9869,"elapsed":0.002877915045246482,"elapsed_instrumentation":0.0003789550391957164,"return_value":{"class":"Integer","value":"260","object_id":521}},{"id":9871,"event":"call","thread_id":9960,"defined_class":"LanguageValidator","method_id":"validate_each","path":"app/validators/language_validator.rb","lineno":6,"static":false,"parameters":[{"name":"record","class":"Follow","object_id":295200,"value":"#<Follow:0x00007f5e0f30e610>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":9570268,"value":":languages","kind":"req"},{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"LanguageValidator","object_id":255480,"value":"#<LanguageValidator:0x00007f5e11866020>"}},{"id":9872,"event":"return","thread_id":9960,"parent_id":9871,"elapsed":8.378992788493633e-06,"elapsed_instrumentation":0.00025546603137627244},{"id":9873,"event":"return","thread_id":9960,"parent_id":9838,"elapsed":0.024641203985083848,"elapsed_instrumentation":0.0003280770033597946,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0eda5840 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eda59f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eda5cc8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eda5ea8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eda6088 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eda6268 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":255500,"size":6}},{"id":9874,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":295300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc8c00>"}},{"id":9875,"event":"return","thread_id":9960,"parent_id":9874,"elapsed":7.619033567607403e-06,"elapsed_instrumentation":0.00014704198110848665,"return_value":{"class":"Array","value":"[]","object_id":255520,"size":0}},{"id":9876,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":295220,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255160,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc8e80>"}},{"id":9877,"event":"return","thread_id":9960,"parent_id":9876,"elapsed":3.635999746620655e-06,"elapsed_instrumentation":0.00013315200340002775,"return_value":{"class":"Array","value":"[]","object_id":255540,"size":0}},{"id":9878,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":295480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255580,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc7bc0>"}},{"id":9879,"event":"return","thread_id":9960,"parent_id":9878,"elapsed":0.00013489596312865615,"elapsed_instrumentation":0.0002496280358172953,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0ed8a608 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0ed8a748 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":255600,"size":2}},{"id":9880,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":295500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc7940>"}},{"id":9881,"event":"return","thread_id":9960,"parent_id":9880,"elapsed":6.364018190652132e-06,"elapsed_instrumentation":0.00020579900592565536,"return_value":{"class":"Array","value":"[]","object_id":255660,"size":0}},{"id":9882,"event":"call","thread_id":9960,"sql_query":{"sql":"INSERT INTO \"follows\" (\"created_at\", \"updated_at\", \"account_id\", \"target_account_id\", \"show_reblogs\", \"uri\", \"notify\", \"languages\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING \"id\"","database_type":"postgres"}},{"id":9883,"event":"return","thread_id":9960,"parent_id":9882,"elapsed":0.001841723,"elapsed_instrumentation":0.00020614999812096357},{"id":9884,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":295520,"value":"  \u001b[1m\u001b[36mFollow Create (2.1ms)\u001b[0m  \u001b[1m\u001b[32mINSERT INTO \"follows\" (\"created_at\", \"updated_at\", \"a (...450 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":9885,"event":"return","thread_id":9960,"parent_id":9884,"elapsed":0.002820046036504209,"elapsed_instrumentation":0.0006035059923306108,"return_value":{"class":"Integer","value":"550","object_id":1101}},{"id":9886,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":295500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc7940>"}},{"id":9887,"event":"call","thread_id":9960,"defined_class":"RateLimitable","method_id":"rate_limit?","path":"app/models/concerns/rate_limitable.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"Follow","object_id":295200,"value":"#<Follow:0x00007f5e0f30e610>"}},{"id":9888,"event":"return","thread_id":9960,"parent_id":9887,"elapsed":6.366986781358719e-06,"elapsed_instrumentation":0.00037558795884251595},{"id":9889,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19210588,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":295080,"value":"#<Account:0x00007f5e0efcd988>"}},{"id":9890,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19210588,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":295080,"value":"#<Account:0x00007f5e0efcd988>"}},{"id":9891,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":295080,"value":"#<Account:0x00007f5e0efcd988>"}},{"id":9892,"event":"return","thread_id":9960,"parent_id":9891,"elapsed":3.6493001971393824e-05,"elapsed_instrumentation":0.0004222249845042825,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007f5e0f30e250>","object_id":295400}},{"id":9893,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":295080,"value":"#<Account:0x00007f5e0efcd988>"}},{"id":9894,"event":"return","thread_id":9960,"parent_id":9893,"elapsed":1.7380982171744108e-05,"elapsed_instrumentation":0.00018216401804238558,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007f5e0f30e250>","object_id":295400}},{"id":9895,"event":"call","thread_id":9960,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111362558139389017, 1, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + 1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":9896,"event":"return","thread_id":9960,"parent_id":9895,"elapsed":0.00195472,"elapsed_instrumentation":0.00017239403678104281},{"id":9897,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":295540,"value":"  \u001b[1m\u001b[35mSQL (2.2ms)\u001b[0m  \u001b[1m\u001b[32mINSERT INTO account_stats(account_id, following_count, created_ (...190 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":9898,"event":"return","thread_id":9960,"parent_id":9897,"elapsed":0.005130841047503054,"elapsed_instrumentation":0.0004173509660176933,"return_value":{"class":"Integer","value":"290","object_id":581}},{"id":9899,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":295080,"value":"#<Account:0x00007f5e0efcd988>"}},{"id":9900,"event":"return","thread_id":9960,"parent_id":9899,"elapsed":3.0169030651450157e-05,"elapsed_instrumentation":0.00031436100834980607,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007f5e0f30e250>","object_id":295400}},{"id":9901,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":295080,"value":"#<Account:0x00007f5e0efcd988>"}},{"id":9902,"event":"return","thread_id":9960,"parent_id":9901,"elapsed":1.6083999071270227e-05,"elapsed_instrumentation":0.0005354449967853725,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007f5e0f30e250>","object_id":295400}},{"id":9903,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":295080,"value":"#<Account:0x00007f5e0efcd988>"}},{"id":9904,"event":"return","thread_id":9960,"parent_id":9903,"elapsed":1.1947005987167358e-05,"elapsed_instrumentation":0.00012120604515075684,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007f5e0f30e250>","object_id":295400}},{"id":9905,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"account_stats\".\"id\", \"account_stats\".\"account_id\", \"account_stats\".\"statuses_count\", \"account_stats\".\"following_count\", \"account_stats\".\"followers_count\", \"account_stats\".\"created_at\", \"account_stats\".\"updated_at\", \"account_stats\".\"last_status_at\" FROM \"account_stats\" WHERE \"account_stats\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":9906,"event":"return","thread_id":9960,"parent_id":9905,"elapsed":0.001107862,"elapsed_instrumentation":0.00015696696937084198},{"id":9907,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":295560,"value":"  \u001b[1m\u001b[36mAccountStat Load (1.3ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"account_stats\".\"id\", \"account_stats\".\"acco (...300 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":9908,"event":"return","thread_id":9960,"parent_id":9907,"elapsed":0.004840167006477714,"elapsed_instrumentation":0.0003681079833768308,"return_value":{"class":"Integer","value":"400","object_id":801}},{"id":9909,"event":"return","thread_id":9960,"parent_id":9890,"elapsed":0.02043265599058941,"elapsed_instrumentation":0.0002067149616777897,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007f5e0f30e250>","object_id":295400}},{"id":9910,"event":"return","thread_id":9960,"parent_id":9889,"elapsed":0.020675941021181643,"elapsed_instrumentation":0.0001407949603162706,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007f5e0f30e250>","object_id":295400}},{"id":9911,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17229148,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":295120,"value":"#<Account:0x00007f5e0efc5648>"}},{"id":9912,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17229148,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":295120,"value":"#<Account:0x00007f5e0efc5648>"}},{"id":9913,"event":"call","thread_id":9960,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111362558139389018, 1, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + 1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":9914,"event":"return","thread_id":9960,"parent_id":9913,"elapsed":0.001736277,"elapsed_instrumentation":0.0004504140233621001},{"id":9915,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":295580,"value":"  \u001b[1m\u001b[35mSQL (2.2ms)\u001b[0m  \u001b[1m\u001b[32mINSERT INTO account_stats(account_id, followers_count, created_ (...190 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":9916,"event":"return","thread_id":9960,"parent_id":9915,"elapsed":0.003632758976891637,"elapsed_instrumentation":0.0003268590080551803,"return_value":{"class":"Integer","value":"290","object_id":581}},{"id":9917,"event":"return","thread_id":9960,"parent_id":9912,"elapsed":0.007098275003954768,"elapsed_instrumentation":0.00012670498108491302},{"id":9918,"event":"return","thread_id":9960,"parent_id":9911,"elapsed":0.0072686130297370255,"elapsed_instrumentation":0.00025640003150328994},{"id":9919,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":295080,"value":"#<Account:0x00007f5e0efcd988>"}},{"id":9920,"event":"return","thread_id":9960,"parent_id":9919,"elapsed":1.2609991244971752e-05,"elapsed_instrumentation":0.0002183860051445663,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":9921,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":295120,"value":"#<Account:0x00007f5e0efc5648>"}},{"id":9922,"event":"return","thread_id":9960,"parent_id":9921,"elapsed":1.2853997759521008e-05,"elapsed_instrumentation":0.00014080700930207968,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":9923,"event":"return","thread_id":9960,"parent_id":9886,"elapsed":0.029704906977713108,"elapsed_instrumentation":0.0003328840248286724,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0ed897d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0ed89618 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0ed89460 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0ed892a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":255760,"size":4}},{"id":9924,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":295480,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255580,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc7bc0>"}},{"id":9925,"event":"return","thread_id":9960,"parent_id":9924,"elapsed":3.3819815143942833e-06,"elapsed_instrumentation":0.00011206796625629067,"return_value":{"class":"Array","value":"[]","object_id":255780,"size":0}},{"id":9926,"event":"call","thread_id":9960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":9927,"event":"return","thread_id":9960,"parent_id":9926,"elapsed":0.001024476,"elapsed_instrumentation":0.00017390702851116657},{"id":9928,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":295600,"value":"  \u001b[1m\u001b[36mTRANSACTION (1.2ms)\u001b[0m  \u001b[1m\u001b[35mRELEASE SAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":9929,"event":"return","thread_id":9960,"parent_id":9928,"elapsed":0.006114840041846037,"elapsed_instrumentation":0.00036685995291918516,"return_value":{"class":"Integer","value":"83","object_id":167}},{"id":9930,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":295620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc6770>"}},{"id":9931,"event":"return","thread_id":9960,"parent_id":9930,"elapsed":5.638983566313982e-06,"elapsed_instrumentation":0.000199497037101537,"return_value":{"class":"Array","value":"[]","object_id":255860,"size":0}},{"id":9932,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":295620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc6770>"}},{"id":9933,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":295640,"value":"Cache delete: relationship:111362558139389017:111362558139389018\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":9934,"event":"return","thread_id":9960,"parent_id":9933,"elapsed":0.003345216973684728,"elapsed_instrumentation":0.0002151820226572454,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":9935,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":295660,"value":"Cache delete: relationship:111362558139389018:111362558139389017\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":9936,"event":"return","thread_id":9960,"parent_id":9935,"elapsed":0.005431530007626861,"elapsed_instrumentation":0.0004140139790251851,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":9937,"event":"return","thread_id":9960,"parent_id":9932,"elapsed":0.010288859950378537,"elapsed_instrumentation":0.000413605070207268,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0ed7afc8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":255920,"size":1}},{"id":9938,"event":"call","thread_id":9960,"defined_class":"PotentialFriendshipTracker","method_id":"remove","path":"app/lib/potential_friendship_tracker.rb","lineno":27,"static":true,"parameters":[{"name":"account_id","class":"Integer","object_id":222725116278778035,"value":"111362558139389017","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222725116278778037,"value":"111362558139389018","kind":"req"}],"receiver":{"class":"Class","object_id":255940,"value":"PotentialFriendshipTracker"}},{"id":9939,"event":"call","thread_id":9960,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Class","object_id":255940,"value":"PotentialFriendshipTracker"}},{"id":9940,"event":"return","thread_id":9960,"parent_id":9939,"elapsed":8.52800440043211e-06,"elapsed_instrumentation":0.00022407103097066283,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007f5e126ad930>","object_id":222620}},{"id":9941,"event":"return","thread_id":9960,"parent_id":9938,"elapsed":0.0010859349858947098,"elapsed_instrumentation":0.0005697580054402351},{"id":9942,"event":"return","thread_id":9960,"parent_id":9815,"elapsed":0.10071299801347777,"elapsed_instrumentation":0.0004034259472973645,"return_value":{"class":"Follow","value":"#<Follow:0x00007f5e0f30e610>","object_id":295200}},{"id":9943,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":295680,"value":"[paperclip] Trying to link /workspaces/mastodon/spec/fixtures/files/mute-imports.txt to /tmp/6562bc8 (...50 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":9944,"event":"return","thread_id":9960,"parent_id":9943,"elapsed":0.004479651979636401,"elapsed_instrumentation":0.0006686610286124051,"return_value":{"class":"Integer","value":"150","object_id":301}},{"id":9945,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":295700,"value":"[paperclip] Link failed with Invalid cross-device link @ rb_file_s_link - (/workspaces/mastodon/spec (...234 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":9946,"event":"return","thread_id":9960,"parent_id":9945,"elapsed":0.0037837750278413296,"elapsed_instrumentation":0.00027413200587034225,"return_value":{"class":"Integer","value":"334","object_id":669}},{"id":9947,"event":"call","thread_id":9960,"defined_class":"Paperclip::AttachmentExtensions","method_id":"assign_attributes","path":"lib/paperclip/attachment_extensions.rb","lineno":54,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":295720,"value":"/data/original/missing.png"}},{"id":9948,"event":"return","thread_id":9960,"parent_id":9947,"elapsed":0.00015706499107182026,"elapsed_instrumentation":0.00030824297573417425},{"id":9949,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":295760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":246820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11ee9848>"}},{"id":9950,"event":"return","thread_id":9960,"parent_id":9949,"elapsed":4.175398498773575e-05,"elapsed_instrumentation":0.0006035660044290125,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0eaca8f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":246840,"size":1}},{"id":9951,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":295780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":258540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0eead530>"}},{"id":9952,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":295800,"value":"[paperclip] Trying to link /tmp/6562bc879e37873e532bce173250f49020231106-3877-bce2cc.txt to /tmp/656 (...54 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":9953,"event":"return","thread_id":9960,"parent_id":9952,"elapsed":0.003915985987987369,"elapsed_instrumentation":0.0006019509746693075,"return_value":{"class":"Integer","value":"154","object_id":309}},{"id":9954,"event":"call","thread_id":9960,"defined_class":"Paperclip::MediaTypeSpoofDetectorExtensions","method_id":"calculated_content_type","path":"lib/paperclip/media_type_spoof_detector_extensions.rb","lineno":7,"static":false,"parameters":[],"receiver":{"class":"Paperclip::MediaTypeSpoofDetector","object_id":295820,"value":"#<Paperclip::MediaTypeSpoofDetector:0x00007f5e0dfef200>"}},{"id":9955,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":295840,"value":"Command :: file -b --mime '/tmp/6562bc879e37873e532bce173250f49020231106-3877-c0hg6a.txt'\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":9956,"event":"return","thread_id":9960,"parent_id":9955,"elapsed":0.0033300670329481363,"elapsed_instrumentation":0.0006888879579491913,"return_value":{"class":"Integer","value":"90","object_id":181}},{"id":9957,"event":"call","thread_id":9960,"defined_class":"Terrapin::MultiPipeExtensions","method_id":"pipe_options","path":"lib/terrapin/multi_pipe_extensions.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Terrapin::CommandLine::MultiPipe","object_id":295860,"value":"#<Terrapin::CommandLine::MultiPipe:0x00007f5e0dfeee40>"}},{"id":9958,"event":"return","thread_id":9960,"parent_id":9957,"elapsed":1.245399471372366e-05,"elapsed_instrumentation":0.0005593560053966939,"return_value":{"class":"Hash","value":"{:out=>#<IO:0x00007f5e0ecb68d0>, :err=>#<IO:0x00007f5e0ecb6858>, #<IO:0x00007f5e0ecb68f8>=>:close, #<IO:0x00007f5e0ecb6880>=>:close}","object_id":295920,"size":4}},{"id":9959,"event":"call","thread_id":9960,"defined_class":"Terrapin::MultiPipeExtensions","method_id":"read","path":"lib/terrapin/multi_pipe_extensions.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"Terrapin::CommandLine::MultiPipe","object_id":295860,"value":"#<Terrapin::CommandLine::MultiPipe:0x00007f5e0dfeee40>"}},{"id":9960,"event":"return","thread_id":9960,"parent_id":9959,"elapsed":0.019018059014342725,"elapsed_instrumentation":0.0005058610113337636},{"id":9961,"event":"return","thread_id":9960,"parent_id":9954,"elapsed":0.025800576026085764,"elapsed_instrumentation":0.0005462390254251659,"return_value":{"class":"String","value":"text/plain","object_id":295940}},{"id":9962,"event":"return","thread_id":9960,"parent_id":9951,"elapsed":0.03302213200367987,"elapsed_instrumentation":0.00037073902785778046,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0ecf81e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0ecf83e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0ecf85c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0ecf87a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0ecf8988 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0ecf8c08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0ecf8de8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":258740,"size":7}},{"id":9963,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":295780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":258540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0eead530>"}},{"id":9964,"event":"return","thread_id":9960,"parent_id":9963,"elapsed":6.429967470467091e-06,"elapsed_instrumentation":0.0005217239959165454,"return_value":{"class":"Array","value":"[]","object_id":258760,"size":0}},{"id":9965,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":295760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":246820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11ee9848>"}},{"id":9966,"event":"return","thread_id":9960,"parent_id":9965,"elapsed":3.3510150387883186e-06,"elapsed_instrumentation":0.00012114999117329717,"return_value":{"class":"Array","value":"[]","object_id":246940,"size":0}},{"id":9967,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":295960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":258800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0eeaa4c0>"}},{"id":9968,"event":"return","thread_id":9960,"parent_id":9967,"elapsed":9.782001143321395e-05,"elapsed_instrumentation":0.00013677298557013273,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0ed4abc0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":258820,"size":1}},{"id":9969,"event":"call","thread_id":9960,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":9970,"event":"return","thread_id":9960,"parent_id":9969,"elapsed":0.000773694,"elapsed_instrumentation":0.00015901197912171483},{"id":9971,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":295980,"value":"  \u001b[1m\u001b[36mTRANSACTION (1.0ms)\u001b[0m  \u001b[1m\u001b[35mSAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":9972,"event":"return","thread_id":9960,"parent_id":9971,"elapsed":0.00303782697301358,"elapsed_instrumentation":0.00028752401703968644,"return_value":{"class":"Integer","value":"75","object_id":151}},{"id":9973,"event":"call","thread_id":9960,"sql_query":{"sql":"INSERT INTO \"imports\" (\"type\", \"approved\", \"created_at\", \"updated_at\", \"data_file_name\", \"data_content_type\", \"data_file_size\", \"data_updated_at\", \"account_id\", \"overwrite\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING \"id\"","database_type":"postgres"}},{"id":9974,"event":"return","thread_id":9960,"parent_id":9973,"elapsed":0.007018078,"elapsed_instrumentation":0.00040356197860091925},{"id":9975,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":296000,"value":"  \u001b[1m\u001b[36mImport Create (7.5ms)\u001b[0m  \u001b[1m\u001b[32mINSERT INTO \"imports\" (\"type\", \"approved\", \"created_a (...526 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":9976,"event":"return","thread_id":9960,"parent_id":9975,"elapsed":0.003915122011676431,"elapsed_instrumentation":0.00026527902809903026,"return_value":{"class":"Integer","value":"626","object_id":1253}},{"id":9977,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":295960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":258800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0eeaa4c0>"}},{"id":9978,"event":"call","thread_id":9960,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":295720,"value":"/system/imports/data/000/000/006/original/mute-imports.txt"}},{"id":9979,"event":"call","thread_id":9960,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":295720,"value":"/system/imports/data/000/000/006/original/mute-imports.txt"}},{"id":9980,"event":"return","thread_id":9960,"parent_id":9979,"elapsed":2.377503551542759e-05,"elapsed_instrumentation":0.0006250179721973836,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":9981,"event":"call","thread_id":9960,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":295720,"value":"/system/imports/data/000/000/006/original/mute-imports.txt"}},{"id":9982,"event":"return","thread_id":9960,"parent_id":9981,"elapsed":3.378198016434908e-05,"elapsed_instrumentation":0.0008485130383633077,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":9983,"event":"call","thread_id":9960,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":295720,"value":"/system/imports/data/000/000/006/original/mute-imports.txt"}},{"id":9984,"event":"return","thread_id":9960,"parent_id":9983,"elapsed":1.6513047739863396e-05,"elapsed_instrumentation":0.00047921790974214673,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":9985,"event":"return","thread_id":9960,"parent_id":9978,"elapsed":0.06090145296184346,"elapsed_instrumentation":0.0005777410115115345,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":9986,"event":"return","thread_id":9960,"parent_id":9977,"elapsed":0.061570164980366826,"elapsed_instrumentation":0.0002900260151363909,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0ed4aa08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":258880,"size":1}},{"id":9987,"event":"call","thread_id":9960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":9988,"event":"return","thread_id":9960,"parent_id":9987,"elapsed":0.000834787,"elapsed_instrumentation":0.0001230090274475515},{"id":9989,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":296020,"value":"  \u001b[1m\u001b[36mTRANSACTION (1.0ms)\u001b[0m  \u001b[1m\u001b[35mRELEASE SAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":9990,"event":"return","thread_id":9960,"parent_id":9989,"elapsed":0.0029211199725978076,"elapsed_instrumentation":0.00023496506037190557,"return_value":{"class":"Integer","value":"83","object_id":167}},{"id":9991,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":296060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":258960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0eea7db0>"}},{"id":9992,"event":"return","thread_id":9960,"parent_id":9991,"elapsed":6.36297045275569e-06,"elapsed_instrumentation":0.00037368800258263946,"return_value":{"class":"Array","value":"[]","object_id":258980,"size":0}},{"id":9993,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":296060,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":258960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0eea7db0>"}},{"id":9994,"event":"return","thread_id":9960,"parent_id":9993,"elapsed":2.2175023332238197e-05,"elapsed_instrumentation":0.0001311359810642898,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0ed74998 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":259000,"size":1}},{"id":9995,"event":"call","thread_id":9960,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":295720,"value":"/system/imports/data/000/000/006/original/mute-imports.txt"}},{"id":9996,"event":"return","thread_id":9960,"parent_id":9995,"elapsed":1.5375029761344194e-05,"elapsed_instrumentation":0.0006801279960200191,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":9997,"event":"call","thread_id":9960,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":295720,"value":"/system/imports/data/000/000/006/original/mute-imports.txt"}},{"id":9998,"event":"return","thread_id":9960,"parent_id":9997,"elapsed":1.49000552482903e-05,"elapsed_instrumentation":0.00035015499452129006,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":9999,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" INNER JOIN \"follows\" ON \"accounts\".\"id\" = \"follows\".\"target_account_id\" WHERE \"follows\".\"account_id\" = $1 ORDER BY \"accounts\".\"id\" ASC LIMIT $2","database_type":"postgres"}},{"id":10000,"event":"return","thread_id":9960,"parent_id":9999,"elapsed":0.002040204,"elapsed_instrumentation":0.00029250700026750565},{"id":10001,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":296080,"value":"  \u001b[1m\u001b[36mAccount Load (2.4ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accoun (...1483 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10002,"event":"return","thread_id":9960,"parent_id":10001,"elapsed":0.003472932963632047,"elapsed_instrumentation":0.00034320505801588297,"return_value":{"class":"Integer","value":"1583","object_id":3167}},{"id":10003,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"acct","path":"app/models/account.rb","lineno":191,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":296100,"value":"#<Account:0x00007f5e0f30a290>"}},{"id":10004,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":296100,"value":"#<Account:0x00007f5e0f30a290>"}},{"id":10005,"event":"return","thread_id":9960,"parent_id":10004,"elapsed":3.119598841294646e-05,"elapsed_instrumentation":0.00011809502029791474,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":10006,"event":"return","thread_id":9960,"parent_id":10003,"elapsed":0.00041702098678797483,"elapsed_instrumentation":0.00029363302746787667,"return_value":{"class":"String","value":"bob","object_id":296120}},{"id":10007,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"acct","path":"app/models/account.rb","lineno":191,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":296100,"value":"#<Account:0x00007f5e0f30a290>"}},{"id":10008,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":296100,"value":"#<Account:0x00007f5e0f30a290>"}},{"id":10009,"event":"return","thread_id":9960,"parent_id":10008,"elapsed":7.11000757291913e-06,"elapsed_instrumentation":8.253694977611303e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":10010,"event":"return","thread_id":9960,"parent_id":10007,"elapsed":0.00011325394734740257,"elapsed_instrumentation":0.0001471640425734222,"return_value":{"class":"String","value":"bob","object_id":296120}},{"id":10011,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"acct","path":"app/models/account.rb","lineno":191,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":296100,"value":"#<Account:0x00007f5e0f30a290>"}},{"id":10012,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":296100,"value":"#<Account:0x00007f5e0f30a290>"}},{"id":10013,"event":"return","thread_id":9960,"parent_id":10012,"elapsed":1.1267955414950848e-05,"elapsed_instrumentation":0.00029159901896491647,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":10014,"event":"return","thread_id":9960,"parent_id":10011,"elapsed":0.00034209596924483776,"elapsed_instrumentation":0.00013160897651687264,"return_value":{"class":"String","value":"bob","object_id":296120}},{"id":10015,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"acct","path":"app/models/account.rb","lineno":191,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":296100,"value":"#<Account:0x00007f5e0f30a290>"}},{"id":10016,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":296100,"value":"#<Account:0x00007f5e0f30a290>"}},{"id":10017,"event":"return","thread_id":9960,"parent_id":10016,"elapsed":6.2800245359539986e-06,"elapsed_instrumentation":7.123994873836637e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":10018,"event":"return","thread_id":9960,"parent_id":10015,"elapsed":9.901501471176744e-05,"elapsed_instrumentation":0.00011254096170887351,"return_value":{"class":"String","value":"bob","object_id":296120}},{"id":10019,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":192860,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":296140,"value":"\u0013U___E\b_i___"}},{"id":10020,"event":"return","thread_id":9960,"parent_id":10019,"elapsed":0.00022968300618231297,"elapsed_instrumentation":0.000374961004126817,"return_value":{"class":"String","value":"1355d5c1a745088d69a5e683","object_id":296160}},{"id":10021,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":296180,"value":"[111362558139389017, bob, follow, {reblogs=>true, notify=>false, languages=>}]","kind":"req","size":4}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":296200,"value":"#<JSON::Ext::Generator::State:0x00007f5e0ec61bf0>"}},{"id":10022,"event":"return","thread_id":9960,"parent_id":10021,"elapsed":1.103902468457818e-05,"elapsed_instrumentation":0.00027832493651658297,"return_value":{"class":"String","value":"[111362558139389017,\"bob\",\"follow\",{\"reblogs\":true,\"notify\":false,\"languages\":null}]","object_id":296220}},{"id":10023,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":296240,"value":"#<JSON::Ext::Parser:0x00007f5e0ec70538>"}},{"id":10024,"event":"return","thread_id":9960,"parent_id":10023,"elapsed":1.6660953406244516e-05,"elapsed_instrumentation":0.0005722730420529842,"return_value":{"class":"Array","value":"[111362558139389017, bob, follow, {reblogs=>true, notify=>false, languages=>}]","object_id":296260,"size":4}},{"id":10025,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":192860,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":296280,"value":"_m___o_c\t_\b_"}},{"id":10026,"event":"return","thread_id":9960,"parent_id":10025,"elapsed":5.638983566313982e-06,"elapsed_instrumentation":0.00024482206208631396,"return_value":{"class":"String","value":"f86dc2ccf26fe66309ff08bd","object_id":296300}},{"id":10027,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":296320,"value":"{retry=>8, queue=>pull, dead=>false, args=>[111362558139389017, bob, follow, {reblogs=>true, notify=>false, languages=>}], class=>Import::RelationshipWorker, jid=>1355d5c1a745088d69a5e683, created_at=>1699257784.8310294, id=>f86dc2ccf26fe66309ff08bd}","kind":"req","size":8}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":296340,"value":"#<JSON::Ext::Generator::State:0x00007f5e0ec0e0b8>"}},{"id":10028,"event":"return","thread_id":9960,"parent_id":10027,"elapsed":3.248103894293308e-05,"elapsed_instrumentation":0.000695069960784167,"return_value":{"class":"String","value":"{\"retry\":8,\"queue\":\"pull\",\"dead\":false,\"args\":[111362558139389017,\"bob\",\"follow\",{\"reblogs\":true,\"no (...165 more characters)","object_id":296360}},{"id":10029,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":296380,"value":"#<JSON::Ext::Parser:0x00007f5e0ec0b8e0>"}},{"id":10030,"event":"return","thread_id":9960,"parent_id":10029,"elapsed":3.247498534619808e-05,"elapsed_instrumentation":0.0005439730593934655,"return_value":{"class":"Hash","value":"{retry=>8, queue=>pull, dead=>false, args=>[111362558139389017, bob, follow, {reblogs=>true, notify=>false, languages=>}], class=>Import::RelationshipWorker, jid=>1355d5c1a745088d69a5e683, created_at=>1699257784.8310294, id=>f86dc2ccf26fe66309ff08bd}","object_id":296400,"size":8}},{"id":10031,"event":"call","thread_id":9960,"defined_class":"Import::RelationshipWorker","method_id":"perform","path":"app/workers/import/relationship_worker.rb","lineno":11,"static":false,"parameters":[{"name":"account_id","class":"Integer","object_id":222725116278778035,"value":"111362558139389017","kind":"req"},{"name":"target_account_uri","class":"String","object_id":296420,"value":"bob","kind":"req"},{"name":"relationship","class":"String","object_id":296440,"value":"follow","kind":"req"},{"name":"options","class":"Hash","object_id":296460,"value":"{reblogs=>true, notify=>false, languages=>}","kind":"req","size":3}],"receiver":{"class":"Import::RelationshipWorker","object_id":296480,"value":"#<Import::RelationshipWorker:0x00007f5e0ec091f8>"}},{"id":10032,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":10033,"event":"return","thread_id":9960,"parent_id":10032,"elapsed":0.001751756,"elapsed_instrumentation":0.00015054299728944898},{"id":10034,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":296500,"value":"  \u001b[1m\u001b[36mAccount Load (1.9ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accoun (...1364 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10035,"event":"return","thread_id":9960,"parent_id":10034,"elapsed":0.0051409529987722635,"elapsed_instrumentation":0.0003102430491708219,"return_value":{"class":"Integer","value":"1464","object_id":2929}},{"id":10036,"event":"call","thread_id":9960,"defined_class":"Import::RelationshipWorker","method_id":"domain","path":"app/workers/import/relationship_worker.rb","lineno":41,"static":false,"parameters":[{"name":"uri","class":"String","object_id":296420,"value":"bob","kind":"req"}],"receiver":{"class":"Import::RelationshipWorker","object_id":296480,"value":"#<Import::RelationshipWorker:0x00007f5e0ec091f8>"}},{"id":10037,"event":"call","thread_id":9960,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"TagManager","object_id":199560,"value":"#<TagManager:0x00007f5e1188f740>"}},{"id":10038,"event":"return","thread_id":9960,"parent_id":10037,"elapsed":3.469001967459917e-06,"elapsed_instrumentation":0.00018388201715424657,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":10039,"event":"return","thread_id":9960,"parent_id":10036,"elapsed":0.00021866097813472152,"elapsed_instrumentation":0.00016124703688547015},{"id":10040,"event":"call","thread_id":9960,"defined_class":"Import::RelationshipWorker","method_id":"stoplight_wrap_request","path":"app/workers/import/relationship_worker.rb","lineno":46,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Import::RelationshipWorker","object_id":296480,"value":"#<Import::RelationshipWorker:0x00007f5e0ec091f8>"}},{"id":10041,"event":"call","thread_id":9960,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"TagManager","object_id":199560,"value":"#<TagManager:0x00007f5e1188f740>"}},{"id":10042,"event":"return","thread_id":9960,"parent_id":10041,"elapsed":2.5430344976484776e-06,"elapsed_instrumentation":8.182699093595147e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":10043,"event":"call","thread_id":9960,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"ResolveAccountService","object_id":296520,"value":"#<ResolveAccountService:0x00007f5e0dfe82c0>"}},{"id":10044,"event":"return","thread_id":9960,"parent_id":10043,"elapsed":5.484034772962332e-06,"elapsed_instrumentation":7.027399260550737e-05},{"id":10045,"event":"call","thread_id":9960,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":296540,"value":"#<AccountFinderConcern::AccountFinder:0x00007f5e0ec01638>"}},{"id":10046,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'bob' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":10047,"event":"return","thread_id":9960,"parent_id":10046,"elapsed":0.00152945,"elapsed_instrumentation":0.00011708802776411176},{"id":10048,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":296560,"value":"  \u001b[1m\u001b[36mAccount Load (1.7ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accoun (...1459 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10049,"event":"return","thread_id":9960,"parent_id":10048,"elapsed":0.0031880459864623845,"elapsed_instrumentation":0.0002418719814158976,"return_value":{"class":"Integer","value":"1559","object_id":3119}},{"id":10050,"event":"return","thread_id":9960,"parent_id":10045,"elapsed":0.008154515991918743,"elapsed_instrumentation":0.00019332004012539983,"return_value":{"class":"Account","value":"#<Account:0x00007f5e0f309890>","object_id":296580}},{"id":10051,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":296580,"value":"#<Account:0x00007f5e0f309890>"}},{"id":10052,"event":"return","thread_id":9960,"parent_id":10051,"elapsed":2.0141946151852608e-05,"elapsed_instrumentation":0.00042127998312935233,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":10053,"event":"return","thread_id":9960,"parent_id":10040,"elapsed":0.0091035989462398,"elapsed_instrumentation":0.00010290095815435052,"return_value":{"class":"Account","value":"#<Account:0x00007f5e0f309890>","object_id":296580}},{"id":10054,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":296580,"value":"#<Account:0x00007f5e0f309890>"}},{"id":10055,"event":"return","thread_id":9960,"parent_id":10054,"elapsed":2.7767964638769627e-05,"elapsed_instrumentation":7.865100633352995e-05},{"id":10056,"event":"call","thread_id":9960,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"FollowService","object_id":296600,"value":"#<FollowService:0x00007f5e0dfe7370>"}},{"id":10057,"event":"return","thread_id":9960,"parent_id":10056,"elapsed":5.227979272603989e-06,"elapsed_instrumentation":9.342597331851721e-05},{"id":10058,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"blocking?","path":"app/models/concerns/account_interactions.rb","lineno":214,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":296620,"value":"#<Account:0x00007f5e0f3099d0>","kind":"req"}],"receiver":{"class":"Account","object_id":296580,"value":"#<Account:0x00007f5e0f309890>"}},{"id":10059,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":10060,"event":"return","thread_id":9960,"parent_id":10059,"elapsed":0.001664495,"elapsed_instrumentation":0.00012181396596133709},{"id":10061,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":296640,"value":"  \u001b[1m\u001b[36mBlock Exists? (1.8ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account (...156 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10062,"event":"return","thread_id":9960,"parent_id":10061,"elapsed":0.0037695709615945816,"elapsed_instrumentation":0.00029488600557669997,"return_value":{"class":"Integer","value":"256","object_id":513}},{"id":10063,"event":"return","thread_id":9960,"parent_id":10058,"elapsed":0.008825028024148196,"elapsed_instrumentation":9.091396350413561e-05},{"id":10064,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"blocking?","path":"app/models/concerns/account_interactions.rb","lineno":214,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":296580,"value":"#<Account:0x00007f5e0f309890>","kind":"req"}],"receiver":{"class":"Account","object_id":296620,"value":"#<Account:0x00007f5e0f3099d0>"}},{"id":10065,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":10066,"event":"return","thread_id":9960,"parent_id":10065,"elapsed":0.001032354,"elapsed_instrumentation":0.00015798001550137997},{"id":10067,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":296660,"value":"  \u001b[1m\u001b[36mBlock Exists? (1.2ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account (...156 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10068,"event":"return","thread_id":9960,"parent_id":10067,"elapsed":0.0034017880097962916,"elapsed_instrumentation":0.000353658979292959,"return_value":{"class":"Integer","value":"256","object_id":513}},{"id":10069,"event":"return","thread_id":9960,"parent_id":10064,"elapsed":0.007449511031154543,"elapsed_instrumentation":0.00020900595700368285},{"id":10070,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"moved?","path":"app/models/account.rb","lineno":167,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":296580,"value":"#<Account:0x00007f5e0f309890>"}},{"id":10071,"event":"return","thread_id":9960,"parent_id":10070,"elapsed":3.457500133663416e-05,"elapsed_instrumentation":0.0002065750304609537},{"id":10072,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":296580,"value":"#<Account:0x00007f5e0f309890>"}},{"id":10073,"event":"return","thread_id":9960,"parent_id":10072,"elapsed":1.0790012311190367e-05,"elapsed_instrumentation":0.00014239305164664984,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":10074,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"domain_blocking?","path":"app/models/concerns/account_interactions.rb","lineno":218,"static":false,"parameters":[{"name":"other_domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"Account","object_id":296620,"value":"#<Account:0x00007f5e0f3099d0>"}},{"id":10075,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"account_domain_blocks\" WHERE \"account_domain_blocks\".\"account_id\" = $1 AND \"account_domain_blocks\".\"domain\" IS NULL LIMIT $2","database_type":"postgres"}},{"id":10076,"event":"return","thread_id":9960,"parent_id":10075,"elapsed":0.001074921,"elapsed_instrumentation":0.0001188750029541552},{"id":10077,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":296680,"value":"  \u001b[1m\u001b[36mAccountDomainBlock Exists? (1.2ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"account_domain_blo (...163 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10078,"event":"return","thread_id":9960,"parent_id":10077,"elapsed":0.0031695259967818856,"elapsed_instrumentation":0.00022117496700957417,"return_value":{"class":"Integer","value":"263","object_id":527}},{"id":10079,"event":"return","thread_id":9960,"parent_id":10074,"elapsed":0.00735956704011187,"elapsed_instrumentation":0.00010335003025829792},{"id":10080,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"following?","path":"app/models/concerns/account_interactions.rb","lineno":198,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":296580,"value":"#<Account:0x00007f5e0f309890>","kind":"req"}],"receiver":{"class":"Account","object_id":296620,"value":"#<Account:0x00007f5e0f3099d0>"}},{"id":10081,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":10082,"event":"return","thread_id":9960,"parent_id":10081,"elapsed":0.001172414,"elapsed_instrumentation":0.0001316069974564016},{"id":10083,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":296700,"value":"  \u001b[1m\u001b[36mFollow Exists? (1.3ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"acco (...160 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10084,"event":"return","thread_id":9960,"parent_id":10083,"elapsed":0.0025398549623787403,"elapsed_instrumentation":0.0005213440745137632,"return_value":{"class":"Integer","value":"260","object_id":521}},{"id":10085,"event":"return","thread_id":9960,"parent_id":10080,"elapsed":0.00679490395123139,"elapsed_instrumentation":0.00021542701870203018,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":10086,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"follow!","path":"app/models/concerns/account_interactions.rb","lineno":115,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":296580,"value":"#<Account:0x00007f5e0f309890>","kind":"req"},{"name":"reblogs","class":"TrueClass","object_id":20,"value":"true","kind":"key"},{"name":"notify","class":"FalseClass","object_id":0,"value":"false","kind":"key"},{"name":"languages","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"uri","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"rate_limit","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"bypass_limit","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Account","object_id":296620,"value":"#<Account:0x00007f5e0f3099d0>"}},{"id":10087,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":10088,"event":"return","thread_id":9960,"parent_id":10087,"elapsed":0.001209491,"elapsed_instrumentation":0.00018246902618557215},{"id":10089,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":296720,"value":"  \u001b[1m\u001b[36mFollow Load (1.4ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"acco (...160 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10090,"event":"return","thread_id":9960,"parent_id":10089,"elapsed":0.0028787539922632277,"elapsed_instrumentation":0.0005633789696730673,"return_value":{"class":"Integer","value":"260","object_id":521}},{"id":10091,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":296740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255160,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc8e80>"}},{"id":10092,"event":"return","thread_id":9960,"parent_id":10091,"elapsed":0.0003243850078433752,"elapsed_instrumentation":0.000446257006842643,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0eda8810 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eda8950 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":255240,"size":2}},{"id":10093,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":296760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc8c00>"}},{"id":10094,"event":"call","thread_id":9960,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":10095,"event":"return","thread_id":9960,"parent_id":10094,"elapsed":0.000831249,"elapsed_instrumentation":0.00013276701793074608},{"id":10096,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":296780,"value":"  \u001b[1m\u001b[36mTRANSACTION (1.0ms)\u001b[0m  \u001b[1m\u001b[35mSAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10097,"event":"return","thread_id":9960,"parent_id":10096,"elapsed":0.0024246859829872847,"elapsed_instrumentation":0.0002958980039693415,"return_value":{"class":"Integer","value":"75","object_id":151}},{"id":10098,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":10099,"event":"return","thread_id":9960,"parent_id":10098,"elapsed":0.001059768,"elapsed_instrumentation":0.00010009604739025235},{"id":10100,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":296800,"value":"  \u001b[1m\u001b[36mAccount Load (1.2ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accoun (...1364 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10101,"event":"return","thread_id":9960,"parent_id":10100,"elapsed":0.003164068970363587,"elapsed_instrumentation":0.00023635401157662272,"return_value":{"class":"Integer","value":"1464","object_id":2929}},{"id":10102,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT distinct i.relname, d.indisunique, d.indkey, pg_get_indexdef(d.indexrelid), t.oid,\n                pg_catalog.obj_description(i.oid, 'pg_class') AS comment, d.indisvalid\nFROM pg_class t\nINNER JOIN pg_index d ON t.oid = d.indrelid\nINNER JOIN pg_class i ON d.indexrelid = i.oid\nLEFT JOIN pg_namespace n ON n.oid = t.relnamespace\nWHERE i.relkind IN ('i', 'I')\n  AND d.indisprimary = 'f'\n  AND t.relname = 'follows'\n  AND n.nspname = ANY (current_schemas(false))\nORDER BY i.relname\n","database_type":"postgres"}},{"id":10103,"event":"return","thread_id":9960,"parent_id":10102,"elapsed":0.008080463,"elapsed_instrumentation":0.00013123900862410665},{"id":10104,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 432194\nAND a.attnum IN (4, 5)\n","database_type":"postgres"}},{"id":10105,"event":"return","thread_id":9960,"parent_id":10104,"elapsed":0.00158777,"elapsed_instrumentation":0.00019657699158415198},{"id":10106,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT a.attnum, a.attname\nFROM pg_attribute a\nWHERE a.attrelid = 432194\nAND a.attnum IN (5)\n","database_type":"postgres"}},{"id":10107,"event":"return","thread_id":9960,"parent_id":10106,"elapsed":0.001042279,"elapsed_instrumentation":0.0001352860126644373},{"id":10108,"event":"call","thread_id":9960,"defined_class":"LanguageValidator","method_id":"validate_each","path":"app/validators/language_validator.rb","lineno":6,"static":false,"parameters":[{"name":"record","class":"Follow","object_id":296820,"value":"#<Follow:0x00007f5e0f308350>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":9570268,"value":":languages","kind":"req"},{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"LanguageValidator","object_id":255480,"value":"#<LanguageValidator:0x00007f5e11866020>"}},{"id":10109,"event":"return","thread_id":9960,"parent_id":10108,"elapsed":6.984046194702387e-06,"elapsed_instrumentation":0.0005385190015658736},{"id":10110,"event":"return","thread_id":9960,"parent_id":10093,"elapsed":0.02429172396659851,"elapsed_instrumentation":0.00023319898173213005,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0eda5840 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eda59f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eda5cc8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eda5ea8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eda6088 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eda6268 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":255500,"size":6}},{"id":10111,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":296760,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc8c00>"}},{"id":10112,"event":"return","thread_id":9960,"parent_id":10111,"elapsed":3.7170248106122017e-06,"elapsed_instrumentation":0.00012173998402431607,"return_value":{"class":"Array","value":"[]","object_id":255520,"size":0}},{"id":10113,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":296740,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255160,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc8e80>"}},{"id":10114,"event":"return","thread_id":9960,"parent_id":10113,"elapsed":3.002001903951168e-06,"elapsed_instrumentation":8.752505527809262e-05,"return_value":{"class":"Array","value":"[]","object_id":255540,"size":0}},{"id":10115,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":296840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255580,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc7bc0>"}},{"id":10116,"event":"return","thread_id":9960,"parent_id":10115,"elapsed":7.453199941664934e-05,"elapsed_instrumentation":0.00016261893324553967,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0ed8a608 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0ed8a748 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":255600,"size":2}},{"id":10117,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":296860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":296880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0dfe2f50>"}},{"id":10118,"event":"return","thread_id":9960,"parent_id":10117,"elapsed":6.719958037137985e-06,"elapsed_instrumentation":0.00021003902656957507,"return_value":{"class":"Array","value":"[]","object_id":296900,"size":0}},{"id":10119,"event":"call","thread_id":9960,"sql_query":{"sql":"UPDATE \"follows\" SET \"updated_at\" = $1, \"show_reblogs\" = $2 WHERE \"follows\".\"id\" = $3","database_type":"postgres"}},{"id":10120,"event":"return","thread_id":9960,"parent_id":10119,"elapsed":0.001283734,"elapsed_instrumentation":0.0002286990056745708},{"id":10121,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":296920,"value":"  \u001b[1m\u001b[36mFollow Update (1.5ms)\u001b[0m  \u001b[1m\u001b[33mUPDATE \"follows\" SET \"updated_at\" = $1, \"show_reblogs (...121 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10122,"event":"return","thread_id":9960,"parent_id":10121,"elapsed":0.002626962959766388,"elapsed_instrumentation":0.00022114603780210018,"return_value":{"class":"Integer","value":"221","object_id":443}},{"id":10123,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":296860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":296880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0dfe2f50>"}},{"id":10124,"event":"return","thread_id":9960,"parent_id":10123,"elapsed":4.513998283073306e-05,"elapsed_instrumentation":0.00027764198603108525,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0eb68c58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":296940,"size":1}},{"id":10125,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":296840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255580,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc7bc0>"}},{"id":10126,"event":"return","thread_id":9960,"parent_id":10125,"elapsed":6.146030500531197e-06,"elapsed_instrumentation":0.00041221093852072954,"return_value":{"class":"Array","value":"[]","object_id":255780,"size":0}},{"id":10127,"event":"call","thread_id":9960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":10128,"event":"return","thread_id":9960,"parent_id":10127,"elapsed":0.000919325,"elapsed_instrumentation":0.00013011001283302903},{"id":10129,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":296960,"value":"  \u001b[1m\u001b[36mTRANSACTION (1.1ms)\u001b[0m  \u001b[1m\u001b[35mRELEASE SAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10130,"event":"return","thread_id":9960,"parent_id":10129,"elapsed":0.0034067880478687584,"elapsed_instrumentation":0.0005727449315600097,"return_value":{"class":"Integer","value":"83","object_id":167}},{"id":10131,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":296980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc6770>"}},{"id":10132,"event":"return","thread_id":9960,"parent_id":10131,"elapsed":6.809947080910206e-06,"elapsed_instrumentation":0.0005199780571274459,"return_value":{"class":"Array","value":"[]","object_id":255860,"size":0}},{"id":10133,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":296980,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc6770>"}},{"id":10134,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":297000,"value":"Cache delete: relationship:111362558139389017:111362558139389018\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10135,"event":"return","thread_id":9960,"parent_id":10134,"elapsed":0.0020403519738465548,"elapsed_instrumentation":0.00040922703919932246,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":10136,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":297020,"value":"Cache delete: relationship:111362558139389018:111362558139389017\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10137,"event":"return","thread_id":9960,"parent_id":10136,"elapsed":0.0028406219789758325,"elapsed_instrumentation":0.00035096699139103293,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":10138,"event":"return","thread_id":9960,"parent_id":10133,"elapsed":0.006155552982818335,"elapsed_instrumentation":0.000179945956915617,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0ed7afc8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":255920,"size":1}},{"id":10139,"event":"call","thread_id":9960,"defined_class":"PotentialFriendshipTracker","method_id":"remove","path":"app/lib/potential_friendship_tracker.rb","lineno":27,"static":true,"parameters":[{"name":"account_id","class":"Integer","object_id":222725116278778035,"value":"111362558139389017","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222725116278778037,"value":"111362558139389018","kind":"req"}],"receiver":{"class":"Class","object_id":255940,"value":"PotentialFriendshipTracker"}},{"id":10140,"event":"call","thread_id":9960,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Class","object_id":255940,"value":"PotentialFriendshipTracker"}},{"id":10141,"event":"return","thread_id":9960,"parent_id":10140,"elapsed":8.483999408781528e-06,"elapsed_instrumentation":0.00017282302724197507,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007f5e126ad930>","object_id":222620}},{"id":10142,"event":"return","thread_id":9960,"parent_id":10139,"elapsed":0.0010098500060848892,"elapsed_instrumentation":0.0002688199747353792},{"id":10143,"event":"return","thread_id":9960,"parent_id":10086,"elapsed":0.056639708986040205,"elapsed_instrumentation":0.0004005560767836869,"return_value":{"class":"Follow","value":"#<Follow:0x00007f5e0f308350>","object_id":296820}},{"id":10144,"event":"return","thread_id":9960,"parent_id":10031,"elapsed":0.10796663595829159,"elapsed_instrumentation":0.0002663909690454602,"return_value":{"class":"Follow","value":"#<Follow:0x00007f5e0f308350>","object_id":296820}},{"id":10145,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":192860,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":297040,"value":".z\u0002__X%?{,\u0012:"}},{"id":10146,"event":"return","thread_id":9960,"parent_id":10145,"elapsed":6.645044777542353e-06,"elapsed_instrumentation":0.0003882389864884317,"return_value":{"class":"String","value":"2e7a0287c758253f7b2c123a","object_id":297060}},{"id":10147,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":192860,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":297080,"value":"___\rx_u5D\u001f_F"}},{"id":10148,"event":"return","thread_id":9960,"parent_id":10147,"elapsed":3.462017048150301e-06,"elapsed_instrumentation":0.00011019798694178462,"return_value":{"class":"String","value":"85fd870d78fa7535441ff846","object_id":297100}},{"id":10149,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":297120,"value":"[111362558139389017, bob, follow, {reblogs=>true, notify=>false, languages=>}]","kind":"req","size":4}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":297140,"value":"#<JSON::Ext::Generator::State:0x00007f5e0eb0d4e8>"}},{"id":10150,"event":"return","thread_id":9960,"parent_id":10149,"elapsed":9.52399568632245e-06,"elapsed_instrumentation":0.00018650194397196174,"return_value":{"class":"String","value":"[111362558139389017,\"bob\",\"follow\",{\"reblogs\":true,\"notify\":false,\"languages\":null}]","object_id":297160}},{"id":10151,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":297180,"value":"#<JSON::Ext::Parser:0x00007f5e0eb0b508>"}},{"id":10152,"event":"return","thread_id":9960,"parent_id":10151,"elapsed":1.54580338858068e-05,"elapsed_instrumentation":0.00013601698447018862,"return_value":{"class":"Array","value":"[111362558139389017, bob, follow, {reblogs=>true, notify=>false, languages=>}]","object_id":297200,"size":4}},{"id":10153,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":192860,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":297220,"value":"@-\u0002_9Z__\n_X_"}},{"id":10154,"event":"return","thread_id":9960,"parent_id":10153,"elapsed":5.059002432972193e-06,"elapsed_instrumentation":0.00016379001317545772,"return_value":{"class":"String","value":"402d02e8395ae7bc0aef58a2","object_id":297240}},{"id":10155,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":297260,"value":"[111362558139389017, eve@example.com, follow, {reblogs=>true, notify=>false, languages=>}]","kind":"req","size":4}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":297280,"value":"#<JSON::Ext::Generator::State:0x00007f5e0eb077f0>"}},{"id":10156,"event":"return","thread_id":9960,"parent_id":10155,"elapsed":8.30204226076603e-06,"elapsed_instrumentation":0.00017686397768557072,"return_value":{"class":"String","value":"[111362558139389017,\"eve@example.com\",\"follow\",{\"reblogs\":true,\"notify\":false,\"languages\":null}]","object_id":297300}},{"id":10157,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":297320,"value":"#<JSON::Ext::Parser:0x00007f5e0eb05450>"}},{"id":10158,"event":"return","thread_id":9960,"parent_id":10157,"elapsed":1.1370982974767685e-05,"elapsed_instrumentation":0.00013458397006615996,"return_value":{"class":"Array","value":"[111362558139389017, eve@example.com, follow, {reblogs=>true, notify=>false, languages=>}]","object_id":297340,"size":4}},{"id":10159,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":192860,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":297360,"value":"\u001c\u001a?f\u0015____\u0000_I"}},{"id":10160,"event":"return","thread_id":9960,"parent_id":10159,"elapsed":7.2899856604635715e-06,"elapsed_instrumentation":0.00012298906221985817,"return_value":{"class":"String","value":"1c1a3f6615aba5adc700c549","object_id":297380}},{"id":10161,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":297400,"value":"{retry=>8, queue=>pull, dead=>false, class=>Import::RelationshipWorker, args=>[111362558139389017, bob, follow, {reblogs=>true, notify=>false, languages=>}], jid=>85fd870d78fa7535441ff846, created_at=>1699257784.9430337, id=>1c1a3f6615aba5adc700c549}","kind":"req","size":8}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":297420,"value":"#<JSON::Ext::Generator::State:0x00007f5e0eb01d78>"}},{"id":10162,"event":"return","thread_id":9960,"parent_id":10161,"elapsed":1.6995996702462435e-05,"elapsed_instrumentation":0.0002705639344640076,"return_value":{"class":"String","value":"{\"retry\":8,\"queue\":\"pull\",\"dead\":false,\"class\":\"Import::RelationshipWorker\",\"args\":[1113625581393890 (...165 more characters)","object_id":297440}},{"id":10163,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":297460,"value":"#<JSON::Ext::Parser:0x00007f5e0eb2d658>"}},{"id":10164,"event":"return","thread_id":9960,"parent_id":10163,"elapsed":2.5619054213166237e-05,"elapsed_instrumentation":0.0002256169682368636,"return_value":{"class":"Hash","value":"{retry=>8, queue=>pull, dead=>false, class=>Import::RelationshipWorker, args=>[111362558139389017, bob, follow, {reblogs=>true, notify=>false, languages=>}], jid=>85fd870d78fa7535441ff846, created_at=>1699257784.9430337, id=>1c1a3f6615aba5adc700c549}","object_id":297480,"size":8}},{"id":10165,"event":"call","thread_id":9960,"defined_class":"Import::RelationshipWorker","method_id":"perform","path":"app/workers/import/relationship_worker.rb","lineno":11,"static":false,"parameters":[{"name":"account_id","class":"Integer","object_id":222725116278778035,"value":"111362558139389017","kind":"req"},{"name":"target_account_uri","class":"String","object_id":297500,"value":"bob","kind":"req"},{"name":"relationship","class":"String","object_id":297520,"value":"follow","kind":"req"},{"name":"options","class":"Hash","object_id":297540,"value":"{reblogs=>true, notify=>false, languages=>}","kind":"req","size":3}],"receiver":{"class":"Import::RelationshipWorker","object_id":297560,"value":"#<Import::RelationshipWorker:0x00007f5e0eb299b8>"}},{"id":10166,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":10167,"event":"return","thread_id":9960,"parent_id":10166,"elapsed":0.000738997,"elapsed_instrumentation":0.0001382289920002222},{"id":10168,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":297580,"value":"  \u001b[1m\u001b[36mAccount Load (0.9ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accoun (...1364 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10169,"event":"return","thread_id":9960,"parent_id":10168,"elapsed":0.0025960649945773184,"elapsed_instrumentation":0.0002542859874665737,"return_value":{"class":"Integer","value":"1464","object_id":2929}},{"id":10170,"event":"call","thread_id":9960,"defined_class":"Import::RelationshipWorker","method_id":"domain","path":"app/workers/import/relationship_worker.rb","lineno":41,"static":false,"parameters":[{"name":"uri","class":"String","object_id":297500,"value":"bob","kind":"req"}],"receiver":{"class":"Import::RelationshipWorker","object_id":297560,"value":"#<Import::RelationshipWorker:0x00007f5e0eb299b8>"}},{"id":10171,"event":"call","thread_id":9960,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"TagManager","object_id":199560,"value":"#<TagManager:0x00007f5e1188f740>"}},{"id":10172,"event":"return","thread_id":9960,"parent_id":10171,"elapsed":5.801033694297075e-06,"elapsed_instrumentation":0.00024294696049764752,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":10173,"event":"return","thread_id":9960,"parent_id":10170,"elapsed":0.0003020190051756799,"elapsed_instrumentation":0.00018108199583366513},{"id":10174,"event":"call","thread_id":9960,"defined_class":"Import::RelationshipWorker","method_id":"stoplight_wrap_request","path":"app/workers/import/relationship_worker.rb","lineno":46,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Import::RelationshipWorker","object_id":297560,"value":"#<Import::RelationshipWorker:0x00007f5e0eb299b8>"}},{"id":10175,"event":"call","thread_id":9960,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"TagManager","object_id":199560,"value":"#<TagManager:0x00007f5e1188f740>"}},{"id":10176,"event":"return","thread_id":9960,"parent_id":10175,"elapsed":3.5990378819406033e-06,"elapsed_instrumentation":0.0001382609480060637,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":10177,"event":"call","thread_id":9960,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"ResolveAccountService","object_id":297600,"value":"#<ResolveAccountService:0x00007f5e0dffee30>"}},{"id":10178,"event":"return","thread_id":9960,"parent_id":10177,"elapsed":6.204994861036539e-06,"elapsed_instrumentation":0.0001128209987655282},{"id":10179,"event":"call","thread_id":9960,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":297620,"value":"#<AccountFinderConcern::AccountFinder:0x00007f5e0eb3ce00>"}},{"id":10180,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'bob' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":10181,"event":"return","thread_id":9960,"parent_id":10180,"elapsed":0.000848498,"elapsed_instrumentation":0.0001094290055334568},{"id":10182,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":297640,"value":"  \u001b[1m\u001b[36mAccount Load (1.0ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accoun (...1459 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10183,"event":"return","thread_id":9960,"parent_id":10182,"elapsed":0.0036803760449402034,"elapsed_instrumentation":0.00027152494294568896,"return_value":{"class":"Integer","value":"1559","object_id":3119}},{"id":10184,"event":"return","thread_id":9960,"parent_id":10179,"elapsed":0.00830035499529913,"elapsed_instrumentation":0.00019420497119426727,"return_value":{"class":"Account","value":"#<Account:0x00007f5e0f306e10>","object_id":297660}},{"id":10185,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":297660,"value":"#<Account:0x00007f5e0f306e10>"}},{"id":10186,"event":"return","thread_id":9960,"parent_id":10185,"elapsed":2.4270033463835716e-05,"elapsed_instrumentation":0.00020913395565003157,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":10187,"event":"return","thread_id":9960,"parent_id":10174,"elapsed":0.009678567992523313,"elapsed_instrumentation":0.00016264402074739337,"return_value":{"class":"Account","value":"#<Account:0x00007f5e0f306e10>","object_id":297660}},{"id":10188,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":297660,"value":"#<Account:0x00007f5e0f306e10>"}},{"id":10189,"event":"return","thread_id":9960,"parent_id":10188,"elapsed":2.7175003197044134e-05,"elapsed_instrumentation":7.666397141292691e-05},{"id":10190,"event":"call","thread_id":9960,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"FollowService","object_id":297680,"value":"#<FollowService:0x00007f5e0dffdee0>"}},{"id":10191,"event":"return","thread_id":9960,"parent_id":10190,"elapsed":5.137990228831768e-06,"elapsed_instrumentation":8.709600660949945e-05},{"id":10192,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"blocking?","path":"app/models/concerns/account_interactions.rb","lineno":214,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":297700,"value":"#<Account:0x00007f5e0f306f50>","kind":"req"}],"receiver":{"class":"Account","object_id":297660,"value":"#<Account:0x00007f5e0f306e10>"}},{"id":10193,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":10194,"event":"return","thread_id":9960,"parent_id":10193,"elapsed":0.001078532,"elapsed_instrumentation":0.00012110202806070447},{"id":10195,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":297720,"value":"  \u001b[1m\u001b[36mBlock Exists? (1.2ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account (...156 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10196,"event":"return","thread_id":9960,"parent_id":10195,"elapsed":0.00217282900121063,"elapsed_instrumentation":0.00028074003057554364,"return_value":{"class":"Integer","value":"256","object_id":513}},{"id":10197,"event":"return","thread_id":9960,"parent_id":10192,"elapsed":0.0065790750086307526,"elapsed_instrumentation":0.0002273950376547873},{"id":10198,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"blocking?","path":"app/models/concerns/account_interactions.rb","lineno":214,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":297660,"value":"#<Account:0x00007f5e0f306e10>","kind":"req"}],"receiver":{"class":"Account","object_id":297700,"value":"#<Account:0x00007f5e0f306f50>"}},{"id":10199,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":10200,"event":"return","thread_id":9960,"parent_id":10199,"elapsed":0.001191235,"elapsed_instrumentation":0.0001228820183314383},{"id":10201,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":297740,"value":"  \u001b[1m\u001b[36mBlock Exists? (1.3ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account (...156 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10202,"event":"return","thread_id":9960,"parent_id":10201,"elapsed":0.002171154017560184,"elapsed_instrumentation":0.00039494497468695045,"return_value":{"class":"Integer","value":"256","object_id":513}},{"id":10203,"event":"return","thread_id":9960,"parent_id":10198,"elapsed":0.006716767034959048,"elapsed_instrumentation":0.0001662470167502761},{"id":10204,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"moved?","path":"app/models/account.rb","lineno":167,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":297660,"value":"#<Account:0x00007f5e0f306e10>"}},{"id":10205,"event":"return","thread_id":9960,"parent_id":10204,"elapsed":2.413999754935503e-05,"elapsed_instrumentation":0.00010902801295742393},{"id":10206,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":297660,"value":"#<Account:0x00007f5e0f306e10>"}},{"id":10207,"event":"return","thread_id":9960,"parent_id":10206,"elapsed":7.496972102671862e-06,"elapsed_instrumentation":8.559593698009849e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":10208,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"domain_blocking?","path":"app/models/concerns/account_interactions.rb","lineno":218,"static":false,"parameters":[{"name":"other_domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"Account","object_id":297700,"value":"#<Account:0x00007f5e0f306f50>"}},{"id":10209,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"account_domain_blocks\" WHERE \"account_domain_blocks\".\"account_id\" = $1 AND \"account_domain_blocks\".\"domain\" IS NULL LIMIT $2","database_type":"postgres"}},{"id":10210,"event":"return","thread_id":9960,"parent_id":10209,"elapsed":0.000896533,"elapsed_instrumentation":9.000999853014946e-05},{"id":10211,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":297760,"value":"  \u001b[1m\u001b[36mAccountDomainBlock Exists? (1.0ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"account_domain_blo (...163 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10212,"event":"return","thread_id":9960,"parent_id":10211,"elapsed":0.002568849013186991,"elapsed_instrumentation":0.0007421780028380454,"return_value":{"class":"Integer","value":"263","object_id":527}},{"id":10213,"event":"return","thread_id":9960,"parent_id":10208,"elapsed":0.006035594968125224,"elapsed_instrumentation":0.00022595602786168456},{"id":10214,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"following?","path":"app/models/concerns/account_interactions.rb","lineno":198,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":297660,"value":"#<Account:0x00007f5e0f306e10>","kind":"req"}],"receiver":{"class":"Account","object_id":297700,"value":"#<Account:0x00007f5e0f306f50>"}},{"id":10215,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":10216,"event":"return","thread_id":9960,"parent_id":10215,"elapsed":0.0010842,"elapsed_instrumentation":0.00013163499534130096},{"id":10217,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":297780,"value":"  \u001b[1m\u001b[36mFollow Exists? (1.2ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"acco (...160 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10218,"event":"return","thread_id":9960,"parent_id":10217,"elapsed":0.0030240609776228666,"elapsed_instrumentation":0.00038915604818612337,"return_value":{"class":"Integer","value":"260","object_id":521}},{"id":10219,"event":"return","thread_id":9960,"parent_id":10214,"elapsed":0.007552581955678761,"elapsed_instrumentation":0.00032323499908670783,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":10220,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"follow!","path":"app/models/concerns/account_interactions.rb","lineno":115,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":297660,"value":"#<Account:0x00007f5e0f306e10>","kind":"req"},{"name":"reblogs","class":"TrueClass","object_id":20,"value":"true","kind":"key"},{"name":"notify","class":"FalseClass","object_id":0,"value":"false","kind":"key"},{"name":"languages","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"uri","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"rate_limit","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"bypass_limit","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Account","object_id":297700,"value":"#<Account:0x00007f5e0f306f50>"}},{"id":10221,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":10222,"event":"return","thread_id":9960,"parent_id":10221,"elapsed":0.001006057,"elapsed_instrumentation":0.0002728450344875455},{"id":10223,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":297800,"value":"  \u001b[1m\u001b[36mFollow Load (1.3ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"acco (...160 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10224,"event":"return","thread_id":9960,"parent_id":10223,"elapsed":0.0025600590161047876,"elapsed_instrumentation":0.0004941079532727599,"return_value":{"class":"Integer","value":"260","object_id":521}},{"id":10225,"event":"call","thread_id":9960,"defined_class":"PotentialFriendshipTracker","method_id":"remove","path":"app/lib/potential_friendship_tracker.rb","lineno":27,"static":true,"parameters":[{"name":"account_id","class":"Integer","object_id":222725116278778035,"value":"111362558139389017","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222725116278778037,"value":"111362558139389018","kind":"req"}],"receiver":{"class":"Class","object_id":255940,"value":"PotentialFriendshipTracker"}},{"id":10226,"event":"call","thread_id":9960,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Class","object_id":255940,"value":"PotentialFriendshipTracker"}},{"id":10227,"event":"return","thread_id":9960,"parent_id":10226,"elapsed":5.286012310534716e-06,"elapsed_instrumentation":0.00013416592264547944,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007f5e126ad930>","object_id":222620}},{"id":10228,"event":"return","thread_id":9960,"parent_id":10225,"elapsed":0.000985630031209439,"elapsed_instrumentation":0.00023922498803585768},{"id":10229,"event":"return","thread_id":9960,"parent_id":10220,"elapsed":0.008780887990724295,"elapsed_instrumentation":0.000392262008972466,"return_value":{"class":"Follow","value":"#<Follow:0x00007f5e0f3058d0>","object_id":297820}},{"id":10230,"event":"return","thread_id":9960,"parent_id":10165,"elapsed":0.05390175204956904,"elapsed_instrumentation":0.00016484991647303104,"return_value":{"class":"Follow","value":"#<Follow:0x00007f5e0f3058d0>","object_id":297820}},{"id":10231,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":192860,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":297840,"value":"____b______\u0006"}},{"id":10232,"event":"return","thread_id":9960,"parent_id":10231,"elapsed":1.1517025995999575e-05,"elapsed_instrumentation":0.0005956199602223933,"return_value":{"class":"String","value":"cf93febf6293a8f692aca206","object_id":297860}},{"id":10233,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":297880,"value":"{retry=>8, queue=>pull, dead=>false, class=>Import::RelationshipWorker, args=>[111362558139389017, eve@example.com, follow, {reblogs=>true, notify=>false, languages=>}], jid=>402d02e8395ae7bc0aef58a2, created_at=>1699257784.9430337, id=>cf93febf6293a8f692aca206}","kind":"req","size":8}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":297900,"value":"#<JSON::Ext::Generator::State:0x00007f5e0ea43490>"}},{"id":10234,"event":"return","thread_id":9960,"parent_id":10233,"elapsed":1.8415972590446472e-05,"elapsed_instrumentation":0.00045676599256694317,"return_value":{"class":"String","value":"{\"retry\":8,\"queue\":\"pull\",\"dead\":false,\"class\":\"Import::RelationshipWorker\",\"args\":[1113625581393890 (...177 more characters)","object_id":297920}},{"id":10235,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":297940,"value":"#<JSON::Ext::Parser:0x00007f5e0ea59f10>"}},{"id":10236,"event":"return","thread_id":9960,"parent_id":10235,"elapsed":3.6632001865655184e-05,"elapsed_instrumentation":0.0004343849723227322,"return_value":{"class":"Hash","value":"{retry=>8, queue=>pull, dead=>false, class=>Import::RelationshipWorker, args=>[111362558139389017, eve@example.com, follow, {reblogs=>true, notify=>false, languages=>}], jid=>402d02e8395ae7bc0aef58a2, created_at=>1699257784.9430337, id=>cf93febf6293a8f692aca206}","object_id":297960,"size":8}},{"id":10237,"event":"call","thread_id":9960,"defined_class":"Import::RelationshipWorker","method_id":"perform","path":"app/workers/import/relationship_worker.rb","lineno":11,"static":false,"parameters":[{"name":"account_id","class":"Integer","object_id":222725116278778035,"value":"111362558139389017","kind":"req"},{"name":"target_account_uri","class":"String","object_id":297980,"value":"eve@example.com","kind":"req"},{"name":"relationship","class":"String","object_id":298000,"value":"follow","kind":"req"},{"name":"options","class":"Hash","object_id":298020,"value":"{reblogs=>true, notify=>false, languages=>}","kind":"req","size":3}],"receiver":{"class":"Import::RelationshipWorker","object_id":298040,"value":"#<Import::RelationshipWorker:0x00007f5e0ea50a28>"}},{"id":10238,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":10239,"event":"return","thread_id":9960,"parent_id":10238,"elapsed":0.00082839,"elapsed_instrumentation":0.00014955498045310378},{"id":10240,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":298060,"value":"  \u001b[1m\u001b[36mAccount Load (1.0ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accoun (...1364 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10241,"event":"return","thread_id":9960,"parent_id":10240,"elapsed":0.0024645000230520964,"elapsed_instrumentation":0.00023447797866538167,"return_value":{"class":"Integer","value":"1464","object_id":2929}},{"id":10242,"event":"call","thread_id":9960,"defined_class":"Import::RelationshipWorker","method_id":"domain","path":"app/workers/import/relationship_worker.rb","lineno":41,"static":false,"parameters":[{"name":"uri","class":"String","object_id":297980,"value":"eve@example.com","kind":"req"}],"receiver":{"class":"Import::RelationshipWorker","object_id":298040,"value":"#<Import::RelationshipWorker:0x00007f5e0ea50a28>"}},{"id":10243,"event":"call","thread_id":9960,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"String","object_id":298080,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":199560,"value":"#<TagManager:0x00007f5e1188f740>"}},{"id":10244,"event":"return","thread_id":9960,"parent_id":10243,"elapsed":2.404599217697978e-05,"elapsed_instrumentation":0.00015984202036634088},{"id":10245,"event":"call","thread_id":9960,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":298080,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":199560,"value":"#<TagManager:0x00007f5e1188f740>"}},{"id":10246,"event":"return","thread_id":9960,"parent_id":10245,"elapsed":0.0005036520306020975,"elapsed_instrumentation":0.00023449095897376537,"return_value":{"class":"String","value":"example.com","object_id":298100}},{"id":10247,"event":"return","thread_id":9960,"parent_id":10242,"elapsed":0.0010243059950880706,"elapsed_instrumentation":0.00022247503511607647,"return_value":{"class":"String","value":"example.com","object_id":298100}},{"id":10248,"event":"call","thread_id":9960,"defined_class":"Import::RelationshipWorker","method_id":"stoplight_wrap_request","path":"app/workers/import/relationship_worker.rb","lineno":46,"static":false,"parameters":[{"name":"domain","class":"String","object_id":298100,"value":"example.com","kind":"req"},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Import::RelationshipWorker","object_id":298040,"value":"#<Import::RelationshipWorker:0x00007f5e0ea50a28>"}},{"id":10249,"event":"call","thread_id":9960,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"String","object_id":298120,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":199560,"value":"#<TagManager:0x00007f5e1188f740>"}},{"id":10250,"event":"return","thread_id":9960,"parent_id":10249,"elapsed":1.6948964912444353e-05,"elapsed_instrumentation":0.00013036903692409396},{"id":10251,"event":"call","thread_id":9960,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":298120,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":199560,"value":"#<TagManager:0x00007f5e1188f740>"}},{"id":10252,"event":"return","thread_id":9960,"parent_id":10251,"elapsed":0.000491982966195792,"elapsed_instrumentation":0.00013207003939896822,"return_value":{"class":"String","value":"example.com","object_id":298140}},{"id":10253,"event":"call","thread_id":9960,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"String","object_id":298140,"value":"example.com","kind":"req"}],"receiver":{"class":"ResolveAccountService","object_id":298160,"value":"#<ResolveAccountService:0x00007f5e0dff92a0>"}},{"id":10254,"event":"call","thread_id":9960,"defined_class":"DomainControlHelper","method_id":"limited_federation_mode?","path":"app/helpers/domain_control_helper.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"ResolveAccountService","object_id":298160,"value":"#<ResolveAccountService:0x00007f5e0dff92a0>"}},{"id":10255,"event":"return","thread_id":9960,"parent_id":10254,"elapsed":1.1882977560162544e-05,"elapsed_instrumentation":6.313301855698228e-05},{"id":10256,"event":"call","thread_id":9960,"defined_class":"DomainBlock","method_id":"blocked?","path":"app/models/domain_block.rb","lineno":49,"static":true,"parameters":[{"name":"domain","class":"String","object_id":298140,"value":"example.com","kind":"req"}],"receiver":{"class":"Class","object_id":244900,"value":"DomainBlock"}},{"id":10257,"event":"call","thread_id":9960,"defined_class":"DomainBlock","method_id":"rule_for","path":"app/models/domain_block.rb","lineno":67,"static":true,"parameters":[{"name":"domain","class":"String","object_id":298140,"value":"example.com","kind":"req"}],"receiver":{"class":"Class","object_id":244900,"value":"DomainBlock"}},{"id":10258,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"domain_blocks\".* FROM \"domain_blocks\" WHERE \"domain_blocks\".\"domain\" IN ($1, $2) ORDER BY char_length(domain) desc LIMIT $3","database_type":"postgres"}},{"id":10259,"event":"return","thread_id":9960,"parent_id":10258,"elapsed":0.001073627,"elapsed_instrumentation":0.0001012519933283329},{"id":10260,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":298180,"value":"  \u001b[1m\u001b[36mDomainBlock Load (1.2ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"domain_blocks\".* FROM \"domain_blocks\" WHER (...148 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10261,"event":"return","thread_id":9960,"parent_id":10260,"elapsed":0.002819064015056938,"elapsed_instrumentation":0.0004183389828540385,"return_value":{"class":"Integer","value":"248","object_id":497}},{"id":10262,"event":"return","thread_id":9960,"parent_id":10257,"elapsed":0.00635476695606485,"elapsed_instrumentation":8.020497625693679e-05},{"id":10263,"event":"return","thread_id":9960,"parent_id":10256,"elapsed":0.006460093019995838,"elapsed_instrumentation":9.608396794646978e-05},{"id":10264,"event":"return","thread_id":9960,"parent_id":10253,"elapsed":0.006675119046121836,"elapsed_instrumentation":0.00010599702363833785},{"id":10265,"event":"call","thread_id":9960,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":298200,"value":"#<AccountFinderConcern::AccountFinder:0x00007f5e0e96f190>"}},{"id":10266,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'eve' AND LOWER(\"accounts\".\"domain\") = 'example.com' ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":10267,"event":"return","thread_id":9960,"parent_id":10266,"elapsed":0.001684445,"elapsed_instrumentation":0.00010323902824893594},{"id":10268,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":298220,"value":"  \u001b[1m\u001b[36mAccount Load (1.8ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accoun (...1467 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10269,"event":"return","thread_id":9960,"parent_id":10268,"elapsed":0.0030825290014036,"elapsed_instrumentation":0.00023743300698697567,"return_value":{"class":"Integer","value":"1567","object_id":3135}},{"id":10270,"event":"return","thread_id":9960,"parent_id":10265,"elapsed":0.008266630000434816,"elapsed_instrumentation":0.00020209798822179437,"return_value":{"class":"Account","value":"#<Account:0x00007f5e0f304750>","object_id":298240}},{"id":10271,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":298240,"value":"#<Account:0x00007f5e0f304750>"}},{"id":10272,"event":"return","thread_id":9960,"parent_id":10271,"elapsed":2.5510031264275312e-05,"elapsed_instrumentation":0.00011321797501295805},{"id":10273,"event":"call","thread_id":9960,"defined_class":"DeliveryFailureTracker","method_id":"available?","path":"app/lib/delivery_failure_tracker.rb","lineno":52,"static":true,"parameters":[{"name":"url","class":"String","object_id":298140,"value":"example.com","kind":"req"}],"receiver":{"class":"Class","object_id":221700,"value":"DeliveryFailureTracker"}},{"id":10274,"event":"call","thread_id":9960,"defined_class":"DeliveryFailureTracker","method_id":"available?","path":"app/lib/delivery_failure_tracker.rb","lineno":30,"static":false,"parameters":[],"receiver":{"class":"DeliveryFailureTracker","object_id":298260,"value":"#<DeliveryFailureTracker:0x00007f5e0e968318>"}},{"id":10275,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"unavailable_domains\" WHERE \"unavailable_domains\".\"domain\" = $1 LIMIT $2","database_type":"postgres"}},{"id":10276,"event":"return","thread_id":9960,"parent_id":10275,"elapsed":0.00112153,"elapsed_instrumentation":0.00011305400403216481},{"id":10277,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":298280,"value":"  \u001b[1m\u001b[36mUnavailableDomain Exists? (1.3ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"unavailable_domains (...100 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10278,"event":"return","thread_id":9960,"parent_id":10277,"elapsed":0.0025205619749613106,"elapsed_instrumentation":0.0002318040351383388,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":10279,"event":"return","thread_id":9960,"parent_id":10274,"elapsed":0.005473545985296369,"elapsed_instrumentation":0.00012603303184732795,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":10280,"event":"return","thread_id":9960,"parent_id":10273,"elapsed":0.005633336957544088,"elapsed_instrumentation":0.00012705102562904358,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":10281,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"possibly_stale?","path":"app/models/account.rb","lineno":211,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":298240,"value":"#<Account:0x00007f5e0f304750>"}},{"id":10282,"event":"return","thread_id":9960,"parent_id":10281,"elapsed":0.0002775639877654612,"elapsed_instrumentation":0.0003743330016732216},{"id":10283,"event":"return","thread_id":9960,"parent_id":10248,"elapsed":0.02482801699079573,"elapsed_instrumentation":0.00017736299196258187,"return_value":{"class":"Account","value":"#<Account:0x00007f5e0f304750>","object_id":298240}},{"id":10284,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":298240,"value":"#<Account:0x00007f5e0f304750>"}},{"id":10285,"event":"return","thread_id":9960,"parent_id":10284,"elapsed":2.860400127246976e-05,"elapsed_instrumentation":0.00011313904542475939},{"id":10286,"event":"call","thread_id":9960,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"String","object_id":298300,"value":"example.com","kind":"req"}],"receiver":{"class":"FollowService","object_id":298320,"value":"#<FollowService:0x00007f5e0dff7040>"}},{"id":10287,"event":"call","thread_id":9960,"defined_class":"DomainControlHelper","method_id":"limited_federation_mode?","path":"app/helpers/domain_control_helper.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"FollowService","object_id":298320,"value":"#<FollowService:0x00007f5e0dff7040>"}},{"id":10288,"event":"return","thread_id":9960,"parent_id":10287,"elapsed":1.684098970144987e-05,"elapsed_instrumentation":5.899101961404085e-05},{"id":10289,"event":"call","thread_id":9960,"defined_class":"DomainBlock","method_id":"blocked?","path":"app/models/domain_block.rb","lineno":49,"static":true,"parameters":[{"name":"domain","class":"String","object_id":298300,"value":"example.com","kind":"req"}],"receiver":{"class":"Class","object_id":244900,"value":"DomainBlock"}},{"id":10290,"event":"call","thread_id":9960,"defined_class":"DomainBlock","method_id":"rule_for","path":"app/models/domain_block.rb","lineno":67,"static":true,"parameters":[{"name":"domain","class":"String","object_id":298300,"value":"example.com","kind":"req"}],"receiver":{"class":"Class","object_id":244900,"value":"DomainBlock"}},{"id":10291,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"domain_blocks\".* FROM \"domain_blocks\" WHERE \"domain_blocks\".\"domain\" IN ($1, $2) ORDER BY char_length(domain) desc LIMIT $3","database_type":"postgres"}},{"id":10292,"event":"return","thread_id":9960,"parent_id":10291,"elapsed":0.001184964,"elapsed_instrumentation":0.0002700680051930249},{"id":10293,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":298340,"value":"  \u001b[1m\u001b[36mDomainBlock Load (1.6ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"domain_blocks\".* FROM \"domain_blocks\" WHER (...148 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10294,"event":"return","thread_id":9960,"parent_id":10293,"elapsed":0.0028777209809049964,"elapsed_instrumentation":0.0006396920653060079,"return_value":{"class":"Integer","value":"248","object_id":497}},{"id":10295,"event":"return","thread_id":9960,"parent_id":10290,"elapsed":0.007261601975187659,"elapsed_instrumentation":0.00018933700630441308},{"id":10296,"event":"return","thread_id":9960,"parent_id":10289,"elapsed":0.007494804973248392,"elapsed_instrumentation":0.0002865690039470792},{"id":10297,"event":"return","thread_id":9960,"parent_id":10286,"elapsed":0.007908321975264698,"elapsed_instrumentation":0.00010350107913836837},{"id":10298,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"blocking?","path":"app/models/concerns/account_interactions.rb","lineno":214,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":298360,"value":"#<Account:0x00007f5e0f305150>","kind":"req"}],"receiver":{"class":"Account","object_id":298240,"value":"#<Account:0x00007f5e0f304750>"}},{"id":10299,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":10300,"event":"return","thread_id":9960,"parent_id":10299,"elapsed":0.000968586,"elapsed_instrumentation":0.00012980197789147496},{"id":10301,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":298380,"value":"  \u001b[1m\u001b[36mBlock Exists? (1.1ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account (...156 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10302,"event":"return","thread_id":9960,"parent_id":10301,"elapsed":0.00239691196475178,"elapsed_instrumentation":0.0004337470163591206,"return_value":{"class":"Integer","value":"256","object_id":513}},{"id":10303,"event":"return","thread_id":9960,"parent_id":10298,"elapsed":0.006015392020344734,"elapsed_instrumentation":0.00020071701146662235},{"id":10304,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"blocking?","path":"app/models/concerns/account_interactions.rb","lineno":214,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":298240,"value":"#<Account:0x00007f5e0f304750>","kind":"req"}],"receiver":{"class":"Account","object_id":298360,"value":"#<Account:0x00007f5e0f305150>"}},{"id":10305,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":10306,"event":"return","thread_id":9960,"parent_id":10305,"elapsed":0.001127694,"elapsed_instrumentation":0.0004925229586660862},{"id":10307,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":298400,"value":"  \u001b[1m\u001b[36mBlock Exists? (1.6ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account (...156 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10308,"event":"return","thread_id":9960,"parent_id":10307,"elapsed":0.0029120680410414934,"elapsed_instrumentation":0.0024397019878961146,"return_value":{"class":"Integer","value":"256","object_id":513}},{"id":10309,"event":"return","thread_id":9960,"parent_id":10304,"elapsed":0.009796928032301366,"elapsed_instrumentation":0.00040992797585204244},{"id":10310,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"moved?","path":"app/models/account.rb","lineno":167,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":298240,"value":"#<Account:0x00007f5e0f304750>"}},{"id":10311,"event":"return","thread_id":9960,"parent_id":10310,"elapsed":2.6266963686794043e-05,"elapsed_instrumentation":0.00019419495947659016},{"id":10312,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":298240,"value":"#<Account:0x00007f5e0f304750>"}},{"id":10313,"event":"return","thread_id":9960,"parent_id":10312,"elapsed":7.2499969974160194e-06,"elapsed_instrumentation":6.787700112909079e-05},{"id":10314,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"domain_blocking?","path":"app/models/concerns/account_interactions.rb","lineno":218,"static":false,"parameters":[{"name":"other_domain","class":"String","object_id":298300,"value":"example.com","kind":"req"}],"receiver":{"class":"Account","object_id":298360,"value":"#<Account:0x00007f5e0f305150>"}},{"id":10315,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"account_domain_blocks\" WHERE \"account_domain_blocks\".\"account_id\" = $1 AND \"account_domain_blocks\".\"domain\" = $2 LIMIT $3","database_type":"postgres"}},{"id":10316,"event":"return","thread_id":9960,"parent_id":10315,"elapsed":0.000946925,"elapsed_instrumentation":0.00011625001206994057},{"id":10317,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":298420,"value":"  \u001b[1m\u001b[36mAccountDomainBlock Exists? (1.1ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"account_domain_blo (...187 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10318,"event":"return","thread_id":9960,"parent_id":10317,"elapsed":0.0028282449929974973,"elapsed_instrumentation":0.00037230801535770297,"return_value":{"class":"Integer","value":"287","object_id":575}},{"id":10319,"event":"return","thread_id":9960,"parent_id":10314,"elapsed":0.006793036998715252,"elapsed_instrumentation":9.961595060303807e-05},{"id":10320,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"following?","path":"app/models/concerns/account_interactions.rb","lineno":198,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":298240,"value":"#<Account:0x00007f5e0f304750>","kind":"req"}],"receiver":{"class":"Account","object_id":298360,"value":"#<Account:0x00007f5e0f305150>"}},{"id":10321,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":10322,"event":"return","thread_id":9960,"parent_id":10321,"elapsed":0.001097265,"elapsed_instrumentation":0.00011066201841458678},{"id":10323,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":298440,"value":"  \u001b[1m\u001b[36mFollow Exists? (1.2ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"acco (...160 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10324,"event":"return","thread_id":9960,"parent_id":10323,"elapsed":0.00292452605208382,"elapsed_instrumentation":0.0002516209497116506,"return_value":{"class":"Integer","value":"260","object_id":521}},{"id":10325,"event":"return","thread_id":9960,"parent_id":10320,"elapsed":0.0069733389536850154,"elapsed_instrumentation":0.00017588899936527014},{"id":10326,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"requested?","path":"app/models/concerns/account_interactions.rb","lineno":238,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":298240,"value":"#<Account:0x00007f5e0f304750>","kind":"req"}],"receiver":{"class":"Account","object_id":298360,"value":"#<Account:0x00007f5e0f305150>"}},{"id":10327,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"follow_requests\" WHERE \"follow_requests\".\"account_id\" = $1 AND \"follow_requests\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":10328,"event":"return","thread_id":9960,"parent_id":10327,"elapsed":0.001064701,"elapsed_instrumentation":0.00010995398042723536},{"id":10329,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":298460,"value":"  \u001b[1m\u001b[36mFollowRequest Exists? (1.2ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"follow_requests\" WHERE  (...191 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10330,"event":"return","thread_id":9960,"parent_id":10329,"elapsed":0.0022130150464363396,"elapsed_instrumentation":0.0002255819272249937,"return_value":{"class":"Integer","value":"291","object_id":583}},{"id":10331,"event":"return","thread_id":9960,"parent_id":10326,"elapsed":0.005786611000075936,"elapsed_instrumentation":0.00017872307216748595},{"id":10332,"event":"call","thread_id":9960,"defined_class":"ActivityTracker","method_id":"increment","path":"app/lib/activity_tracker.rb","lineno":53,"static":true,"parameters":[{"name":"prefix","class":"String","object_id":260700,"value":"activity:interactions","kind":"req"}],"receiver":{"class":"Class","object_id":260680,"value":"ActivityTracker"}},{"id":10333,"event":"call","thread_id":9960,"defined_class":"ActivityTracker","method_id":"add","path":"app/lib/activity_tracker.rb","lineno":13,"static":false,"parameters":[{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"opt"},{"name":"at_time","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityTracker","object_id":298480,"value":"#<ActivityTracker:0x00007f5e0e920450>"}},{"id":10334,"event":"call","thread_id":9960,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"ActivityTracker","object_id":298480,"value":"#<ActivityTracker:0x00007f5e0e920450>"}},{"id":10335,"event":"return","thread_id":9960,"parent_id":10334,"elapsed":4.775996785610914e-06,"elapsed_instrumentation":0.00011794402962550521,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007f5e126ad930>","object_id":222620}},{"id":10336,"event":"call","thread_id":9960,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"ActivityTracker","object_id":298480,"value":"#<ActivityTracker:0x00007f5e0e920450>"}},{"id":10337,"event":"return","thread_id":9960,"parent_id":10336,"elapsed":8.094008080661297e-06,"elapsed_instrumentation":0.000203833042178303,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007f5e126ad930>","object_id":222620}},{"id":10338,"event":"return","thread_id":9960,"parent_id":10333,"elapsed":0.0019198610098101199,"elapsed_instrumentation":0.0003472680109553039,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":10339,"event":"return","thread_id":9960,"parent_id":10332,"elapsed":0.0023083139676600695,"elapsed_instrumentation":0.00017423200188204646,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":10340,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"not_following_anyone?","path":"app/models/concerns/account_interactions.rb","lineno":206,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":298360,"value":"#<Account:0x00007f5e0f305150>"}},{"id":10341,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"following_anyone?","path":"app/models/concerns/account_interactions.rb","lineno":202,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":298360,"value":"#<Account:0x00007f5e0f305150>"}},{"id":10342,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":10343,"event":"return","thread_id":9960,"parent_id":10342,"elapsed":0.000961559,"elapsed_instrumentation":0.00011512002674862742},{"id":10344,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":298500,"value":"  \u001b[1m\u001b[36mFollow Exists? (1.1ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"acco (...78 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10345,"event":"return","thread_id":9960,"parent_id":10344,"elapsed":0.0022279289551079273,"elapsed_instrumentation":0.0003095029969699681,"return_value":{"class":"Integer","value":"178","object_id":357}},{"id":10346,"event":"return","thread_id":9960,"parent_id":10341,"elapsed":0.00525266001932323,"elapsed_instrumentation":0.00026275496929883957,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":10347,"event":"return","thread_id":9960,"parent_id":10340,"elapsed":0.005553719995077699,"elapsed_instrumentation":0.00013522000517696142},{"id":10348,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"silenced?","path":"app/models/account.rb","lineno":225,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":298360,"value":"#<Account:0x00007f5e0f305150>"}},{"id":10349,"event":"return","thread_id":9960,"parent_id":10348,"elapsed":2.986000617966056e-05,"elapsed_instrumentation":0.00017587293405085802},{"id":10350,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"request_follow!","path":"app/models/concerns/account_interactions.rb","lineno":130,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":298240,"value":"#<Account:0x00007f5e0f304750>","kind":"req"},{"name":"reblogs","class":"TrueClass","object_id":20,"value":"true","kind":"key"},{"name":"notify","class":"FalseClass","object_id":0,"value":"false","kind":"key"},{"name":"languages","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"uri","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"rate_limit","class":"FalseClass","object_id":0,"value":"false","kind":"key"},{"name":"bypass_limit","class":"FalseClass","object_id":0,"value":"false","kind":"key"}],"receiver":{"class":"Account","object_id":298360,"value":"#<Account:0x00007f5e0f305150>"}},{"id":10351,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"follow_requests\".* FROM \"follow_requests\" WHERE \"follow_requests\".\"account_id\" = $1 AND \"follow_requests\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":10352,"event":"return","thread_id":9960,"parent_id":10351,"elapsed":0.00078262,"elapsed_instrumentation":0.00024728302378207445},{"id":10353,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":298520,"value":"  \u001b[1m\u001b[36mFollowRequest Load (1.1ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"follow_requests\".* FROM \"follow_requests (...199 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10354,"event":"return","thread_id":9960,"parent_id":10353,"elapsed":0.0020769030088558793,"elapsed_instrumentation":0.00021776201901957393,"return_value":{"class":"Integer","value":"299","object_id":599}},{"id":10355,"event":"call","thread_id":9960,"defined_class":"RateLimitable","method_id":"rate_limit=","path":"app/models/concerns/rate_limitable.rb","lineno":6,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"FollowRequest","object_id":298540,"value":"#<FollowRequest:0x00007f5e0f301e10>"}},{"id":10356,"event":"return","thread_id":9960,"parent_id":10355,"elapsed":6.770016625523567e-06,"elapsed_instrumentation":0.00014857598580420017},{"id":10357,"event":"call","thread_id":9960,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit=","path":"app/models/concerns/follow_limitable.rb","lineno":10,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"FollowRequest","object_id":298540,"value":"#<FollowRequest:0x00007f5e0f301e10>"}},{"id":10358,"event":"return","thread_id":9960,"parent_id":10357,"elapsed":4.227040335536003e-06,"elapsed_instrumentation":8.148595225065947e-05},{"id":10359,"event":"call","thread_id":9960,"defined_class":"RateLimitable","method_id":"rate_limit=","path":"app/models/concerns/rate_limitable.rb","lineno":6,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"FollowRequest","object_id":298540,"value":"#<FollowRequest:0x00007f5e0f301e10>"}},{"id":10360,"event":"return","thread_id":9960,"parent_id":10359,"elapsed":5.542009603232145e-06,"elapsed_instrumentation":0.00013511202996596694},{"id":10361,"event":"call","thread_id":9960,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit=","path":"app/models/concerns/follow_limitable.rb","lineno":10,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"FollowRequest","object_id":298540,"value":"#<FollowRequest:0x00007f5e0f301e10>"}},{"id":10362,"event":"return","thread_id":9960,"parent_id":10361,"elapsed":3.7259887903928757e-06,"elapsed_instrumentation":8.384499233216047e-05},{"id":10363,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":298560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":260860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e116775e8>"}},{"id":10364,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"generate_uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":61,"static":false,"parameters":[{"name":"_target","class":"FollowRequest","object_id":298540,"value":"#<FollowRequest:0x00007f5e0f301e10>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":10365,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":10366,"event":"return","thread_id":9960,"parent_id":10365,"elapsed":5.085952579975128e-06,"elapsed_instrumentation":0.0004675420350395143,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":10367,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":10368,"event":"return","thread_id":9960,"parent_id":10367,"elapsed":4.472967702895403e-06,"elapsed_instrumentation":0.00016470300033688545,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":10369,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":245020,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":298580,"value":"C__\u001e____ag_ y_\u0019-"}},{"id":10370,"event":"return","thread_id":9960,"parent_id":10369,"elapsed":7.460999768227339e-06,"elapsed_instrumentation":0.00022441998589783907,"return_value":{"class":"Array","value":"[1136454430, 38588, 48787, 24935, 38688, 2044074285]","object_id":298600,"size":6}},{"id":10371,"event":"return","thread_id":9960,"parent_id":10364,"elapsed":0.0014014460030011833,"elapsed_instrumentation":0.00015668605919927359,"return_value":{"class":"URI::HTTPS","value":"https://cb6e6126.ngrok.io/43bceb1e-96bc-4e93-a167-972079d6192d","object_id":298620}},{"id":10372,"event":"return","thread_id":9960,"parent_id":10363,"elapsed":0.001635619963053614,"elapsed_instrumentation":0.00019250600598752499,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e116552b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11655420 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":260940,"size":2}},{"id":10373,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":298640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":260980,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11676dc8>"}},{"id":10374,"event":"call","thread_id":9960,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit?","path":"app/models/concerns/follow_limitable.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"FollowRequest","object_id":298540,"value":"#<FollowRequest:0x00007f5e0f301e10>"}},{"id":10375,"event":"return","thread_id":9960,"parent_id":10374,"elapsed":4.2889732867479324e-06,"elapsed_instrumentation":6.454804679378867e-05},{"id":10376,"event":"call","thread_id":9960,"defined_class":"FollowLimitValidator","method_id":"validate","path":"app/validators/follow_limit_validator.rb","lineno":7,"static":false,"parameters":[{"name":"follow","class":"FollowRequest","object_id":298540,"value":"#<FollowRequest:0x00007f5e0f301e10>","kind":"req"}],"receiver":{"class":"FollowLimitValidator","object_id":261000,"value":"#<FollowLimitValidator:0x00007f5e0f1ac5b0>"}},{"id":10377,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":298360,"value":"#<Account:0x00007f5e0f305150>"}},{"id":10378,"event":"return","thread_id":9960,"parent_id":10377,"elapsed":1.6201985999941826e-05,"elapsed_instrumentation":0.0001525969710201025,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":10379,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"following_count","path":"app/models/concerns/account_counters.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":298660,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":298680,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":298360,"value":"#<Account:0x00007f5e0f305150>"}},{"id":10380,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":298360,"value":"#<Account:0x00007f5e0f305150>"}},{"id":10381,"event":"call","thread_id":9960,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":10382,"event":"return","thread_id":9960,"parent_id":10381,"elapsed":0.000473207,"elapsed_instrumentation":9.870599023997784e-05},{"id":10383,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":298700,"value":"  \u001b[1m\u001b[36mTRANSACTION (0.6ms)\u001b[0m  \u001b[1m\u001b[35mSAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10384,"event":"return","thread_id":9960,"parent_id":10383,"elapsed":0.002301541971974075,"elapsed_instrumentation":0.0002038900274783373,"return_value":{"class":"Integer","value":"75","object_id":151}},{"id":10385,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"account_stats\".\"id\", \"account_stats\".\"account_id\", \"account_stats\".\"statuses_count\", \"account_stats\".\"following_count\", \"account_stats\".\"followers_count\", \"account_stats\".\"created_at\", \"account_stats\".\"updated_at\", \"account_stats\".\"last_status_at\" FROM \"account_stats\" WHERE \"account_stats\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":10386,"event":"return","thread_id":9960,"parent_id":10385,"elapsed":0.000916134,"elapsed_instrumentation":0.0002470329636707902},{"id":10387,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":298720,"value":"  \u001b[1m\u001b[36mAccountStat Load (1.5ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"account_stats\".\"id\", \"account_stats\".\"acco (...332 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10388,"event":"return","thread_id":9960,"parent_id":10387,"elapsed":0.002812991035170853,"elapsed_instrumentation":0.0003306149737909436,"return_value":{"class":"Integer","value":"432","object_id":865}},{"id":10389,"event":"return","thread_id":9960,"parent_id":10380,"elapsed":0.010330423014238477,"elapsed_instrumentation":0.0002463849959895015,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007f5e0f301a50>","object_id":298740}},{"id":10390,"event":"call","thread_id":9960,"defined_class":"AccountStat","method_id":"following_count","path":"app/models/account_stat.rb","lineno":25,"static":false,"parameters":[],"receiver":{"class":"AccountStat","object_id":298740,"value":"#<AccountStat:0x00007f5e0f301a50>"}},{"id":10391,"event":"return","thread_id":9960,"parent_id":10390,"elapsed":0.00014765601372346282,"elapsed_instrumentation":0.00020059698726981878,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":10392,"event":"return","thread_id":9960,"parent_id":10379,"elapsed":0.011299161007627845,"elapsed_instrumentation":0.00014200498117133975,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":10393,"event":"call","thread_id":9960,"defined_class":"FollowLimitValidator","method_id":"limit_for_account","path":"app/validators/follow_limit_validator.rb","lineno":14,"static":true,"parameters":[{"name":"account","class":"Account","object_id":298360,"value":"#<Account:0x00007f5e0f305150>","kind":"req"}],"receiver":{"class":"Class","object_id":199640,"value":"FollowLimitValidator"}},{"id":10394,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"following_count","path":"app/models/concerns/account_counters.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":298760,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":298780,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":298360,"value":"#<Account:0x00007f5e0f305150>"}},{"id":10395,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":298360,"value":"#<Account:0x00007f5e0f305150>"}},{"id":10396,"event":"return","thread_id":9960,"parent_id":10395,"elapsed":2.2780965082347393e-05,"elapsed_instrumentation":8.872902253642678e-05,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007f5e0f301a50>","object_id":298740}},{"id":10397,"event":"call","thread_id":9960,"defined_class":"AccountStat","method_id":"following_count","path":"app/models/account_stat.rb","lineno":25,"static":false,"parameters":[],"receiver":{"class":"AccountStat","object_id":298740,"value":"#<AccountStat:0x00007f5e0f301a50>"}},{"id":10398,"event":"return","thread_id":9960,"parent_id":10397,"elapsed":3.597000613808632e-05,"elapsed_instrumentation":8.63679451867938e-05,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":10399,"event":"return","thread_id":9960,"parent_id":10394,"elapsed":0.00027907598996534944,"elapsed_instrumentation":0.000353547977283597,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":10400,"event":"return","thread_id":9960,"parent_id":10393,"elapsed":0.0006662090308964252,"elapsed_instrumentation":0.0001440020278096199,"return_value":{"class":"Integer","value":"7500","object_id":15001}},{"id":10401,"event":"return","thread_id":9960,"parent_id":10376,"elapsed":0.01254788099322468,"elapsed_instrumentation":8.354504825547338e-05},{"id":10402,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"follow_requests\" WHERE \"follow_requests\".\"account_id\" = $1 AND \"follow_requests\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":10403,"event":"return","thread_id":9960,"parent_id":10402,"elapsed":0.000989004,"elapsed_instrumentation":9.719096124172211e-05},{"id":10404,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":298800,"value":"  \u001b[1m\u001b[36mFollowRequest Exists? (1.1ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"follow_requests\" WHERE  (...191 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10405,"event":"return","thread_id":9960,"parent_id":10404,"elapsed":0.002246998017653823,"elapsed_instrumentation":0.00019764801254495978,"return_value":{"class":"Integer","value":"291","object_id":583}},{"id":10406,"event":"call","thread_id":9960,"defined_class":"LanguageValidator","method_id":"validate_each","path":"app/validators/language_validator.rb","lineno":6,"static":false,"parameters":[{"name":"record","class":"FollowRequest","object_id":298540,"value":"#<FollowRequest:0x00007f5e0f301e10>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":9570268,"value":":languages","kind":"req"},{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"LanguageValidator","object_id":261180,"value":"#<LanguageValidator:0x00007f5e0f1a5260>"}},{"id":10407,"event":"return","thread_id":9960,"parent_id":10406,"elapsed":5.933048669248819e-06,"elapsed_instrumentation":0.00018193497089669108},{"id":10408,"event":"return","thread_id":9960,"parent_id":10373,"elapsed":0.018143054971005768,"elapsed_instrumentation":0.00018374499632045627,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e116ae070 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e116ae228 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e116ae4f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e116ae6d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e116ae958 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e116aeb88 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":261200,"size":6}},{"id":10409,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":298640,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":260980,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11676dc8>"}},{"id":10410,"event":"return","thread_id":9960,"parent_id":10409,"elapsed":0.00011170597281306982,"elapsed_instrumentation":0.0001522390521131456,"return_value":{"class":"Array","value":"[]","object_id":261220,"size":0}},{"id":10411,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":298560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":260860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e116775e8>"}},{"id":10412,"event":"return","thread_id":9960,"parent_id":10411,"elapsed":3.892986569553614e-06,"elapsed_instrumentation":0.00013123499229550362,"return_value":{"class":"Array","value":"[]","object_id":261240,"size":0}},{"id":10413,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":298820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":261280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11674ca8>"}},{"id":10414,"event":"return","thread_id":9960,"parent_id":10413,"elapsed":0.0001491950242780149,"elapsed_instrumentation":0.00023434398462995887,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e116ea1d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e116ea318 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":261300,"size":2}},{"id":10415,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":298840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":261340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11674988>"}},{"id":10416,"event":"return","thread_id":9960,"parent_id":10415,"elapsed":4.5120250433683395e-06,"elapsed_instrumentation":0.00044892996083945036,"return_value":{"class":"Array","value":"[]","object_id":261360,"size":0}},{"id":10417,"event":"call","thread_id":9960,"sql_query":{"sql":"INSERT INTO \"follow_requests\" (\"created_at\", \"updated_at\", \"account_id\", \"target_account_id\", \"show_reblogs\", \"uri\", \"notify\", \"languages\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING \"id\"","database_type":"postgres"}},{"id":10418,"event":"return","thread_id":9960,"parent_id":10417,"elapsed":0.001957531,"elapsed_instrumentation":0.00011835695477202535},{"id":10419,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":298860,"value":"  \u001b[1m\u001b[36mFollowRequest Create (2.1ms)\u001b[0m  \u001b[1m\u001b[32mINSERT INTO \"follow_requests\" (\"created_at\", \" (...464 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10420,"event":"return","thread_id":9960,"parent_id":10419,"elapsed":0.002749122038949281,"elapsed_instrumentation":0.00021865102462470531,"return_value":{"class":"Integer","value":"564","object_id":1129}},{"id":10421,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":298840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":261340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11674988>"}},{"id":10422,"event":"call","thread_id":9960,"defined_class":"RateLimitable","method_id":"rate_limit?","path":"app/models/concerns/rate_limitable.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"FollowRequest","object_id":298540,"value":"#<FollowRequest:0x00007f5e0f301e10>"}},{"id":10423,"event":"return","thread_id":9960,"parent_id":10422,"elapsed":4.8800138756632805e-06,"elapsed_instrumentation":0.0003211909788660705},{"id":10424,"event":"return","thread_id":9960,"parent_id":10421,"elapsed":0.0004417000454850495,"elapsed_instrumentation":0.0002053699572570622,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e116e8748 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e116e8590 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":261400,"size":2}},{"id":10425,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":298820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":261280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11674ca8>"}},{"id":10426,"event":"return","thread_id":9960,"parent_id":10425,"elapsed":3.2110256142914295e-06,"elapsed_instrumentation":0.00010755099356174469,"return_value":{"class":"Array","value":"[]","object_id":261420,"size":0}},{"id":10427,"event":"call","thread_id":9960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":10428,"event":"return","thread_id":9960,"parent_id":10427,"elapsed":0.000596302,"elapsed_instrumentation":0.00010882399510592222},{"id":10429,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":298880,"value":"  \u001b[1m\u001b[36mTRANSACTION (0.7ms)\u001b[0m  \u001b[1m\u001b[35mRELEASE SAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10430,"event":"return","thread_id":9960,"parent_id":10429,"elapsed":0.002141712000593543,"elapsed_instrumentation":0.0008686859509907663,"return_value":{"class":"Integer","value":"83","object_id":167}},{"id":10431,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":298900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":261480,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e116739e8>"}},{"id":10432,"event":"return","thread_id":9960,"parent_id":10431,"elapsed":4.264002200216055e-06,"elapsed_instrumentation":0.00038322899490594864,"return_value":{"class":"Array","value":"[]","object_id":261500,"size":0}},{"id":10433,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":298900,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":261480,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e116739e8>"}},{"id":10434,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":298920,"value":"Cache delete: relationship:111362558139389017:111362558139389019\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10435,"event":"return","thread_id":9960,"parent_id":10434,"elapsed":0.0026219349820166826,"elapsed_instrumentation":0.00018920202273875475,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":10436,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":298940,"value":"Cache delete: relationship:111362558139389019:111362558139389017\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10437,"event":"return","thread_id":9960,"parent_id":10436,"elapsed":0.0022529950365424156,"elapsed_instrumentation":0.00028388696955516934,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":10438,"event":"return","thread_id":9960,"parent_id":10433,"elapsed":0.00578867900185287,"elapsed_instrumentation":0.00020829803543165326,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e116e0570 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":261560,"size":1}},{"id":10439,"event":"call","thread_id":9960,"defined_class":"PotentialFriendshipTracker","method_id":"remove","path":"app/lib/potential_friendship_tracker.rb","lineno":27,"static":true,"parameters":[{"name":"account_id","class":"Integer","object_id":222725116278778035,"value":"111362558139389017","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222725116278778039,"value":"111362558139389019","kind":"req"}],"receiver":{"class":"Class","object_id":255940,"value":"PotentialFriendshipTracker"}},{"id":10440,"event":"call","thread_id":9960,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Class","object_id":255940,"value":"PotentialFriendshipTracker"}},{"id":10441,"event":"return","thread_id":9960,"parent_id":10440,"elapsed":5.983980372548103e-06,"elapsed_instrumentation":0.00012111698742955923,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007f5e126ad930>","object_id":222620}},{"id":10442,"event":"return","thread_id":9960,"parent_id":10439,"elapsed":0.0009588300017639995,"elapsed_instrumentation":0.00015834695659577847},{"id":10443,"event":"return","thread_id":9960,"parent_id":10350,"elapsed":0.05008797999471426,"elapsed_instrumentation":0.0002835860359482467,"return_value":{"class":"FollowRequest","value":"#<FollowRequest:0x00007f5e0f301e10>","object_id":298540}},{"id":10444,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":298240,"value":"#<Account:0x00007f5e0f304750>"}},{"id":10445,"event":"return","thread_id":9960,"parent_id":10444,"elapsed":0.00013201497495174408,"elapsed_instrumentation":0.00022113695740699768},{"id":10446,"event":"call","thread_id":9960,"defined_class":"Payloadable","method_id":"serialize_payload","path":"app/services/concerns/payloadable.rb","lineno":13,"static":false,"parameters":[{"name":"record","class":"FollowRequest","object_id":298540,"value":"#<FollowRequest:0x00007f5e0f301e10>","kind":"req"},{"name":"serializer","class":"Class","object_id":220240,"value":"ActivityPub::FollowSerializer","kind":"req"},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FollowService","object_id":298320,"value":"#<FollowService:0x00007f5e0dff7040>"}},{"id":10447,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":298960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":193260,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e120c5d38>"}},{"id":10448,"event":"return","thread_id":9960,"parent_id":10447,"elapsed":7.506983820348978e-06,"elapsed_instrumentation":0.0005024020210839808,"return_value":{"class":"Array","value":"[]","object_id":193280,"size":0}},{"id":10449,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":298960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":193300,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e120c5d88>"}},{"id":10450,"event":"return","thread_id":9960,"parent_id":10449,"elapsed":3.7279678508639336e-06,"elapsed_instrumentation":0.00014422705862671137,"return_value":{"class":"Array","value":"[]","object_id":193320,"size":0}},{"id":10451,"event":"call","thread_id":9960,"defined_class":"ActivityPub::Adapter","method_id":"serializable_hash","path":"app/lib/activitypub/adapter.rb","lineno":14,"static":false,"parameters":[{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::Adapter","object_id":298980,"value":"#<ActivityPub::Adapter:0x00007f5e0e898190>"}},{"id":10452,"event":"call","thread_id":9960,"defined_class":"ActivityPub::Serializer","method_id":"serializable_hash","path":"app/lib/activitypub/serializer.rb","lineno":31,"static":false,"parameters":[{"name":"adapter_options","class":"Hash","object_id":299000,"value":"{:named_contexts=>{:activitystreams=>}, :context_extensions=>{}}","kind":"opt","size":2},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"},{"name":"adapter_instance","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":299020,"value":"#<ActivityPub::FollowSerializer:0x00007f5e0e00e740>"}},{"id":10453,"event":"call","thread_id":9960,"defined_class":"ActivityPub::FollowSerializer","method_id":"id","path":"app/serializers/activitypub/follow_serializer.rb","lineno":7,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":299020,"value":"#<ActivityPub::FollowSerializer:0x00007f5e0e00e740>"}},{"id":10454,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"FollowRequest","object_id":298540,"value":"#<FollowRequest:0x00007f5e0f301e10>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":10455,"event":"call","thread_id":9960,"defined_class":"FollowRequest","method_id":"local?","path":"app/models/follow_request.rb","lineno":43,"static":false,"parameters":[],"receiver":{"class":"FollowRequest","object_id":298540,"value":"#<FollowRequest:0x00007f5e0f301e10>"}},{"id":10456,"event":"return","thread_id":9960,"parent_id":10455,"elapsed":3.4879776649177074e-06,"elapsed_instrumentation":7.924903184175491e-05},{"id":10457,"event":"return","thread_id":9960,"parent_id":10454,"elapsed":0.00016350101213902235,"elapsed_instrumentation":0.00017285195644944906,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/43bceb1e-96bc-4e93-a167-972079d6192d","object_id":299040}},{"id":10458,"event":"return","thread_id":9960,"parent_id":10453,"elapsed":0.0003766449517570436,"elapsed_instrumentation":0.00016881601186469197,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/43bceb1e-96bc-4e93-a167-972079d6192d","object_id":299040}},{"id":10459,"event":"call","thread_id":9960,"defined_class":"ActivityPub::FollowSerializer","method_id":"type","path":"app/serializers/activitypub/follow_serializer.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":299020,"value":"#<ActivityPub::FollowSerializer:0x00007f5e0e00e740>"}},{"id":10460,"event":"return","thread_id":9960,"parent_id":10459,"elapsed":3.00002284348011e-06,"elapsed_instrumentation":8.451397297903895e-05,"return_value":{"class":"String","value":"Follow","object_id":220740}},{"id":10461,"event":"call","thread_id":9960,"defined_class":"ActivityPub::FollowSerializer","method_id":"actor","path":"app/serializers/activitypub/follow_serializer.rb","lineno":15,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":299020,"value":"#<ActivityPub::FollowSerializer:0x00007f5e0e00e740>"}},{"id":10462,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":298360,"value":"#<Account:0x00007f5e0f305150>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":10463,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":298360,"value":"#<Account:0x00007f5e0f305150>"}},{"id":10464,"event":"return","thread_id":9960,"parent_id":10463,"elapsed":1.3470998965203762e-05,"elapsed_instrumentation":0.00013450899859890342,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":10465,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":298360,"value":"#<Account:0x00007f5e0f305150>"}},{"id":10466,"event":"return","thread_id":9960,"parent_id":10465,"elapsed":5.274021532386541e-06,"elapsed_instrumentation":0.00023125694133341312,"return_value":{"class":"Symbol","value":":person","object_id":20695068}},{"id":10467,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":298360,"value":"#<Account:0x00007f5e0f305150>"}},{"id":10468,"event":"return","thread_id":9960,"parent_id":10467,"elapsed":1.1257012374699116e-05,"elapsed_instrumentation":9.262899402529001e-05},{"id":10469,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":10470,"event":"return","thread_id":9960,"parent_id":10469,"elapsed":4.883971996605396e-06,"elapsed_instrumentation":0.00015445600729435682,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":10471,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":10472,"event":"return","thread_id":9960,"parent_id":10471,"elapsed":3.4999684430658817e-06,"elapsed_instrumentation":0.00010959699284285307,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":10473,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"to_param","path":"app/models/account.rb","lineno":389,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":298360,"value":"#<Account:0x00007f5e0f305150>"}},{"id":10474,"event":"return","thread_id":9960,"parent_id":10473,"elapsed":1.8693041056394577e-05,"elapsed_instrumentation":8.693494601175189e-05,"return_value":{"class":"String","value":"mason_macejkovic29","object_id":299060}},{"id":10475,"event":"return","thread_id":9960,"parent_id":10462,"elapsed":0.0012387079768814147,"elapsed_instrumentation":0.00033519999124109745,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/mason_macejkovic29","object_id":299080}},{"id":10476,"event":"return","thread_id":9960,"parent_id":10461,"elapsed":0.001662529946770519,"elapsed_instrumentation":0.0002822150127030909,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/mason_macejkovic29","object_id":299080}},{"id":10477,"event":"call","thread_id":9960,"defined_class":"ActivityPub::FollowSerializer","method_id":"virtual_object","path":"app/serializers/activitypub/follow_serializer.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":299020,"value":"#<ActivityPub::FollowSerializer:0x00007f5e0e00e740>"}},{"id":10478,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":298240,"value":"#<Account:0x00007f5e0f304750>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":10479,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":298240,"value":"#<Account:0x00007f5e0f304750>"}},{"id":10480,"event":"return","thread_id":9960,"parent_id":10479,"elapsed":8.551985956728458e-06,"elapsed_instrumentation":6.1027007177472115e-05},{"id":10481,"event":"return","thread_id":9960,"parent_id":10478,"elapsed":0.00010832399129867554,"elapsed_instrumentation":0.00010547100100666285,"return_value":{"class":"String","value":"https://example.com/users/eve","object_id":299100}},{"id":10482,"event":"return","thread_id":9960,"parent_id":10477,"elapsed":0.0002596660051494837,"elapsed_instrumentation":8.405203698202968e-05,"return_value":{"class":"String","value":"https://example.com/users/eve","object_id":299100}},{"id":10483,"event":"return","thread_id":9960,"parent_id":10452,"elapsed":0.0032726830104365945,"elapsed_instrumentation":0.0005519239930436015,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/43bceb1e-96bc-4e93-a167-972079d6192d, :type=>Follow, :actor=>https://cb6e6126.ngrok.io/users/mason_macejkovic29, :object=>https://example.com/users/eve}","object_id":299120,"size":4}},{"id":10484,"event":"call","thread_id":9960,"defined_class":"ActivityPub::Adapter","method_id":"transform_key_casing!","path":"app/lib/activitypub/adapter.rb","lineno":10,"static":true,"parameters":[{"name":"value","class":"Hash","object_id":299120,"value":"{:id=>https://cb6e6126.ngrok.io/43bceb1e-96bc-4e93-a167-972079d6192d, :type=>Follow, :actor=>https://cb6e6126.ngrok.io/users/mason_macejkovic29, :object=>https://example.com/users/eve}","kind":"req","size":4},{"name":"_options","class":"Hash","object_id":299140,"value":"{}","kind":"req","size":0}],"receiver":{"class":"Class","object_id":220360,"value":"ActivityPub::Adapter"}},{"id":10485,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Hash","object_id":299120,"value":"{:id=>https://cb6e6126.ngrok.io/43bceb1e-96bc-4e93-a167-972079d6192d, :type=>Follow, :actor=>https://cb6e6126.ngrok.io/users/mason_macejkovic29, :object=>https://example.com/users/eve}","kind":"req","size":4}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":10486,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":679388,"value":":id","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":10487,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":299160,"value":"id","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":10488,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":10489,"event":"return","thread_id":9960,"parent_id":10488,"elapsed":2.928019966930151e-06,"elapsed_instrumentation":0.0001939760404638946,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, to=>to, following=>following, followers=>followers, inbox=>inbox, outbox=>outbox, featured=>featured (...19 more entries)}","object_id":220980,"size":29}},{"id":10490,"event":"return","thread_id":9960,"parent_id":10487,"elapsed":0.00021914101671427488,"elapsed_instrumentation":0.0002308289986103773,"return_value":{"class":"String","value":"id","object_id":221000}},{"id":10491,"event":"return","thread_id":9960,"parent_id":10486,"elapsed":0.00047158298548310995,"elapsed_instrumentation":7.059297058731318e-05,"return_value":{"class":"Symbol","value":":id","object_id":679388}},{"id":10492,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":688668,"value":":type","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":10493,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":299180,"value":"type","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":10494,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":10495,"event":"return","thread_id":9960,"parent_id":10494,"elapsed":2.693035639822483e-06,"elapsed_instrumentation":0.00043726200237870216,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, to=>to, following=>following, followers=>followers, inbox=>inbox, outbox=>outbox, featured=>featured (...19 more entries)}","object_id":220980,"size":29}},{"id":10496,"event":"return","thread_id":9960,"parent_id":10493,"elapsed":0.000468642043415457,"elapsed_instrumentation":7.990800077095628e-05,"return_value":{"class":"String","value":"type","object_id":221040}},{"id":10497,"event":"return","thread_id":9960,"parent_id":10492,"elapsed":0.0007751560187898576,"elapsed_instrumentation":7.975904736667871e-05,"return_value":{"class":"Symbol","value":":type","object_id":688668}},{"id":10498,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":17345948,"value":":actor","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":10499,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":299200,"value":"actor","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":10500,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":10501,"event":"return","thread_id":9960,"parent_id":10500,"elapsed":2.5730114430189133e-06,"elapsed_instrumentation":0.00017522298730909824,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, to=>to, following=>following, followers=>followers, inbox=>inbox, outbox=>outbox, featured=>featured (...19 more entries)}","object_id":220980,"size":29}},{"id":10502,"event":"return","thread_id":9960,"parent_id":10499,"elapsed":0.00019738200353458524,"elapsed_instrumentation":7.868697866797447e-05,"return_value":{"class":"String","value":"actor","object_id":221080}},{"id":10503,"event":"return","thread_id":9960,"parent_id":10498,"elapsed":0.00029574899235740304,"elapsed_instrumentation":9.377393871545792e-05,"return_value":{"class":"Symbol","value":":actor","object_id":17345948}},{"id":10504,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":703388,"value":":object","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":10505,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":299220,"value":"object","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":10506,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":10507,"event":"return","thread_id":9960,"parent_id":10506,"elapsed":2.3249885998666286e-06,"elapsed_instrumentation":0.0004392200498841703,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, to=>to, following=>following, followers=>followers, inbox=>inbox, outbox=>outbox, featured=>featured (...19 more entries)}","object_id":220980,"size":29}},{"id":10508,"event":"return","thread_id":9960,"parent_id":10505,"elapsed":0.0004695060197263956,"elapsed_instrumentation":8.275406435132027e-05,"return_value":{"class":"String","value":"object","object_id":221120}},{"id":10509,"event":"return","thread_id":9960,"parent_id":10504,"elapsed":0.0005750939599238336,"elapsed_instrumentation":9.267101995646954e-05,"return_value":{"class":"Symbol","value":":object","object_id":703388}},{"id":10510,"event":"return","thread_id":9960,"parent_id":10485,"elapsed":0.002550270000938326,"elapsed_instrumentation":0.00020733498968183994,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/43bceb1e-96bc-4e93-a167-972079d6192d, :type=>Follow, :actor=>https://cb6e6126.ngrok.io/users/mason_macejkovic29, :object=>https://example.com/users/eve}","object_id":299120,"size":4}},{"id":10511,"event":"return","thread_id":9960,"parent_id":10484,"elapsed":0.002782043011393398,"elapsed_instrumentation":0.0002186190104112029,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/43bceb1e-96bc-4e93-a167-972079d6192d, :type=>Follow, :actor=>https://cb6e6126.ngrok.io/users/mason_macejkovic29, :object=>https://example.com/users/eve}","object_id":299120,"size":4}},{"id":10512,"event":"call","thread_id":9960,"defined_class":"ContextHelper","method_id":"serialized_context","path":"app/helpers/context_helper.rb","lineno":41,"static":false,"parameters":[{"name":"named_contexts_map","class":"Hash","object_id":299240,"value":"{:activitystreams=>}","kind":"req","size":1},{"name":"context_extensions_map","class":"Hash","object_id":299260,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActivityPub::Adapter","object_id":298980,"value":"#<ActivityPub::Adapter:0x00007f5e0e898190>"}},{"id":10513,"event":"return","thread_id":9960,"parent_id":10512,"elapsed":1.586799044162035e-05,"elapsed_instrumentation":0.00016466999659314752,"return_value":{"class":"String","value":"https://www.w3.org/ns/activitystreams","object_id":221260}},{"id":10514,"event":"return","thread_id":9960,"parent_id":10451,"elapsed":0.007098832982592285,"elapsed_instrumentation":0.0003500699531286955,"return_value":{"class":"Hash","value":"{@context=>https://www.w3.org/ns/activitystreams, :id=>https://cb6e6126.ngrok.io/43bceb1e-96bc-4e93-a167-972079d6192d, :type=>Follow, :actor=>https://cb6e6126.ngrok.io/users/mason_macejkovic29, :object=>https://example.com/users/eve}","object_id":299280,"size":5}},{"id":10515,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":298960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":193300,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e120c5d88>"}},{"id":10516,"event":"return","thread_id":9960,"parent_id":10515,"elapsed":5.943002179265022e-06,"elapsed_instrumentation":0.00018008495680987835,"return_value":{"class":"Array","value":"[]","object_id":195220,"size":0}},{"id":10517,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":298960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":193260,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e120c5d38>"}},{"id":10518,"event":"return","thread_id":9960,"parent_id":10517,"elapsed":3.160035703331232e-06,"elapsed_instrumentation":0.00010757398558780551,"return_value":{"class":"Array","value":"[]","object_id":195240,"size":0}},{"id":10519,"event":"return","thread_id":9960,"parent_id":10446,"elapsed":0.008919788000639528,"elapsed_instrumentation":0.00043015601113438606,"return_value":{"class":"Hash","value":"{@context=>https://www.w3.org/ns/activitystreams, :id=>https://cb6e6126.ngrok.io/43bceb1e-96bc-4e93-a167-972079d6192d, :type=>Follow, :actor=>https://cb6e6126.ngrok.io/users/mason_macejkovic29, :object=>https://example.com/users/eve}","object_id":299280,"size":5}},{"id":10520,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":192860,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":299300,"value":"_____2_____\u001f"}},{"id":10521,"event":"return","thread_id":9960,"parent_id":10520,"elapsed":5.737005267292261e-06,"elapsed_instrumentation":0.0005360220675356686,"return_value":{"class":"String","value":"c5bac1e6ea32dd80d38ec41f","object_id":299320}},{"id":10522,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":299340,"value":"[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/43bceb1e-96bc-4e (...140 more characters), 111362558139389017, https://example.com/inbox, {bypass_availability=>true}]","kind":"req","size":4}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":299360,"value":"#<JSON::Ext::Generator::State:0x00007f5e0e86d9b8>"}},{"id":10523,"event":"return","thread_id":9960,"parent_id":10522,"elapsed":1.798401353880763e-05,"elapsed_instrumentation":0.00032205501338467,"return_value":{"class":"String","value":"[\"{\\\"@context\\\":\\\"https://www.w3.org/ns/activitystreams\\\",\\\"id\\\":\\\"https://cb6e6126.ngrok.io/43bceb1 (...240 more characters)","object_id":299380}},{"id":10524,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":299400,"value":"#<JSON::Ext::Parser:0x00007f5e0e86c798>"}},{"id":10525,"event":"return","thread_id":9960,"parent_id":10524,"elapsed":1.4989986084401608e-05,"elapsed_instrumentation":0.000278111023362726,"return_value":{"class":"Array","value":"[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/43bceb1e-96bc-4e (...140 more characters), 111362558139389017, https://example.com/inbox, {bypass_availability=>true}]","object_id":299420,"size":4}},{"id":10526,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":192860,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":299440,"value":"x\u0002_\u0011_u#_\u000e__\u001e"}},{"id":10527,"event":"return","thread_id":9960,"parent_id":10526,"elapsed":5.0539965741336346e-06,"elapsed_instrumentation":0.00018199201440438628,"return_value":{"class":"String","value":"78029a11db7523af0e9d961e","object_id":299460}},{"id":10528,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":299480,"value":"{retry=>16, queue=>push, dead=>false, args=>[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/43bceb1e-96bc-4e (...140 more characters), 111362558139389017, https://example.com/inbox, {bypass_availability=>true}], class=>ActivityPub::DeliveryWorker, jid=>c5bac1e6ea32dd80d38ec41f, created_at=>1699257785.148056, id=>78029a11db7523af0e9d961e}","kind":"req","size":8}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":299500,"value":"#<JSON::Ext::Generator::State:0x00007f5e0e86a920>"}},{"id":10529,"event":"return","thread_id":9960,"parent_id":10528,"elapsed":1.6000994946807623e-05,"elapsed_instrumentation":0.0002541490248404443,"return_value":{"class":"String","value":"{\"retry\":16,\"queue\":\"push\",\"dead\":false,\"args\":[\"{\\\"@context\\\":\\\"https://www.w3.org/ns/activitystrea (...422 more characters)","object_id":299520}},{"id":10530,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":299540,"value":"#<JSON::Ext::Parser:0x00007f5e0e8684b8>"}},{"id":10531,"event":"return","thread_id":9960,"parent_id":10530,"elapsed":2.8819951694458723e-05,"elapsed_instrumentation":0.0005570030771195889,"return_value":{"class":"Hash","value":"{retry=>16, queue=>push, dead=>false, args=>[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/43bceb1e-96bc-4e (...140 more characters), 111362558139389017, https://example.com/inbox, {bypass_availability=>true}], class=>ActivityPub::DeliveryWorker, jid=>c5bac1e6ea32dd80d38ec41f, created_at=>1699257785.148056, id=>78029a11db7523af0e9d961e}","object_id":299560,"size":8}},{"id":10532,"event":"call","thread_id":9960,"defined_class":"ActivityPub::DeliveryWorker","method_id":"perform","path":"app/workers/activitypub/delivery_worker.rb","lineno":25,"static":false,"parameters":[{"name":"json","class":"String","object_id":299580,"value":"{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/43bceb1e-96bc-4e (...140 more characters)","kind":"req"},{"name":"source_account_id","class":"Integer","object_id":222725116278778035,"value":"111362558139389017","kind":"req"},{"name":"inbox_url","class":"String","object_id":299600,"value":"https://example.com/inbox","kind":"req"},{"name":"options","class":"Hash","object_id":299620,"value":"{bypass_availability=>true}","kind":"opt","size":1}],"receiver":{"class":"ActivityPub::DeliveryWorker","object_id":299640,"value":"#<ActivityPub::DeliveryWorker:0x00007f5e11722ee8>"}},{"id":10533,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":10534,"event":"return","thread_id":9960,"parent_id":10533,"elapsed":0.00155846,"elapsed_instrumentation":0.00012751301983371377},{"id":10535,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":299660,"value":"  \u001b[1m\u001b[36mAccount Load (1.7ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accoun (...1364 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":10536,"event":"return","thread_id":9960,"parent_id":10535,"elapsed":0.0024195279693230987,"elapsed_instrumentation":0.00023851508740335703,"return_value":{"class":"Integer","value":"1464","object_id":2929}},{"id":10537,"event":"call","thread_id":9960,"defined_class":"RequestPool","method_id":"current","path":"app/lib/request_pool.rb","lineno":6,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":221900,"value":"RequestPool"}},{"id":10538,"event":"return","thread_id":9960,"parent_id":10537,"elapsed":4.832982085645199e-06,"elapsed_instrumentation":0.00021155300782993436,"return_value":{"class":"RequestPool","value":"#<RequestPool:0x00007f5e0e580228>","object_id":222000}},{"id":10539,"event":"call","thread_id":9960,"defined_class":"RequestPool","method_id":"with","path":"app/lib/request_pool.rb","lineno":106,"static":false,"parameters":[{"name":"site","class":"String","object_id":299680,"value":"https://example.com","kind":"req"},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":222000,"value":"#<RequestPool:0x00007f5e0e580228>"}},{"id":10540,"event":"call","thread_id":9960,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"with","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":15,"static":false,"parameters":[{"name":"preferred_tag","class":"String","object_id":299680,"value":"https://example.com","kind":"req"},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":222040,"value":"#<ConnectionPool::SharedConnectionPool:0x00007f5e120f5dd0>"}},{"id":10541,"event":"call","thread_id":9960,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"checkout","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":29,"static":false,"parameters":[{"name":"preferred_tag","class":"String","object_id":299680,"value":"https://example.com","kind":"req"},{"name":"options","class":"Hash","object_id":299700,"value":"{}","kind":"opt","size":0}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":222040,"value":"#<ConnectionPool::SharedConnectionPool:0x00007f5e120f5dd0>"}},{"id":10542,"event":"call","thread_id":9960,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"pop","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":23,"static":false,"parameters":[{"name":"preferred_tag","class":"String","object_id":299680,"value":"https://example.com","kind":"req"},{"name":"timeout","class":"Integer","object_id":11,"value":"5","kind":"opt"}],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":222080,"value":"#<ConnectionPool::SharedTimedStack:0x00007f5e120f5ce0>"}},{"id":10543,"event":"return","thread_id":9960,"parent_id":10542,"elapsed":2.4784007109701633e-05,"elapsed_instrumentation":0.00019103899830952287,"return_value":{"class":"RequestPool::Connection","value":"#<RequestPool::Connection:0x00007f5e1197b910>","object_id":262360}},{"id":10544,"event":"return","thread_id":9960,"parent_id":10541,"elapsed":0.0002713879803195596,"elapsed_instrumentation":0.00022491300478577614,"return_value":{"class":"RequestPool::Connection","value":"#<RequestPool::Connection:0x00007f5e1197b910>","object_id":262360}},{"id":10545,"event":"call","thread_id":9960,"defined_class":"RequestPool::Connection","method_id":"use","path":"app/lib/request_pool.rb","lineno":47,"static":false,"parameters":[],"receiver":{"class":"RequestPool::Connection","object_id":262360,"value":"#<RequestPool::Connection:0x00007f5e1197b910>"}},{"id":10546,"event":"call","thread_id":9960,"defined_class":"Mastodon::Version","method_id":"user_agent","path":"lib/mastodon/version.rb","lineno":67,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":172680,"value":"4.3.0-alpha.0"}},{"id":10547,"event":"return","thread_id":9960,"parent_id":10546,"elapsed":4.693982191383839e-06,"elapsed_instrumentation":0.0005559080163948238,"return_value":{"class":"String","value":"http.rb/5.1.1 (Mastodon/4.3.0-alpha.0; +https://cb6e6126.ngrok.io/)","object_id":172740}},{"id":10548,"event":"call","thread_id":9960,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":299720,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":299740,"value":"[___W__x}_\u0012B\u0018_____#)___'__Z_\u0016U__F]"}},{"id":10549,"event":"return","thread_id":9960,"parent_id":10548,"elapsed":8.400005754083395e-06,"elapsed_instrumentation":0.0006746220169588923,"return_value":{"class":"String","value":"8PzzV97PeH2ZEkIY3N2Y9OEjKa/mkieR6FrsFlW/3kY=","object_id":299760}},{"id":10550,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"on_behalf_of","path":"app/lib/request.rb","lineno":91,"static":false,"parameters":[{"name":"actor","class":"Account","object_id":299780,"value":"#<Account:0x00007f5e1194d718>","kind":"req"},{"name":"sign_with","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Request","object_id":299800,"value":"#<Request:0x00007f5e0e008de0>"}},{"id":10551,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"keypair","path":"app/models/account.rb","lineno":293,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":299780,"value":"#<Account:0x00007f5e1194d718>"}},{"id":10552,"event":"return","thread_id":9960,"parent_id":10551,"elapsed":0.00017086497973650694,"elapsed_instrumentation":0.00015120301395654678,"return_value":{"class":"OpenSSL::PKey::RSA","value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEAoeT3bBByDcz/rtafbeBgEQEpcz21FV9+YfWKRMvUc0xGO8wo\nTFd","object_id":299820}},{"id":10553,"event":"return","thread_id":9960,"parent_id":10550,"elapsed":0.0003520440077409148,"elapsed_instrumentation":0.000157197006046772,"return_value":{"class":"Request","value":"#<Request:0x00007f5e0e008de0>","object_id":299800}},{"id":10554,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"add_headers","path":"app/lib/request.rb","lineno":100,"static":false,"parameters":[{"name":"new_headers","class":"Hash","object_id":222260,"value":"{Content-Type=>application/activity+json}","kind":"req","size":1}],"receiver":{"class":"Request","object_id":299800,"value":"#<Request:0x00007f5e0e008de0>"}},{"id":10555,"event":"return","thread_id":9960,"parent_id":10554,"elapsed":4.651956260204315e-06,"elapsed_instrumentation":0.00038671103538945317,"return_value":{"class":"Request","value":"#<Request:0x00007f5e0e008de0>","object_id":299800}},{"id":10556,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"perform","path":"app/lib/request.rb","lineno":105,"static":false,"parameters":[],"receiver":{"class":"Request","object_id":299800,"value":"#<Request:0x00007f5e0e008de0>"}},{"id":10557,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"headers","path":"app/lib/request.rb","lineno":126,"static":false,"parameters":[],"receiver":{"class":"Request","object_id":299800,"value":"#<Request:0x00007f5e0e008de0>"}},{"id":10558,"event":"call","thread_id":9960,"defined_class":"OpenSSL::PKey::PKey","method_id":"sign","path":"OpenSSL::PKey::PKey#sign","static":false,"parameters":[{"name":"arg","class":"Array","object_id":299840,"value":"[e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855, (request-target): post /inbox\nhost: example.com\ndate: Mon, 06 Nov 2023 08:03:05 GMT\ndigest: SHA-256= (...84 more characters)]","kind":"rest","size":2}],"receiver":{"class":"OpenSSL::PKey::RSA","object_id":299820,"value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEAoeT3bBByDcz/rtafbeBgEQEpcz21FV9+YfWKRMvUc0xGO8wo\nTFd"}},{"id":10559,"event":"return","thread_id":9960,"parent_id":10558,"elapsed":0.0025056509766727686,"elapsed_instrumentation":0.0002590480144135654,"return_value":{"class":"String","value":"<(__+_y^F_j_?_Zx____B__\"___\u0002____g_:/\u001d\u0017_\u001c__C_}__,_7_+\b_YIr\f_yS?____\u0014__\"z_P__E__<\u0004j_V\u0006_7|___ ^_e_U__q (...156 more characters)","object_id":299860}},{"id":10560,"event":"call","thread_id":9960,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":207640,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":299880,"value":"[<(__+_y^F_j_?_Zx____B__\"___\u0002____g_:/\u001d\u0017_\u001c__C_}__,_7_+\b_YIr\f_yS?____\u0014__\"z_P__E__<\u0004j_V\u0006_7|___ ^_e_U__q (...156 more characters)]"}},{"id":10561,"event":"return","thread_id":9960,"parent_id":10560,"elapsed":6.7480141296982765e-06,"elapsed_instrumentation":0.00015567097580060363,"return_value":{"class":"String","value":"PCjwiyvAeV5GmWqNP8FaeI3RxtNC8dEi+viIAqi3tsdngzovHRfqHKqUQ7J9maYs9jeFKwi4WUlyDJx5Uz/puV/nFK76fyJ611Cr (...244 more characters)","object_id":299900}},{"id":10562,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"key_uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":53,"static":false,"parameters":[{"name":"target","class":"Account","object_id":299780,"value":"#<Account:0x00007f5e1194d718>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":10563,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":299780,"value":"#<Account:0x00007f5e1194d718>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":10564,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":299780,"value":"#<Account:0x00007f5e1194d718>"}},{"id":10565,"event":"return","thread_id":9960,"parent_id":10564,"elapsed":1.982704270631075e-05,"elapsed_instrumentation":7.659394759684801e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":10566,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":299780,"value":"#<Account:0x00007f5e1194d718>"}},{"id":10567,"event":"return","thread_id":9960,"parent_id":10566,"elapsed":3.5249977372586727e-06,"elapsed_instrumentation":7.743894821032882e-05,"return_value":{"class":"Symbol","value":":person","object_id":20695068}},{"id":10568,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":299780,"value":"#<Account:0x00007f5e1194d718>"}},{"id":10569,"event":"return","thread_id":9960,"parent_id":10568,"elapsed":0.00011212698882445693,"elapsed_instrumentation":7.47660524211824e-05},{"id":10570,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":10571,"event":"return","thread_id":9960,"parent_id":10570,"elapsed":5.111971404403448e-06,"elapsed_instrumentation":0.00015841994900256395,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":10572,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":10573,"event":"return","thread_id":9960,"parent_id":10572,"elapsed":3.0869850888848305e-06,"elapsed_instrumentation":0.00010307400953024626,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":10574,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"to_param","path":"app/models/account.rb","lineno":389,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":299780,"value":"#<Account:0x00007f5e1194d718>"}},{"id":10575,"event":"return","thread_id":9960,"parent_id":10574,"elapsed":1.6793026588857174e-05,"elapsed_instrumentation":8.91729723662138e-05,"return_value":{"class":"String","value":"mason_macejkovic29","object_id":299920}},{"id":10576,"event":"return","thread_id":9960,"parent_id":10563,"elapsed":0.0010879880283027887,"elapsed_instrumentation":9.633693844079971e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/mason_macejkovic29","object_id":299940}},{"id":10577,"event":"return","thread_id":9960,"parent_id":10562,"elapsed":0.0012058260035701096,"elapsed_instrumentation":0.0001083450042642653,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/mason_macejkovic29#main-key","object_id":299960}},{"id":10578,"event":"return","thread_id":9960,"parent_id":10557,"elapsed":0.004385676991660148,"elapsed_instrumentation":0.0001606689766049385,"return_value":{"class":"Hash","value":"{User-Agent=>http.rb/5.1.1 (Mastodon/4.3.0-alpha.0; +https://cb6e6126.ngrok.io/), Host=>example.com, Date=>Mon, 06 Nov 2023 08:03:05 GMT, Accept-Encoding=>gzip, Digest=>SHA-256=8PzzV97PeH2ZEkIY3N2Y9OEjKa/mkieR6FrsFlW/3kY=, Content-Type=>application/activity+json, Signature=>keyId=\"https://cb6e6126.ngrok.io/users/mason_macejkovic29#main-key\",algorithm=\"rsa-sha256\",headers=\" (...404 more characters)}","object_id":299980,"size":7}},{"id":10579,"event":"call","thread_id":9960,"defined_class":"Request::ClientLimit","method_id":"body_with_limit","path":"app/lib/request.rb","lineno":227,"static":false,"parameters":[{"name":"limit","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"HTTP::Response","object_id":300040,"value":""}},{"id":10580,"event":"call","thread_id":9960,"defined_class":"Request::ClientLimit","method_id":"truncated_body","path":"app/lib/request.rb","lineno":204,"static":false,"parameters":[{"name":"limit","class":"Integer","object_id":2097153,"value":"1048576","kind":"opt"}],"receiver":{"class":"HTTP::Response","object_id":300040,"value":""}},{"id":10581,"event":"return","thread_id":9960,"parent_id":10580,"elapsed":0.00047255499521270394,"elapsed_instrumentation":0.00032684102188795805,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":300060,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":10582,"event":"return","thread_id":9960,"parent_id":10579,"elapsed":0.0008937529637478292,"elapsed_instrumentation":0.0002624349435791373,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":300060,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":10583,"event":"return","thread_id":9960,"parent_id":10556,"elapsed":0.009994303982239217,"elapsed_instrumentation":0.0001340140006504953,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":300060,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":10584,"event":"call","thread_id":9960,"defined_class":"RequestPool::Connection","method_id":"close","path":"app/lib/request_pool.rb","lineno":85,"static":false,"parameters":[],"receiver":{"class":"RequestPool::Connection","object_id":262360,"value":"#<RequestPool::Connection:0x00007f5e1197b910>"}},{"id":10585,"event":"return","thread_id":9960,"parent_id":10584,"elapsed":5.5150012485682964e-06,"elapsed_instrumentation":0.00010600400855764747,"return_value":{"class":"Symbol","value":":clean","object_id":1565468}},{"id":10586,"event":"return","thread_id":9960,"parent_id":10545,"elapsed":0.013291699055116624,"elapsed_instrumentation":0.00034646393032744527,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":300060,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":10587,"event":"call","thread_id":9960,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"checkin","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":39,"static":false,"parameters":[{"name":"preferred_tag","class":"String","object_id":299680,"value":"https://example.com","kind":"req"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":222040,"value":"#<ConnectionPool::SharedConnectionPool:0x00007f5e120f5dd0>"}},{"id":10588,"event":"call","thread_id":9960,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"push","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":14,"static":false,"parameters":[{"name":"connection","class":"RequestPool::Connection","object_id":262360,"value":"#<RequestPool::Connection:0x00007f5e1197b910>","kind":"req"}],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":222080,"value":"#<ConnectionPool::SharedTimedStack:0x00007f5e120f5ce0>"}},{"id":10589,"event":"return","thread_id":9960,"parent_id":10588,"elapsed":1.1147989425808191e-05,"elapsed_instrumentation":0.00010748498607426882,"return_value":{"class":"Thread::ConditionVariable","value":"#<Thread::ConditionVariable:0x00007f5e0e5bfc20>","object_id":222520}},{"id":10590,"event":"return","thread_id":9960,"parent_id":10587,"elapsed":0.0001558230142109096,"elapsed_instrumentation":8.87649948708713e-05},{"id":10591,"event":"return","thread_id":9960,"parent_id":10540,"elapsed":0.01451449899468571,"elapsed_instrumentation":0.00037539307959377766,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":300060,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":10592,"event":"return","thread_id":9960,"parent_id":10539,"elapsed":0.014922599017154425,"elapsed_instrumentation":0.00011790602002292871,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":300060,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":10593,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":300080,"value":"{:error=>{:class=>HTTP::StateError, :message=>body has already been consumed}, :time=>2023-11-06T08:03:05.173673180+00:00}","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":300100,"value":"#<JSON::Ext::Generator::State:0x00007f5e0e7a0738>"}},{"id":10594,"event":"return","thread_id":9960,"parent_id":10593,"elapsed":1.0374002158641815e-05,"elapsed_instrumentation":0.00021933997049927711,"return_value":{"class":"String","value":"{\"error\":{\"class\":\"HTTP::StateError\",\"message\":\"body has already been consumed\"},\"time\":\"2023-11-06T (...26 more characters)","object_id":300120}},{"id":10595,"event":"call","thread_id":9960,"defined_class":"DeliveryFailureTracker","method_id":"track_failure!","path":"app/lib/delivery_failure_tracker.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"DeliveryFailureTracker","object_id":300140,"value":"#<DeliveryFailureTracker:0x00007f5e0e7ceb38>"}},{"id":10596,"event":"call","thread_id":9960,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"DeliveryFailureTracker","object_id":300140,"value":"#<DeliveryFailureTracker:0x00007f5e0e7ceb38>"}},{"id":10597,"event":"return","thread_id":9960,"parent_id":10596,"elapsed":5.029025487601757e-06,"elapsed_instrumentation":9.792594937607646e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007f5e126ad930>","object_id":222620}},{"id":10598,"event":"call","thread_id":9960,"defined_class":"DeliveryFailureTracker","method_id":"days","path":"app/lib/delivery_failure_tracker.rb","lineno":26,"static":false,"parameters":[],"receiver":{"class":"DeliveryFailureTracker","object_id":300140,"value":"#<DeliveryFailureTracker:0x00007f5e0e7ceb38>"}},{"id":10599,"event":"call","thread_id":9960,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"DeliveryFailureTracker","object_id":300140,"value":"#<DeliveryFailureTracker:0x00007f5e0e7ceb38>"}},{"id":10600,"event":"return","thread_id":9960,"parent_id":10599,"elapsed":4.292000085115433e-06,"elapsed_instrumentation":8.635898120701313e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007f5e126ad930>","object_id":222620}},{"id":10601,"event":"return","thread_id":9960,"parent_id":10598,"elapsed":0.0004791169776581228,"elapsed_instrumentation":0.00014388898853212595,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":10602,"event":"return","thread_id":9960,"parent_id":10595,"elapsed":0.0013569679576903582,"elapsed_instrumentation":0.00011722400086000562},{"id":10603,"event":"return","thread_id":9960,"parent_id":10532,"elapsed":0.02614632499171421,"elapsed_instrumentation":0.00042736699106171727,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":300060,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":10604,"event":"return","thread_id":9960,"parent_id":10237,"elapsed":0.17546570795821026,"elapsed_instrumentation":0.00018144305795431137,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":300060,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]}]}