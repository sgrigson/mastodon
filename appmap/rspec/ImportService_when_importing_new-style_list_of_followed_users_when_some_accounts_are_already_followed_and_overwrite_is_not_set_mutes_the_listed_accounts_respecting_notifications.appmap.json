{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"50d0a0445fe1bf0ac82032f1958ae8e614b2ebd3","status":["M .env.test","M .husky/pre-commit","M appmap/rspec/API_routes_Account_routes_routes_to_followers/appmap-findings.json","M appmap/rspec/API_routes_Account_routes_routes_to_search/appmap-findings.json","M appmap/rspec/API_routes_Account_routes_routes_to_statuses/appmap-findings.json","M appmap/rspec/API_routes_Credentials_routes_routes_to_update_credentials/appmap-findings.json","M appmap/rspec/API_routes_Credentials_routes_routes_to_verify_credentials/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_favourite/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_favourited_by/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_mute/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_reblog/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_reblogged_by/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_unfavourite/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_unmute/appmap-findings.json","M appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_name_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_redirect_uris_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_website_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_an_unsupported_scope_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_many_duplicate_scopes_only_saves_the_scope_once.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_valid_params_creates_an_OAuth_app.appmap.json","?? appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_name_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_redirect_uris_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_website_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_an_unsupported_scope_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_many_duplicate_scopes_only_saves_the_scope_once/","?? appmap/rspec/Apps_POST_api_v1_apps_with_valid_params_creates_an_OAuth_app/","?? appmap/rspec/Apps_POST_api_v1_apps_without_required_params_returns_http_unprocessable_entity/","?? appmap/rspec/Auth_ChallengesController_POST_create_with_correct_password_redirects_back/"],"git_last_annotated_tag":"0.1.2-14643-g50d0a0445fe1bf0ac82032f1958ae8e614b2ebd3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"ImportService when importing new-style list of followed users when some accounts are already followed and overwrite is not set mutes the listed accounts, respecting notifications","source_location":"spec/services/import_service_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"failed","test_failure":{"message":"body has already been consumed","location":"app/lib/request.rb:217"},"exception":{"class":"HTTP::StateError","message":"body has already been consumed"}},"classMap":[{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"concerns","type":"package","children":[{"name":"AccountInteractions","type":"class","children":[{"name":"follow!","type":"function","location":"app/models/concerns/account_interactions.rb:115","static":false},{"name":"blocking?","type":"function","location":"app/models/concerns/account_interactions.rb:214","static":false},{"name":"domain_blocking?","type":"function","location":"app/models/concerns/account_interactions.rb:218","static":false},{"name":"following?","type":"function","location":"app/models/concerns/account_interactions.rb:198","static":false},{"name":"requested?","type":"function","location":"app/models/concerns/account_interactions.rb:238","static":false},{"name":"not_following_anyone?","type":"function","location":"app/models/concerns/account_interactions.rb:206","static":false},{"name":"following_anyone?","type":"function","location":"app/models/concerns/account_interactions.rb:202","static":false},{"name":"request_follow!","type":"function","location":"app/models/concerns/account_interactions.rb:130","static":false}]},{"name":"RateLimitable","type":"class","children":[{"name":"rate_limit=","type":"function","location":"app/models/concerns/rate_limitable.rb:6","static":false},{"name":"rate_limit?","type":"function","location":"app/models/concerns/rate_limitable.rb:10","static":false}]},{"name":"FollowLimitable","type":"class","children":[{"name":"bypass_follow_limit=","type":"function","location":"app/models/concerns/follow_limitable.rb:10","static":false},{"name":"bypass_follow_limit?","type":"function","location":"app/models/concerns/follow_limitable.rb:14","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"following_count","type":"function","location":"app/models/concerns/account_counters.rb:13","static":false},{"name":"account_stat","type":"function","location":"app/models/concerns/account_counters.rb:76","static":false},{"name":"increment_count!","type":"function","location":"app/models/concerns/account_counters.rb:23","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"redis","type":"function","location":"app/models/concerns/redisable.rb:4","static":false}]},{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false},{"name":"suspended?","type":"function","location":"app/models/account.rb:237","static":false},{"name":"moved?","type":"function","location":"app/models/account.rb:167","static":false},{"name":"possibly_stale?","type":"function","location":"app/models/account.rb:211","static":false},{"name":"silenced?","type":"function","location":"app/models/account.rb:225","static":false},{"name":"object_type","type":"function","location":"app/models/account.rb:385","static":false},{"name":"instance_actor?","type":"function","location":"app/models/account.rb:175","static":false},{"name":"to_param","type":"function","location":"app/models/account.rb:389","static":false},{"name":"keypair","type":"function","location":"app/models/account.rb:293","static":false}]},{"name":"AccountStat","type":"class","children":[{"name":"following_count","type":"function","location":"app/models/account_stat.rb:25","static":false}]},{"name":"DomainBlock","type":"class","children":[{"name":"blocked?","type":"function","location":"app/models/domain_block.rb:49","static":true},{"name":"rule_for","type":"function","location":"app/models/domain_block.rb:67","static":true}]},{"name":"FollowRequest","type":"class","children":[{"name":"local?","type":"function","location":"app/models/follow_request.rb:43","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"generate_uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:61","static":false},{"name":"uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:36","static":false},{"name":"key_uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:53","static":false}]},{"name":"Adapter","type":"class","children":[{"name":"serializable_hash","type":"function","location":"app/lib/activitypub/adapter.rb:14","static":false},{"name":"transform_key_casing!","type":"function","location":"app/lib/activitypub/adapter.rb:10","static":true}]},{"name":"Serializer","type":"class","children":[{"name":"serializable_hash","type":"function","location":"app/lib/activitypub/serializer.rb:31","static":false}]},{"name":"CaseTransform","type":"class","children":[{"name":"camel_lower","type":"function","location":"app/lib/activitypub/case_transform.rb:9","static":true},{"name":"camel_lower_cache","type":"function","location":"app/lib/activitypub/case_transform.rb:5","static":true}]}]}]},{"name":"PotentialFriendshipTracker","type":"class","children":[{"name":"remove","type":"function","location":"app/lib/potential_friendship_tracker.rb:27","static":true}]},{"name":"TagManager","type":"class","children":[{"name":"local_domain?","type":"function","location":"app/lib/tag_manager.rb:13","static":false},{"name":"normalize_domain","type":"function","location":"app/lib/tag_manager.rb:17","static":false}]},{"name":"DeliveryFailureTracker","type":"class","children":[{"name":"available?","type":"function","location":"app/lib/delivery_failure_tracker.rb:52","static":true},{"name":"available?","type":"function","location":"app/lib/delivery_failure_tracker.rb:30","static":false},{"name":"track_failure!","type":"function","location":"app/lib/delivery_failure_tracker.rb:12","static":false},{"name":"days","type":"function","location":"app/lib/delivery_failure_tracker.rb:26","static":false}]},{"name":"ActivityTracker","type":"class","children":[{"name":"increment","type":"function","location":"app/lib/activity_tracker.rb:53","static":true},{"name":"add","type":"function","location":"app/lib/activity_tracker.rb:13","static":false}]},{"name":"RequestPool","type":"class","children":[{"name":"current","type":"function","location":"app/lib/request_pool.rb:6","static":true},{"name":"with","type":"function","location":"app/lib/request_pool.rb:106","static":false},{"name":"Connection","type":"class","children":[{"name":"use","type":"function","location":"app/lib/request_pool.rb:47","static":false},{"name":"close","type":"function","location":"app/lib/request_pool.rb:85","static":false}]}]},{"name":"connection_pool","type":"package","children":[{"name":"ConnectionPool","type":"class","children":[{"name":"SharedConnectionPool","type":"class","children":[{"name":"with","type":"function","location":"app/lib/connection_pool/shared_connection_pool.rb:15","static":false},{"name":"checkout","type":"function","location":"app/lib/connection_pool/shared_connection_pool.rb:29","static":false},{"name":"checkin","type":"function","location":"app/lib/connection_pool/shared_connection_pool.rb:39","static":false}]},{"name":"SharedTimedStack","type":"class","children":[{"name":"pop","type":"function","location":"app/lib/connection_pool/shared_timed_stack.rb:23","static":false},{"name":"push","type":"function","location":"app/lib/connection_pool/shared_timed_stack.rb:14","static":false}]}]}]},{"name":"Request","type":"class","children":[{"name":"http_client","type":"function","location":"app/lib/request.rb:141","static":true},{"name":"on_behalf_of","type":"function","location":"app/lib/request.rb:91","static":false},{"name":"add_headers","type":"function","location":"app/lib/request.rb:100","static":false},{"name":"perform","type":"function","location":"app/lib/request.rb:105","static":false},{"name":"headers","type":"function","location":"app/lib/request.rb:126","static":false},{"name":"ClientLimit","type":"class","children":[{"name":"body_with_limit","type":"function","location":"app/lib/request.rb:227","static":false},{"name":"truncated_body","type":"function","location":"app/lib/request.rb:204","static":false}]}]}]},{"name":"helpers","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"default_url_options","type":"function","location":"app/helpers/routing_helper.rb:12","static":false}]}]},{"name":"DomainControlHelper","type":"class","children":[{"name":"domain_not_allowed?","type":"function","location":"app/helpers/domain_control_helper.rb:4","static":false},{"name":"limited_federation_mode?","type":"function","location":"app/helpers/domain_control_helper.rb:20","static":false}]},{"name":"ContextHelper","type":"class","children":[{"name":"serialized_context","type":"function","location":"app/helpers/context_helper.rb:41","static":false}]}]},{"name":"validators","type":"package","children":[{"name":"FollowLimitValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/follow_limit_validator.rb:7","static":false},{"name":"limit_for_account","type":"function","location":"app/validators/follow_limit_validator.rb:14","static":true}]},{"name":"LanguageValidator","type":"class","children":[{"name":"validate_each","type":"function","location":"app/validators/language_validator.rb:6","static":false}]}]},{"name":"workers","type":"package","children":[{"name":"import","type":"package","children":[{"name":"Import","type":"class","children":[{"name":"RelationshipWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/import/relationship_worker.rb:11","static":false},{"name":"domain","type":"function","location":"app/workers/import/relationship_worker.rb:41","static":false},{"name":"stoplight_wrap_request","type":"function","location":"app/workers/import/relationship_worker.rb:46","static":false}]}]}]},{"name":"activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"DeliveryWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/activitypub/delivery_worker.rb:25","static":false}]}]}]}]},{"name":"services/concerns","type":"package","children":[{"name":"Payloadable","type":"class","children":[{"name":"serialize_payload","type":"function","location":"app/services/concerns/payloadable.rb:13","static":false}]}]},{"name":"serializers/activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"FollowSerializer","type":"class","children":[{"name":"id","type":"function","location":"app/serializers/activitypub/follow_serializer.rb:7","static":false},{"name":"type","type":"function","location":"app/serializers/activitypub/follow_serializer.rb:11","static":false},{"name":"actor","type":"function","location":"app/serializers/activitypub/follow_serializer.rb:15","static":false},{"name":"virtual_object","type":"function","location":"app/serializers/activitypub/follow_serializer.rb:19","static":false}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]},{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]},{"name":"Array","type":"class","children":[{"name":"pack","type":"function","location":"<internal:pack>:7","static":false,"labels":["array.pack"]}]}]},{"name":"lib","type":"package","children":[{"name":"paperclip","type":"package","children":[{"name":"Paperclip","type":"class","children":[{"name":"AttachmentExtensions","type":"class","children":[{"name":"assign_attributes","type":"function","location":"lib/paperclip/attachment_extensions.rb:54","static":false},{"name":"save","type":"function","location":"lib/paperclip/attachment_extensions.rb:83","static":false},{"name":"storage_schema_version","type":"function","location":"lib/paperclip/attachment_extensions.rb:50","static":false}]},{"name":"MediaTypeSpoofDetectorExtensions","type":"class","children":[{"name":"calculated_content_type","type":"function","location":"lib/paperclip/media_type_spoof_detector_extensions.rb:7","static":false}]}]}]},{"name":"terrapin","type":"package","children":[{"name":"Terrapin","type":"class","children":[{"name":"MultiPipeExtensions","type":"class","children":[{"name":"pipe_options","type":"function","location":"lib/terrapin/multi_pipe_extensions.rb:14","static":false},{"name":"read","type":"function","location":"lib/terrapin/multi_pipe_extensions.rb:19","static":false}]}]}]},{"name":"mastodon","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"Version","type":"class","children":[{"name":"user_agent","type":"function","location":"lib/mastodon/version.rb:67","static":true}]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]},{"name":"openssl","type":"package","children":[{"name":"OpenSSL","type":"class","children":[{"name":"PKey","type":"class","children":[{"name":"PKey","type":"class","children":[{"name":"sign","type":"function","location":"OpenSSL::PKey::PKey#sign","static":false,"labels":["crypto.pkey"]}]}]}]}]}],"events":[{"id":5565,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"follow!","path":"app/models/concerns/account_interactions.rb","lineno":115,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":255040,"value":"#<Account:0x00007f5e12059110>","kind":"req"},{"name":"reblogs","class":"TrueClass","object_id":20,"value":"true","kind":"key"},{"name":"notify","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"languages","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"uri","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"rate_limit","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"bypass_limit","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Account","object_id":255000,"value":"#<Account:0x00007f5e11c42310>"}},{"id":5566,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":5567,"event":"return","thread_id":9960,"parent_id":5566,"elapsed":0.000845076,"elapsed_instrumentation":9.940896416082978e-05},{"id":5568,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":255100,"value":"  \u001b[1m\u001b[36mFollow Load (1.0ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"acco (...160 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5569,"event":"return","thread_id":9960,"parent_id":5568,"elapsed":0.0033102729939855635,"elapsed_instrumentation":0.00026094401255249977,"return_value":{"class":"Integer","value":"260","object_id":521}},{"id":5570,"event":"call","thread_id":9960,"defined_class":"RateLimitable","method_id":"rate_limit=","path":"app/models/concerns/rate_limitable.rb","lineno":6,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Follow","object_id":255120,"value":"#<Follow:0x00007f5e12051f50>"}},{"id":5571,"event":"return","thread_id":9960,"parent_id":5570,"elapsed":6.204994861036539e-06,"elapsed_instrumentation":0.00019108905689790845},{"id":5572,"event":"call","thread_id":9960,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit=","path":"app/models/concerns/follow_limitable.rb","lineno":10,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Follow","object_id":255120,"value":"#<Follow:0x00007f5e12051f50>"}},{"id":5573,"event":"return","thread_id":9960,"parent_id":5572,"elapsed":6.110989488661289e-06,"elapsed_instrumentation":0.00013883801875635982},{"id":5574,"event":"call","thread_id":9960,"defined_class":"RateLimitable","method_id":"rate_limit=","path":"app/models/concerns/rate_limitable.rb","lineno":6,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Follow","object_id":255120,"value":"#<Follow:0x00007f5e12051f50>"}},{"id":5575,"event":"return","thread_id":9960,"parent_id":5574,"elapsed":5.724024958908558e-06,"elapsed_instrumentation":0.0001315529807470739},{"id":5576,"event":"call","thread_id":9960,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit=","path":"app/models/concerns/follow_limitable.rb","lineno":10,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"Follow","object_id":255120,"value":"#<Follow:0x00007f5e12051f50>"}},{"id":5577,"event":"return","thread_id":9960,"parent_id":5576,"elapsed":3.043969627469778e-06,"elapsed_instrumentation":7.697701221331954e-05},{"id":5578,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":255140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255160,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc8e80>"}},{"id":5579,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"generate_uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":61,"static":false,"parameters":[{"name":"_target","class":"Follow","object_id":255120,"value":"#<Follow:0x00007f5e12051f50>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":5580,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":5581,"event":"return","thread_id":9960,"parent_id":5580,"elapsed":4.8130168579518795e-06,"elapsed_instrumentation":0.00013561698142439127,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":5582,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":5583,"event":"return","thread_id":9960,"parent_id":5582,"elapsed":3.029999788850546e-06,"elapsed_instrumentation":0.00010612804908305407,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":5584,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":245020,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":255180,"value":"_\u0000_h__>\f_`____-_"}},{"id":5585,"event":"return","thread_id":9960,"parent_id":5584,"elapsed":6.6820066422224045e-06,"elapsed_instrumentation":0.00014588498743250966,"return_value":{"class":"Array","value":"[4026590056, 55268, 15884, 55392, 47331, 3651743178]","object_id":255200,"size":6}},{"id":5586,"event":"return","thread_id":9960,"parent_id":5579,"elapsed":0.0008599549764767289,"elapsed_instrumentation":0.00025902705965563655,"return_value":{"class":"URI::HTTPS","value":"https://cb6e6126.ngrok.io/f000e368-d7e4-4e0c-9860-b8e3d9a92dca","object_id":255220}},{"id":5587,"event":"return","thread_id":9960,"parent_id":5578,"elapsed":0.0011889089946635067,"elapsed_instrumentation":0.00014343997463583946,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0eda8810 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eda8950 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":255240,"size":2}},{"id":5588,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":255260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc8c00>"}},{"id":5589,"event":"call","thread_id":9960,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit?","path":"app/models/concerns/follow_limitable.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Follow","object_id":255120,"value":"#<Follow:0x00007f5e12051f50>"}},{"id":5590,"event":"return","thread_id":9960,"parent_id":5589,"elapsed":3.951950930058956e-06,"elapsed_instrumentation":0.00011292501585558057},{"id":5591,"event":"call","thread_id":9960,"defined_class":"FollowLimitValidator","method_id":"validate","path":"app/validators/follow_limit_validator.rb","lineno":7,"static":false,"parameters":[{"name":"follow","class":"Follow","object_id":255120,"value":"#<Follow:0x00007f5e12051f50>","kind":"req"}],"receiver":{"class":"FollowLimitValidator","object_id":255300,"value":"#<FollowLimitValidator:0x00007f5e1186f558>"}},{"id":5592,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":255000,"value":"#<Account:0x00007f5e11c42310>"}},{"id":5593,"event":"return","thread_id":9960,"parent_id":5592,"elapsed":8.522998541593552e-06,"elapsed_instrumentation":8.414301555603743e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5594,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"following_count","path":"app/models/concerns/account_counters.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":255320,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":255340,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":255000,"value":"#<Account:0x00007f5e11c42310>"}},{"id":5595,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":255000,"value":"#<Account:0x00007f5e11c42310>"}},{"id":5596,"event":"call","thread_id":9960,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":5597,"event":"return","thread_id":9960,"parent_id":5596,"elapsed":0.000668913,"elapsed_instrumentation":0.0001486819819547236},{"id":5598,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":255360,"value":"  \u001b[1m\u001b[36mTRANSACTION (0.9ms)\u001b[0m  \u001b[1m\u001b[35mSAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5599,"event":"return","thread_id":9960,"parent_id":5598,"elapsed":0.004596568993292749,"elapsed_instrumentation":0.00039318506605923176,"return_value":{"class":"Integer","value":"75","object_id":151}},{"id":5600,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"account_stats\".\"id\", \"account_stats\".\"account_id\", \"account_stats\".\"statuses_count\", \"account_stats\".\"following_count\", \"account_stats\".\"followers_count\", \"account_stats\".\"created_at\", \"account_stats\".\"updated_at\", \"account_stats\".\"last_status_at\" FROM \"account_stats\" WHERE \"account_stats\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":5601,"event":"return","thread_id":9960,"parent_id":5600,"elapsed":0.000814714,"elapsed_instrumentation":0.00012042000889778137},{"id":5602,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":255380,"value":"  \u001b[1m\u001b[36mAccountStat Load (1.0ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"account_stats\".\"id\", \"account_stats\".\"acco (...332 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5603,"event":"return","thread_id":9960,"parent_id":5602,"elapsed":0.00272896297974512,"elapsed_instrumentation":0.0005362590309232473,"return_value":{"class":"Integer","value":"432","object_id":865}},{"id":5604,"event":"return","thread_id":9960,"parent_id":5595,"elapsed":0.013641419005580246,"elapsed_instrumentation":0.00011790398275479674,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007f5e12051b90>","object_id":255400}},{"id":5605,"event":"call","thread_id":9960,"defined_class":"AccountStat","method_id":"following_count","path":"app/models/account_stat.rb","lineno":25,"static":false,"parameters":[],"receiver":{"class":"AccountStat","object_id":255400,"value":"#<AccountStat:0x00007f5e12051b90>"}},{"id":5606,"event":"return","thread_id":9960,"parent_id":5605,"elapsed":5.7743978686630726e-05,"elapsed_instrumentation":0.00011098803952336311,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":5607,"event":"return","thread_id":9960,"parent_id":5594,"elapsed":0.013986315985675901,"elapsed_instrumentation":0.00010544498218223453,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":5608,"event":"call","thread_id":9960,"defined_class":"FollowLimitValidator","method_id":"limit_for_account","path":"app/validators/follow_limit_validator.rb","lineno":14,"static":true,"parameters":[{"name":"account","class":"Account","object_id":255000,"value":"#<Account:0x00007f5e11c42310>","kind":"req"}],"receiver":{"class":"Class","object_id":199640,"value":"FollowLimitValidator"}},{"id":5609,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"following_count","path":"app/models/concerns/account_counters.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":255420,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":255440,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":255000,"value":"#<Account:0x00007f5e11c42310>"}},{"id":5610,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":255000,"value":"#<Account:0x00007f5e11c42310>"}},{"id":5611,"event":"return","thread_id":9960,"parent_id":5610,"elapsed":1.6290985513478518e-05,"elapsed_instrumentation":0.00011495302896946669,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007f5e12051b90>","object_id":255400}},{"id":5612,"event":"call","thread_id":9960,"defined_class":"AccountStat","method_id":"following_count","path":"app/models/account_stat.rb","lineno":25,"static":false,"parameters":[],"receiver":{"class":"AccountStat","object_id":255400,"value":"#<AccountStat:0x00007f5e12051b90>"}},{"id":5613,"event":"return","thread_id":9960,"parent_id":5612,"elapsed":2.6315974537283182e-05,"elapsed_instrumentation":7.114902837201953e-05,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":5614,"event":"return","thread_id":9960,"parent_id":5609,"elapsed":0.00027344096451997757,"elapsed_instrumentation":0.00023551302729174495,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":5615,"event":"return","thread_id":9960,"parent_id":5608,"elapsed":0.0005433420301415026,"elapsed_instrumentation":0.00032849895069375634,"return_value":{"class":"Integer","value":"7500","object_id":15001}},{"id":5616,"event":"return","thread_id":9960,"parent_id":5591,"elapsed":0.015156029025092721,"elapsed_instrumentation":0.00010277697583660483},{"id":5617,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":5618,"event":"return","thread_id":9960,"parent_id":5617,"elapsed":0.000856936,"elapsed_instrumentation":9.654101449996233e-05},{"id":5619,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":255460,"value":"  \u001b[1m\u001b[36mFollow Exists? (1.0ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"acco (...160 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5620,"event":"return","thread_id":9960,"parent_id":5619,"elapsed":0.0025350640062242746,"elapsed_instrumentation":0.000259461987297982,"return_value":{"class":"Integer","value":"260","object_id":521}},{"id":5621,"event":"call","thread_id":9960,"defined_class":"LanguageValidator","method_id":"validate_each","path":"app/validators/language_validator.rb","lineno":6,"static":false,"parameters":[{"name":"record","class":"Follow","object_id":255120,"value":"#<Follow:0x00007f5e12051f50>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":9570268,"value":":languages","kind":"req"},{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"LanguageValidator","object_id":255480,"value":"#<LanguageValidator:0x00007f5e11866020>"}},{"id":5622,"event":"return","thread_id":9960,"parent_id":5621,"elapsed":5.536014214158058e-06,"elapsed_instrumentation":0.00037104199873283505},{"id":5623,"event":"return","thread_id":9960,"parent_id":5588,"elapsed":0.02086937997955829,"elapsed_instrumentation":0.00017541000852361321,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0eda5840 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eda59f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eda5cc8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eda5ea8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eda6088 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eda6268 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":255500,"size":6}},{"id":5624,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":255260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc8c00>"}},{"id":5625,"event":"return","thread_id":9960,"parent_id":5624,"elapsed":3.564986400306225e-06,"elapsed_instrumentation":9.85580263659358e-05,"return_value":{"class":"Array","value":"[]","object_id":255520,"size":0}},{"id":5626,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":255140,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255160,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc8e80>"}},{"id":5627,"event":"return","thread_id":9960,"parent_id":5626,"elapsed":3.2219686545431614e-06,"elapsed_instrumentation":8.220598101615906e-05,"return_value":{"class":"Array","value":"[]","object_id":255540,"size":0}},{"id":5628,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":255560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255580,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc7bc0>"}},{"id":5629,"event":"return","thread_id":9960,"parent_id":5628,"elapsed":0.00011226499918848276,"elapsed_instrumentation":0.00012315699132159352,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0ed8a608 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0ed8a748 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":255600,"size":2}},{"id":5630,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":255620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc7940>"}},{"id":5631,"event":"return","thread_id":9960,"parent_id":5630,"elapsed":3.4939730539917946e-06,"elapsed_instrumentation":0.00013628805754706264,"return_value":{"class":"Array","value":"[]","object_id":255660,"size":0}},{"id":5632,"event":"call","thread_id":9960,"sql_query":{"sql":"INSERT INTO \"follows\" (\"created_at\", \"updated_at\", \"account_id\", \"target_account_id\", \"show_reblogs\", \"uri\", \"notify\", \"languages\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING \"id\"","database_type":"postgres"}},{"id":5633,"event":"return","thread_id":9960,"parent_id":5632,"elapsed":0.001248369,"elapsed_instrumentation":8.519802941009402e-05},{"id":5634,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":255680,"value":"  \u001b[1m\u001b[36mFollow Create (1.4ms)\u001b[0m  \u001b[1m\u001b[32mINSERT INTO \"follows\" (\"created_at\", \"updated_at\", \"a (...449 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5635,"event":"return","thread_id":9960,"parent_id":5634,"elapsed":0.0026523820124566555,"elapsed_instrumentation":0.0001669619814492762,"return_value":{"class":"Integer","value":"549","object_id":1099}},{"id":5636,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":255620,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255640,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc7940>"}},{"id":5637,"event":"call","thread_id":9960,"defined_class":"RateLimitable","method_id":"rate_limit?","path":"app/models/concerns/rate_limitable.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"Follow","object_id":255120,"value":"#<Follow:0x00007f5e12051f50>"}},{"id":5638,"event":"return","thread_id":9960,"parent_id":5637,"elapsed":4.995032213628292e-06,"elapsed_instrumentation":7.364997873082757e-05},{"id":5639,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19210588,"value":":following_count","kind":"req"}],"receiver":{"class":"Account","object_id":255000,"value":"#<Account:0x00007f5e11c42310>"}},{"id":5640,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":19210588,"value":":following_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":255000,"value":"#<Account:0x00007f5e11c42310>"}},{"id":5641,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":255000,"value":"#<Account:0x00007f5e11c42310>"}},{"id":5642,"event":"return","thread_id":9960,"parent_id":5641,"elapsed":1.6275967936962843e-05,"elapsed_instrumentation":8.723698556423187e-05,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007f5e12051b90>","object_id":255400}},{"id":5643,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":255000,"value":"#<Account:0x00007f5e11c42310>"}},{"id":5644,"event":"return","thread_id":9960,"parent_id":5643,"elapsed":9.131967090070248e-06,"elapsed_instrumentation":8.707097731530666e-05,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007f5e12051b90>","object_id":255400}},{"id":5645,"event":"call","thread_id":9960,"sql_query":{"sql":"INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111362557526760552, 1, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + 1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":5646,"event":"return","thread_id":9960,"parent_id":5645,"elapsed":0.001503341,"elapsed_instrumentation":0.0001386590301990509},{"id":5647,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":255700,"value":"  \u001b[1m\u001b[35mSQL (1.7ms)\u001b[0m  \u001b[1m\u001b[32mINSERT INTO account_stats(account_id, following_count, created_ (...190 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5648,"event":"return","thread_id":9960,"parent_id":5647,"elapsed":0.0038687950000166893,"elapsed_instrumentation":0.00022766698384657502,"return_value":{"class":"Integer","value":"290","object_id":581}},{"id":5649,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":255000,"value":"#<Account:0x00007f5e11c42310>"}},{"id":5650,"event":"return","thread_id":9960,"parent_id":5649,"elapsed":2.0430015865713358e-05,"elapsed_instrumentation":0.00016132305609062314,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007f5e12051b90>","object_id":255400}},{"id":5651,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":255000,"value":"#<Account:0x00007f5e11c42310>"}},{"id":5652,"event":"return","thread_id":9960,"parent_id":5651,"elapsed":1.0365038178861141e-05,"elapsed_instrumentation":0.0001113869366236031,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007f5e12051b90>","object_id":255400}},{"id":5653,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":255000,"value":"#<Account:0x00007f5e11c42310>"}},{"id":5654,"event":"return","thread_id":9960,"parent_id":5653,"elapsed":8.026021532714367e-06,"elapsed_instrumentation":0.0002712520072236657,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007f5e12051b90>","object_id":255400}},{"id":5655,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"account_stats\".\"id\", \"account_stats\".\"account_id\", \"account_stats\".\"statuses_count\", \"account_stats\".\"following_count\", \"account_stats\".\"followers_count\", \"account_stats\".\"created_at\", \"account_stats\".\"updated_at\", \"account_stats\".\"last_status_at\" FROM \"account_stats\" WHERE \"account_stats\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":5656,"event":"return","thread_id":9960,"parent_id":5655,"elapsed":0.000883111,"elapsed_instrumentation":0.00011204899055883288},{"id":5657,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":255720,"value":"  \u001b[1m\u001b[36mAccountStat Load (1.0ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"account_stats\".\"id\", \"account_stats\".\"acco (...300 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5658,"event":"return","thread_id":9960,"parent_id":5657,"elapsed":0.0019410079694353044,"elapsed_instrumentation":0.00019446708029136062,"return_value":{"class":"Integer","value":"400","object_id":801}},{"id":5659,"event":"return","thread_id":9960,"parent_id":5640,"elapsed":0.012942981964442879,"elapsed_instrumentation":0.00013148703146725893,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007f5e12051b90>","object_id":255400}},{"id":5660,"event":"return","thread_id":9960,"parent_id":5639,"elapsed":0.013102745986543596,"elapsed_instrumentation":0.00013281306019052863,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007f5e12051b90>","object_id":255400}},{"id":5661,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17229148,"value":":followers_count","kind":"req"}],"receiver":{"class":"Account","object_id":255040,"value":"#<Account:0x00007f5e12059110>"}},{"id":5662,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17229148,"value":":followers_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":255040,"value":"#<Account:0x00007f5e12059110>"}},{"id":5663,"event":"call","thread_id":9960,"sql_query":{"sql":"INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111362557526760553, 1, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + 1, updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":5664,"event":"return","thread_id":9960,"parent_id":5663,"elapsed":0.00128313,"elapsed_instrumentation":0.00010195898357778788},{"id":5665,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":255740,"value":"  \u001b[1m\u001b[35mSQL (1.3ms)\u001b[0m  \u001b[1m\u001b[32mINSERT INTO account_stats(account_id, followers_count, created_ (...190 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5666,"event":"return","thread_id":9960,"parent_id":5665,"elapsed":0.0038073610048741102,"elapsed_instrumentation":0.00019704404985532165,"return_value":{"class":"Integer","value":"290","object_id":581}},{"id":5667,"event":"return","thread_id":9960,"parent_id":5662,"elapsed":0.005992276011966169,"elapsed_instrumentation":9.370496263727546e-05},{"id":5668,"event":"return","thread_id":9960,"parent_id":5661,"elapsed":0.006111942988354713,"elapsed_instrumentation":0.0001076759654097259},{"id":5669,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":255000,"value":"#<Account:0x00007f5e11c42310>"}},{"id":5670,"event":"return","thread_id":9960,"parent_id":5669,"elapsed":9.918003343045712e-06,"elapsed_instrumentation":0.000135525013320148,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5671,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":255040,"value":"#<Account:0x00007f5e12059110>"}},{"id":5672,"event":"return","thread_id":9960,"parent_id":5671,"elapsed":0.0001719630090519786,"elapsed_instrumentation":0.00010367803042754531,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5673,"event":"return","thread_id":9960,"parent_id":5636,"elapsed":0.02040283300448209,"elapsed_instrumentation":0.000192321022041142,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0ed897d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0ed89618 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0ed89460 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0ed892a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":255760,"size":4}},{"id":5674,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":255560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255580,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc7bc0>"}},{"id":5675,"event":"return","thread_id":9960,"parent_id":5674,"elapsed":4.310975782573223e-06,"elapsed_instrumentation":0.00011687004007399082,"return_value":{"class":"Array","value":"[]","object_id":255780,"size":0}},{"id":5676,"event":"call","thread_id":9960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":5677,"event":"return","thread_id":9960,"parent_id":5676,"elapsed":0.000798601,"elapsed_instrumentation":9.565800428390503e-05},{"id":5678,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":255800,"value":"  \u001b[1m\u001b[36mTRANSACTION (0.9ms)\u001b[0m  \u001b[1m\u001b[35mRELEASE SAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5679,"event":"return","thread_id":9960,"parent_id":5678,"elapsed":0.0033237780444324017,"elapsed_instrumentation":0.0001685679890215397,"return_value":{"class":"Integer","value":"83","object_id":167}},{"id":5680,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":255820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc6770>"}},{"id":5681,"event":"return","thread_id":9960,"parent_id":5680,"elapsed":4.224013537168503e-06,"elapsed_instrumentation":0.00022882898338139057,"return_value":{"class":"Array","value":"[]","object_id":255860,"size":0}},{"id":5682,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":255820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":255840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc6770>"}},{"id":5683,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":255880,"value":"Cache delete: relationship:111362557526760552:111362557526760553\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5684,"event":"return","thread_id":9960,"parent_id":5683,"elapsed":0.0033188259694725275,"elapsed_instrumentation":0.0002958489931188524,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":5685,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":255900,"value":"Cache delete: relationship:111362557526760553:111362557526760552\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5686,"event":"return","thread_id":9960,"parent_id":5685,"elapsed":0.0036266030510887504,"elapsed_instrumentation":0.00020525098079815507,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":5687,"event":"return","thread_id":9960,"parent_id":5682,"elapsed":0.007857112970668823,"elapsed_instrumentation":0.00020466902060434222,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0ed7afc8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":255920,"size":1}},{"id":5688,"event":"call","thread_id":9960,"defined_class":"PotentialFriendshipTracker","method_id":"remove","path":"app/lib/potential_friendship_tracker.rb","lineno":27,"static":true,"parameters":[{"name":"account_id","class":"Integer","object_id":222725115053521105,"value":"111362557526760552","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222725115053521107,"value":"111362557526760553","kind":"req"}],"receiver":{"class":"Class","object_id":255940,"value":"PotentialFriendshipTracker"}},{"id":5689,"event":"call","thread_id":9960,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Class","object_id":255940,"value":"PotentialFriendshipTracker"}},{"id":5690,"event":"return","thread_id":9960,"parent_id":5689,"elapsed":7.326947525143623e-06,"elapsed_instrumentation":0.00015822402201592922,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007f5e126ad930>","object_id":222620}},{"id":5691,"event":"return","thread_id":9960,"parent_id":5688,"elapsed":0.000855254998896271,"elapsed_instrumentation":0.0004291340592317283},{"id":5692,"event":"return","thread_id":9960,"parent_id":5565,"elapsed":0.07335228897863999,"elapsed_instrumentation":0.0002954509691335261,"return_value":{"class":"Follow","value":"#<Follow:0x00007f5e12051f50>","object_id":255120}},{"id":5693,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n       pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n       c.collname, col_description(a.attrelid, a.attnum) AS comment,\n       a.attidentity AS identity,\n       attgenerated as attgenerated\n  FROM pg_attribute a\n  LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n  LEFT JOIN pg_type t ON a.atttypid = t.oid\n  LEFT JOIN pg_collation c ON a.attcollation = c.oid AND a.attcollation <> t.typcollation\n WHERE a.attrelid = '\"imports\"'::regclass\n   AND a.attnum > 0 AND NOT a.attisdropped\n ORDER BY a.attnum\n","database_type":"postgres"}},{"id":5694,"event":"return","thread_id":9960,"parent_id":5693,"elapsed":0.004251726,"elapsed_instrumentation":0.00016084604430943727},{"id":5695,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT a.attname\n  FROM (\n         SELECT indrelid, indkey, generate_subscripts(indkey, 1) idx\n           FROM pg_index\n          WHERE indrelid = '\"imports\"'::regclass\n            AND indisprimary\n       ) i\n  JOIN pg_attribute a\n    ON a.attrelid = i.indrelid\n   AND a.attnum = i.indkey[i.idx]\n ORDER BY i.idx\n","database_type":"postgres"}},{"id":5696,"event":"return","thread_id":9960,"parent_id":5695,"elapsed":0.00489259,"elapsed_instrumentation":0.00014053803170099854},{"id":5697,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":258260,"value":"[paperclip] Trying to link /workspaces/mastodon/spec/fixtures/files/new-following-imports.txt to /tm (...59 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5698,"event":"return","thread_id":9960,"parent_id":5697,"elapsed":0.0023640000144951046,"elapsed_instrumentation":0.00036555895349010825,"return_value":{"class":"Integer","value":"159","object_id":319}},{"id":5699,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":258280,"value":"[paperclip] Link failed with Invalid cross-device link @ rb_file_s_link - (/workspaces/mastodon/spec (...252 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5700,"event":"return","thread_id":9960,"parent_id":5699,"elapsed":0.002238839981146157,"elapsed_instrumentation":0.00026702997274696827,"return_value":{"class":"Integer","value":"352","object_id":705}},{"id":5701,"event":"call","thread_id":9960,"defined_class":"Paperclip::AttachmentExtensions","method_id":"assign_attributes","path":"lib/paperclip/attachment_extensions.rb","lineno":54,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":258440,"value":"/data/original/missing.png"}},{"id":5702,"event":"return","thread_id":9960,"parent_id":5701,"elapsed":0.0005183460307307541,"elapsed_instrumentation":0.00039057101821526885},{"id":5703,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":258500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":246820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11ee9848>"}},{"id":5704,"event":"return","thread_id":9960,"parent_id":5703,"elapsed":2.7031986974179745e-05,"elapsed_instrumentation":0.00019846396753564477,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0eaca8f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":246840,"size":1}},{"id":5705,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":258520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":258540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0eead530>"}},{"id":5706,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":258560,"value":"[paperclip] Trying to link /tmp/8b54ccbb803173abd95214b18279a4dc20231106-3877-ggvxfa.txt to /tmp/8b5 (...54 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5707,"event":"return","thread_id":9960,"parent_id":5706,"elapsed":0.0028840439626947045,"elapsed_instrumentation":0.00016905704978853464,"return_value":{"class":"Integer","value":"154","object_id":309}},{"id":5708,"event":"call","thread_id":9960,"defined_class":"Paperclip::MediaTypeSpoofDetectorExtensions","method_id":"calculated_content_type","path":"lib/paperclip/media_type_spoof_detector_extensions.rb","lineno":7,"static":false,"parameters":[],"receiver":{"class":"Paperclip::MediaTypeSpoofDetector","object_id":258580,"value":"#<Paperclip::MediaTypeSpoofDetector:0x00007f5e0ecf4ce8>"}},{"id":5709,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":258620,"value":"Command :: file -b --mime '/tmp/8b54ccbb803173abd95214b18279a4dc20231106-3877-9nc4i2.txt'\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5710,"event":"return","thread_id":9960,"parent_id":5709,"elapsed":0.002819706976879388,"elapsed_instrumentation":0.00015602604253217578,"return_value":{"class":"Integer","value":"90","object_id":181}},{"id":5711,"event":"call","thread_id":9960,"defined_class":"Terrapin::MultiPipeExtensions","method_id":"pipe_options","path":"lib/terrapin/multi_pipe_extensions.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"Terrapin::CommandLine::MultiPipe","object_id":258640,"value":"#<Terrapin::CommandLine::MultiPipe:0x00007f5e0eeacae0>"}},{"id":5712,"event":"return","thread_id":9960,"parent_id":5711,"elapsed":9.523006156086922e-06,"elapsed_instrumentation":0.00039380398811772466,"return_value":{"class":"Hash","value":"{:out=>#<IO:0x00007f5e0ecf12c8>, :err=>#<IO:0x00007f5e0ecf1228>, #<IO:0x00007f5e0ecf1318>=>:close, #<IO:0x00007f5e0ecf1250>=>:close}","object_id":258700,"size":4}},{"id":5713,"event":"call","thread_id":9960,"defined_class":"Terrapin::MultiPipeExtensions","method_id":"read","path":"lib/terrapin/multi_pipe_extensions.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"Terrapin::CommandLine::MultiPipe","object_id":258640,"value":"#<Terrapin::CommandLine::MultiPipe:0x00007f5e0eeacae0>"}},{"id":5714,"event":"return","thread_id":9960,"parent_id":5713,"elapsed":0.06531099899439141,"elapsed_instrumentation":0.0005246189539320767},{"id":5715,"event":"return","thread_id":9960,"parent_id":5708,"elapsed":0.0718701200094074,"elapsed_instrumentation":0.00021076604025438428,"return_value":{"class":"String","value":"text/plain","object_id":258720}},{"id":5716,"event":"return","thread_id":9960,"parent_id":5705,"elapsed":0.07648138800868765,"elapsed_instrumentation":0.00029353704303503036,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0ecf81e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0ecf83e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0ecf85c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0ecf87a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0ecf8988 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0ecf8c08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0ecf8de8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":258740,"size":7}},{"id":5717,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":258520,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":258540,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0eead530>"}},{"id":5718,"event":"return","thread_id":9960,"parent_id":5717,"elapsed":4.4199987314641476e-06,"elapsed_instrumentation":0.00014012999599799514,"return_value":{"class":"Array","value":"[]","object_id":258760,"size":0}},{"id":5719,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":258500,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":246820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11ee9848>"}},{"id":5720,"event":"return","thread_id":9960,"parent_id":5719,"elapsed":2.9929797165095806e-06,"elapsed_instrumentation":8.306698873639107e-05,"return_value":{"class":"Array","value":"[]","object_id":246940,"size":0}},{"id":5721,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":258780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":258800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0eeaa4c0>"}},{"id":5722,"event":"return","thread_id":9960,"parent_id":5721,"elapsed":0.00011664396151900291,"elapsed_instrumentation":0.00018957199063152075,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0ed4abc0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":258820,"size":1}},{"id":5723,"event":"call","thread_id":9960,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":5724,"event":"return","thread_id":9960,"parent_id":5723,"elapsed":0.000506792,"elapsed_instrumentation":0.0001020269701257348},{"id":5725,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":258840,"value":"  \u001b[1m\u001b[36mTRANSACTION (0.8ms)\u001b[0m  \u001b[1m\u001b[35mSAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5726,"event":"return","thread_id":9960,"parent_id":5725,"elapsed":0.002875917009077966,"elapsed_instrumentation":0.00020565598970279098,"return_value":{"class":"Integer","value":"75","object_id":151}},{"id":5727,"event":"call","thread_id":9960,"sql_query":{"sql":"INSERT INTO \"imports\" (\"type\", \"approved\", \"created_at\", \"updated_at\", \"data_file_name\", \"data_content_type\", \"data_file_size\", \"data_updated_at\", \"account_id\", \"overwrite\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING \"id\"","database_type":"postgres"}},{"id":5728,"event":"return","thread_id":9960,"parent_id":5727,"elapsed":0.008482826,"elapsed_instrumentation":0.00030156096909195185},{"id":5729,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":258860,"value":"  \u001b[1m\u001b[36mImport Create (8.8ms)\u001b[0m  \u001b[1m\u001b[32mINSERT INTO \"imports\" (\"type\", \"approved\", \"created_a (...536 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5730,"event":"return","thread_id":9960,"parent_id":5729,"elapsed":0.004044772009365261,"elapsed_instrumentation":0.00033057801192626357,"return_value":{"class":"Integer","value":"636","object_id":1273}},{"id":5731,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":258780,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":258800,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0eeaa4c0>"}},{"id":5732,"event":"call","thread_id":9960,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":258440,"value":"/system/imports/data/000/000/001/original/new-following-imports.txt"}},{"id":5733,"event":"call","thread_id":9960,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":258440,"value":"/system/imports/data/000/000/001/original/new-following-imports.txt"}},{"id":5734,"event":"return","thread_id":9960,"parent_id":5733,"elapsed":1.4467979781329632e-05,"elapsed_instrumentation":0.0003605190431699157,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":5735,"event":"call","thread_id":9960,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":258440,"value":"/system/imports/data/000/000/001/original/new-following-imports.txt"}},{"id":5736,"event":"return","thread_id":9960,"parent_id":5735,"elapsed":2.8662034310400486e-05,"elapsed_instrumentation":0.0005179910222068429,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":5737,"event":"call","thread_id":9960,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":258440,"value":"/system/imports/data/000/000/001/original/new-following-imports.txt"}},{"id":5738,"event":"return","thread_id":9960,"parent_id":5737,"elapsed":2.4506007321178913e-05,"elapsed_instrumentation":0.0006027159979566932,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":5739,"event":"return","thread_id":9960,"parent_id":5732,"elapsed":0.06074042501859367,"elapsed_instrumentation":0.00118333101272583,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5740,"event":"return","thread_id":9960,"parent_id":5731,"elapsed":0.062020974000915885,"elapsed_instrumentation":0.00027865602169185877,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0ed4aa08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":258880,"size":1}},{"id":5741,"event":"call","thread_id":9960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":5742,"event":"return","thread_id":9960,"parent_id":5741,"elapsed":0.000781638,"elapsed_instrumentation":0.00021614896832033992},{"id":5743,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":258900,"value":"  \u001b[1m\u001b[36mTRANSACTION (1.0ms)\u001b[0m  \u001b[1m\u001b[35mRELEASE SAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5744,"event":"return","thread_id":9960,"parent_id":5743,"elapsed":0.0031502959900535643,"elapsed_instrumentation":0.0003623910015448928,"return_value":{"class":"Integer","value":"83","object_id":167}},{"id":5745,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":258940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":258960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0eea7db0>"}},{"id":5746,"event":"return","thread_id":9960,"parent_id":5745,"elapsed":7.68998870626092e-06,"elapsed_instrumentation":0.0002499530091881752,"return_value":{"class":"Array","value":"[]","object_id":258980,"size":0}},{"id":5747,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":258940,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":258960,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0eea7db0>"}},{"id":5748,"event":"return","thread_id":9960,"parent_id":5747,"elapsed":8.665997302159667e-05,"elapsed_instrumentation":0.000267014023847878,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0ed74998 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":259000,"size":1}},{"id":5749,"event":"call","thread_id":9960,"defined_class":"Paperclip::AttachmentExtensions","method_id":"storage_schema_version","path":"lib/paperclip/attachment_extensions.rb","lineno":50,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":258440,"value":"/system/imports/data/000/000/001/original/new-following-imports.txt"}},{"id":5750,"event":"return","thread_id":9960,"parent_id":5749,"elapsed":4.2740022763609886e-05,"elapsed_instrumentation":0.0005310660344548523,"return_value":{"class":"Integer","value":"0","object_id":1}},{"id":5751,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":192860,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":259060,"value":"_G_K_~____\u0012_"}},{"id":5752,"event":"return","thread_id":9960,"parent_id":5751,"elapsed":6.049987860023975e-06,"elapsed_instrumentation":0.00021135498536750674,"return_value":{"class":"String","value":"c547ad4bac7ed2fad9d512d5","object_id":259080}},{"id":5753,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":192860,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":259100,"value":"G\f__xD\u000bot__"}},{"id":5754,"event":"return","thread_id":9960,"parent_id":5753,"elapsed":3.194028977304697e-06,"elapsed_instrumentation":9.870500070974231e-05,"return_value":{"class":"String","value":"470cac9c78440b6f747f85a8","object_id":259120}},{"id":5755,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":259140,"value":"[111362557526760552, bob, follow, {reblogs=>true, notify=>false, languages=>}]","kind":"req","size":4}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":259160,"value":"#<JSON::Ext::Generator::State:0x00007f5e0ee14808>"}},{"id":5756,"event":"return","thread_id":9960,"parent_id":5755,"elapsed":8.375965990126133e-06,"elapsed_instrumentation":0.00017201201990246773,"return_value":{"class":"String","value":"[111362557526760552,\"bob\",\"follow\",{\"reblogs\":\"true\",\"notify\":false,\"languages\":null}]","object_id":259180}},{"id":5757,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":259200,"value":"#<JSON::Ext::Parser:0x00007f5e0ee131b0>"}},{"id":5758,"event":"return","thread_id":9960,"parent_id":5757,"elapsed":1.4073972124606371e-05,"elapsed_instrumentation":0.0002154750400222838,"return_value":{"class":"Array","value":"[111362557526760552, bob, follow, {reblogs=>true, notify=>false, languages=>}]","object_id":259220,"size":4}},{"id":5759,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":192860,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":259240,"value":" \u0006__l)%_z\\b_"}},{"id":5760,"event":"return","thread_id":9960,"parent_id":5759,"elapsed":4.1780294850468636e-06,"elapsed_instrumentation":0.00012016302207484841,"return_value":{"class":"String","value":"20068af66c2925b87a5c62ac","object_id":259260}},{"id":5761,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":259280,"value":"[111362557526760552, eve@example.com, follow, {reblogs=>false, notify=>false, languages=>}]","kind":"req","size":4}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":259300,"value":"#<JSON::Ext::Generator::State:0x00007f5e0ee10780>"}},{"id":5762,"event":"return","thread_id":9960,"parent_id":5761,"elapsed":7.078051567077637e-06,"elapsed_instrumentation":0.00016370200319215655,"return_value":{"class":"String","value":"[111362557526760552,\"eve@example.com\",\"follow\",{\"reblogs\":\"false\",\"notify\":false,\"languages\":null}]","object_id":259320}},{"id":5763,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":259340,"value":"#<JSON::Ext::Parser:0x00007f5e0ee5da80>"}},{"id":5764,"event":"return","thread_id":9960,"parent_id":5763,"elapsed":1.4817982446402311e-05,"elapsed_instrumentation":0.00020869704894721508,"return_value":{"class":"Array","value":"[111362557526760552, eve@example.com, follow, {reblogs=>false, notify=>false, languages=>}]","object_id":259360,"size":4}},{"id":5765,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":192860,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":259380,"value":"\u0018_\n__\u000f_\u0012___\u0016"}},{"id":5766,"event":"return","thread_id":9960,"parent_id":5765,"elapsed":6.1489990912377834e-06,"elapsed_instrumentation":0.00020815402967855334,"return_value":{"class":"String","value":"18a20aecd20f941297808616","object_id":259400}},{"id":5767,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":259420,"value":"{retry=>8, queue=>pull, dead=>false, class=>Import::RelationshipWorker, args=>[111362557526760552, bob, follow, {reblogs=>true, notify=>false, languages=>}], jid=>470cac9c78440b6f747f85a8, created_at=>1699257775.45171, id=>18a20aecd20f941297808616}","kind":"req","size":8}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":259440,"value":"#<JSON::Ext::Generator::State:0x00007f5e0ee59908>"}},{"id":5768,"event":"return","thread_id":9960,"parent_id":5767,"elapsed":1.392001286149025e-05,"elapsed_instrumentation":0.0003725350834429264,"return_value":{"class":"String","value":"{\"retry\":8,\"queue\":\"pull\",\"dead\":false,\"class\":\"Import::RelationshipWorker\",\"args\":[1113625575267605 (...165 more characters)","object_id":259460}},{"id":5769,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":259480,"value":"#<JSON::Ext::Parser:0x00007f5e0ee56410>"}},{"id":5770,"event":"return","thread_id":9960,"parent_id":5769,"elapsed":3.086100332438946e-05,"elapsed_instrumentation":0.00034401100128889084,"return_value":{"class":"Hash","value":"{retry=>8, queue=>pull, dead=>false, class=>Import::RelationshipWorker, args=>[111362557526760552, bob, follow, {reblogs=>true, notify=>false, languages=>}], jid=>470cac9c78440b6f747f85a8, created_at=>1699257775.45171, id=>18a20aecd20f941297808616}","object_id":259500,"size":8}},{"id":5771,"event":"call","thread_id":9960,"defined_class":"Import::RelationshipWorker","method_id":"perform","path":"app/workers/import/relationship_worker.rb","lineno":11,"static":false,"parameters":[{"name":"account_id","class":"Integer","object_id":222725115053521105,"value":"111362557526760552","kind":"req"},{"name":"target_account_uri","class":"String","object_id":259520,"value":"bob","kind":"req"},{"name":"relationship","class":"String","object_id":259540,"value":"follow","kind":"req"},{"name":"options","class":"Hash","object_id":259560,"value":"{reblogs=>true, notify=>false, languages=>}","kind":"req","size":3}],"receiver":{"class":"Import::RelationshipWorker","object_id":259580,"value":"#<Import::RelationshipWorker:0x00007f5e0ee52ec8>"}},{"id":5772,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":5773,"event":"return","thread_id":9960,"parent_id":5772,"elapsed":0.001740629,"elapsed_instrumentation":0.00034402799792587757},{"id":5774,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":259600,"value":"  \u001b[1m\u001b[36mAccount Load (2.1ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accoun (...1364 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5775,"event":"return","thread_id":9960,"parent_id":5774,"elapsed":0.0019469349645078182,"elapsed_instrumentation":0.00022931001149117947,"return_value":{"class":"Integer","value":"1464","object_id":2929}},{"id":5776,"event":"call","thread_id":9960,"defined_class":"Import::RelationshipWorker","method_id":"domain","path":"app/workers/import/relationship_worker.rb","lineno":41,"static":false,"parameters":[{"name":"uri","class":"String","object_id":259520,"value":"bob","kind":"req"}],"receiver":{"class":"Import::RelationshipWorker","object_id":259580,"value":"#<Import::RelationshipWorker:0x00007f5e0ee52ec8>"}},{"id":5777,"event":"call","thread_id":9960,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"TagManager","object_id":199560,"value":"#<TagManager:0x00007f5e1188f740>"}},{"id":5778,"event":"return","thread_id":9960,"parent_id":5777,"elapsed":3.007997293025255e-06,"elapsed_instrumentation":9.460700675845146e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5779,"event":"return","thread_id":9960,"parent_id":5776,"elapsed":0.00013311096699908376,"elapsed_instrumentation":0.00016618100926280022},{"id":5780,"event":"call","thread_id":9960,"defined_class":"Import::RelationshipWorker","method_id":"stoplight_wrap_request","path":"app/workers/import/relationship_worker.rb","lineno":46,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Import::RelationshipWorker","object_id":259580,"value":"#<Import::RelationshipWorker:0x00007f5e0ee52ec8>"}},{"id":5781,"event":"call","thread_id":9960,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"TagManager","object_id":199560,"value":"#<TagManager:0x00007f5e1188f740>"}},{"id":5782,"event":"return","thread_id":9960,"parent_id":5781,"elapsed":2.444954589009285e-06,"elapsed_instrumentation":8.26630275696516e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5783,"event":"call","thread_id":9960,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"ResolveAccountService","object_id":259620,"value":"#<ResolveAccountService:0x00007f5e0ee8c3a8>"}},{"id":5784,"event":"return","thread_id":9960,"parent_id":5783,"elapsed":9.607989341020584e-06,"elapsed_instrumentation":0.00023825600510463119},{"id":5785,"event":"call","thread_id":9960,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":259640,"value":"#<AccountFinderConcern::AccountFinder:0x00007f5e0ee8aaf8>"}},{"id":5786,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'bob' AND LOWER(\"accounts\".\"domain\") IS NULL ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":5787,"event":"return","thread_id":9960,"parent_id":5786,"elapsed":0.001554955,"elapsed_instrumentation":0.00022752099903300405},{"id":5788,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":259660,"value":"  \u001b[1m\u001b[36mAccount Load (1.9ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accoun (...1459 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5789,"event":"return","thread_id":9960,"parent_id":5788,"elapsed":0.003774127981159836,"elapsed_instrumentation":0.00026019400684162974,"return_value":{"class":"Integer","value":"1559","object_id":3119}},{"id":5790,"event":"return","thread_id":9960,"parent_id":5785,"elapsed":0.009764798975083977,"elapsed_instrumentation":0.00017192604718729854,"return_value":{"class":"Account","value":"#<Account:0x00007f5e124399d8>","object_id":259680}},{"id":5791,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":259680,"value":"#<Account:0x00007f5e124399d8>"}},{"id":5792,"event":"return","thread_id":9960,"parent_id":5791,"elapsed":2.0152016077190638e-05,"elapsed_instrumentation":0.0001193690113723278,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5793,"event":"return","thread_id":9960,"parent_id":5780,"elapsed":0.010598574997857213,"elapsed_instrumentation":0.00011411705054342747,"return_value":{"class":"Account","value":"#<Account:0x00007f5e124399d8>","object_id":259680}},{"id":5794,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":259680,"value":"#<Account:0x00007f5e124399d8>"}},{"id":5795,"event":"return","thread_id":9960,"parent_id":5794,"elapsed":3.197201294824481e-05,"elapsed_instrumentation":0.00016752700321376324},{"id":5796,"event":"call","thread_id":9960,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"FollowService","object_id":259720,"value":"#<FollowService:0x00007f5e0ee80aa8>"}},{"id":5797,"event":"return","thread_id":9960,"parent_id":5796,"elapsed":7.20098614692688e-06,"elapsed_instrumentation":0.0001356910215690732},{"id":5798,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"blocking?","path":"app/models/concerns/account_interactions.rb","lineno":214,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":259740,"value":"#<Account:0x00007f5e12439b18>","kind":"req"}],"receiver":{"class":"Account","object_id":259680,"value":"#<Account:0x00007f5e124399d8>"}},{"id":5799,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n       pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n       c.collname, col_description(a.attrelid, a.attnum) AS comment,\n       a.attidentity AS identity,\n       attgenerated as attgenerated\n  FROM pg_attribute a\n  LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n  LEFT JOIN pg_type t ON a.atttypid = t.oid\n  LEFT JOIN pg_collation c ON a.attcollation = c.oid AND a.attcollation <> t.typcollation\n WHERE a.attrelid = '\"blocks\"'::regclass\n   AND a.attnum > 0 AND NOT a.attisdropped\n ORDER BY a.attnum\n","database_type":"postgres"}},{"id":5800,"event":"return","thread_id":9960,"parent_id":5799,"elapsed":0.003669497,"elapsed_instrumentation":0.00011477799853309989},{"id":5801,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT a.attname\n  FROM (\n         SELECT indrelid, indkey, generate_subscripts(indkey, 1) idx\n           FROM pg_index\n          WHERE indrelid = '\"blocks\"'::regclass\n            AND indisprimary\n       ) i\n  JOIN pg_attribute a\n    ON a.attrelid = i.indrelid\n   AND a.attnum = i.indkey[i.idx]\n ORDER BY i.idx\n","database_type":"postgres"}},{"id":5802,"event":"return","thread_id":9960,"parent_id":5801,"elapsed":0.005403737,"elapsed_instrumentation":0.00025181303499266505},{"id":5803,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":5804,"event":"return","thread_id":9960,"parent_id":5803,"elapsed":0.00203453,"elapsed_instrumentation":0.00013854599092155695},{"id":5805,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":259800,"value":"  \u001b[1m\u001b[36mBlock Exists? (2.3ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account (...156 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5806,"event":"return","thread_id":9960,"parent_id":5805,"elapsed":0.0021177519811317325,"elapsed_instrumentation":0.0005635380512103438,"return_value":{"class":"Integer","value":"256","object_id":513}},{"id":5807,"event":"return","thread_id":9960,"parent_id":5798,"elapsed":0.05438685801345855,"elapsed_instrumentation":0.00015678501222282648},{"id":5808,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"blocking?","path":"app/models/concerns/account_interactions.rb","lineno":214,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":259680,"value":"#<Account:0x00007f5e124399d8>","kind":"req"}],"receiver":{"class":"Account","object_id":259740,"value":"#<Account:0x00007f5e12439b18>"}},{"id":5809,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":5810,"event":"return","thread_id":9960,"parent_id":5809,"elapsed":0.000942207,"elapsed_instrumentation":0.00011682102922350168},{"id":5811,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":259820,"value":"  \u001b[1m\u001b[36mBlock Exists? (1.1ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account (...156 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5812,"event":"return","thread_id":9960,"parent_id":5811,"elapsed":0.0013442920171655715,"elapsed_instrumentation":0.00021334999473765492,"return_value":{"class":"Integer","value":"256","object_id":513}},{"id":5813,"event":"return","thread_id":9960,"parent_id":5808,"elapsed":0.005511880968697369,"elapsed_instrumentation":0.00027216499438509345},{"id":5814,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"moved?","path":"app/models/account.rb","lineno":167,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":259680,"value":"#<Account:0x00007f5e124399d8>"}},{"id":5815,"event":"return","thread_id":9960,"parent_id":5814,"elapsed":2.4685985408723354e-05,"elapsed_instrumentation":0.00025006296345964074},{"id":5816,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":259680,"value":"#<Account:0x00007f5e124399d8>"}},{"id":5817,"event":"return","thread_id":9960,"parent_id":5816,"elapsed":1.0168994776904583e-05,"elapsed_instrumentation":0.00025158602511510253,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5818,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"domain_blocking?","path":"app/models/concerns/account_interactions.rb","lineno":218,"static":false,"parameters":[{"name":"other_domain","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"Account","object_id":259740,"value":"#<Account:0x00007f5e12439b18>"}},{"id":5819,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n       pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n       c.collname, col_description(a.attrelid, a.attnum) AS comment,\n       a.attidentity AS identity,\n       attgenerated as attgenerated\n  FROM pg_attribute a\n  LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n  LEFT JOIN pg_type t ON a.atttypid = t.oid\n  LEFT JOIN pg_collation c ON a.attcollation = c.oid AND a.attcollation <> t.typcollation\n WHERE a.attrelid = '\"account_domain_blocks\"'::regclass\n   AND a.attnum > 0 AND NOT a.attisdropped\n ORDER BY a.attnum\n","database_type":"postgres"}},{"id":5820,"event":"return","thread_id":9960,"parent_id":5819,"elapsed":0.00341033,"elapsed_instrumentation":0.00010775501141324639},{"id":5821,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT a.attname\n  FROM (\n         SELECT indrelid, indkey, generate_subscripts(indkey, 1) idx\n           FROM pg_index\n          WHERE indrelid = '\"account_domain_blocks\"'::regclass\n            AND indisprimary\n       ) i\n  JOIN pg_attribute a\n    ON a.attrelid = i.indrelid\n   AND a.attnum = i.indkey[i.idx]\n ORDER BY i.idx\n","database_type":"postgres"}},{"id":5822,"event":"return","thread_id":9960,"parent_id":5821,"elapsed":0.005628581,"elapsed_instrumentation":0.0001284860190935433},{"id":5823,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"account_domain_blocks\" WHERE \"account_domain_blocks\".\"account_id\" = $1 AND \"account_domain_blocks\".\"domain\" IS NULL LIMIT $2","database_type":"postgres"}},{"id":5824,"event":"return","thread_id":9960,"parent_id":5823,"elapsed":0.001963665,"elapsed_instrumentation":0.00016734900418668985},{"id":5825,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":259880,"value":"  \u001b[1m\u001b[36mAccountDomainBlock Exists? (2.2ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"account_domain_blo (...163 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5826,"event":"return","thread_id":9960,"parent_id":5825,"elapsed":0.0022691150079481304,"elapsed_instrumentation":0.00030306295957416296,"return_value":{"class":"Integer","value":"263","object_id":527}},{"id":5827,"event":"return","thread_id":9960,"parent_id":5818,"elapsed":0.04615736100822687,"elapsed_instrumentation":0.0003111129626631737},{"id":5828,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"following?","path":"app/models/concerns/account_interactions.rb","lineno":198,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":259680,"value":"#<Account:0x00007f5e124399d8>","kind":"req"}],"receiver":{"class":"Account","object_id":259740,"value":"#<Account:0x00007f5e12439b18>"}},{"id":5829,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":5830,"event":"return","thread_id":9960,"parent_id":5829,"elapsed":0.001057072,"elapsed_instrumentation":9.414000669494271e-05},{"id":5831,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":259900,"value":"  \u001b[1m\u001b[36mFollow Exists? (1.2ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"acco (...160 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5832,"event":"return","thread_id":9960,"parent_id":5831,"elapsed":0.001700078952126205,"elapsed_instrumentation":0.00019459199393168092,"return_value":{"class":"Integer","value":"260","object_id":521}},{"id":5833,"event":"return","thread_id":9960,"parent_id":5828,"elapsed":0.004937122983392328,"elapsed_instrumentation":0.0004245919990353286,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5834,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"follow!","path":"app/models/concerns/account_interactions.rb","lineno":115,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":259680,"value":"#<Account:0x00007f5e124399d8>","kind":"req"},{"name":"reblogs","class":"String","object_id":259920,"value":"true","kind":"key"},{"name":"notify","class":"FalseClass","object_id":0,"value":"false","kind":"key"},{"name":"languages","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"uri","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"rate_limit","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"bypass_limit","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Account","object_id":259740,"value":"#<Account:0x00007f5e12439b18>"}},{"id":5835,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":5836,"event":"return","thread_id":9960,"parent_id":5835,"elapsed":0.000795771,"elapsed_instrumentation":9.354401845484972e-05},{"id":5837,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":259940,"value":"  \u001b[1m\u001b[36mFollow Load (0.9ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"acco (...160 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5838,"event":"return","thread_id":9960,"parent_id":5837,"elapsed":0.0026169170159846544,"elapsed_instrumentation":0.00028993096202611923,"return_value":{"class":"Integer","value":"260","object_id":521}},{"id":5839,"event":"call","thread_id":9960,"defined_class":"PotentialFriendshipTracker","method_id":"remove","path":"app/lib/potential_friendship_tracker.rb","lineno":27,"static":true,"parameters":[{"name":"account_id","class":"Integer","object_id":222725115053521105,"value":"111362557526760552","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222725115053521107,"value":"111362557526760553","kind":"req"}],"receiver":{"class":"Class","object_id":255940,"value":"PotentialFriendshipTracker"}},{"id":5840,"event":"call","thread_id":9960,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Class","object_id":255940,"value":"PotentialFriendshipTracker"}},{"id":5841,"event":"return","thread_id":9960,"parent_id":5840,"elapsed":4.565983545035124e-06,"elapsed_instrumentation":9.787204908207059e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007f5e126ad930>","object_id":222620}},{"id":5842,"event":"return","thread_id":9960,"parent_id":5839,"elapsed":0.0008712509879842401,"elapsed_instrumentation":0.00018131599063053727},{"id":5843,"event":"return","thread_id":9960,"parent_id":5834,"elapsed":0.007334700028877705,"elapsed_instrumentation":0.00038708100328221917,"return_value":{"class":"Follow","value":"#<Follow:0x00007f5e12436a58>","object_id":259960}},{"id":5844,"event":"return","thread_id":9960,"parent_id":5771,"elapsed":0.1490750039811246,"elapsed_instrumentation":0.0005556410178542137,"return_value":{"class":"Follow","value":"#<Follow:0x00007f5e12436a58>","object_id":259960}},{"id":5845,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":192860,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":259980,"value":"\u0017\u001eAMbc___/\u000f_"}},{"id":5846,"event":"return","thread_id":9960,"parent_id":5845,"elapsed":6.098998710513115e-06,"elapsed_instrumentation":0.00015467696357518435,"return_value":{"class":"String","value":"171e414d6263fbaf862f0f98","object_id":260000}},{"id":5847,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":260020,"value":"{retry=>8, queue=>pull, dead=>false, class=>Import::RelationshipWorker, args=>[111362557526760552, eve@example.com, follow, {reblogs=>false, notify=>false, languages=>}], jid=>20068af66c2925b87a5c62ac, created_at=>1699257775.45171, id=>171e414d6263fbaf862f0f98}","kind":"req","size":8}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":260040,"value":"#<JSON::Ext::Generator::State:0x00007f5e0f02f4d0>"}},{"id":5848,"event":"return","thread_id":9960,"parent_id":5847,"elapsed":1.680100103840232e-05,"elapsed_instrumentation":0.00046406901674345136,"return_value":{"class":"String","value":"{\"retry\":8,\"queue\":\"pull\",\"dead\":false,\"class\":\"Import::RelationshipWorker\",\"args\":[1113625575267605 (...178 more characters)","object_id":260060}},{"id":5849,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":260080,"value":"#<JSON::Ext::Parser:0x00007f5e0f02cb68>"}},{"id":5850,"event":"return","thread_id":9960,"parent_id":5849,"elapsed":3.1055998988449574e-05,"elapsed_instrumentation":0.00029875501058995724,"return_value":{"class":"Hash","value":"{retry=>8, queue=>pull, dead=>false, class=>Import::RelationshipWorker, args=>[111362557526760552, eve@example.com, follow, {reblogs=>false, notify=>false, languages=>}], jid=>20068af66c2925b87a5c62ac, created_at=>1699257775.45171, id=>171e414d6263fbaf862f0f98}","object_id":260100,"size":8}},{"id":5851,"event":"call","thread_id":9960,"defined_class":"Import::RelationshipWorker","method_id":"perform","path":"app/workers/import/relationship_worker.rb","lineno":11,"static":false,"parameters":[{"name":"account_id","class":"Integer","object_id":222725115053521105,"value":"111362557526760552","kind":"req"},{"name":"target_account_uri","class":"String","object_id":260120,"value":"eve@example.com","kind":"req"},{"name":"relationship","class":"String","object_id":260140,"value":"follow","kind":"req"},{"name":"options","class":"Hash","object_id":260160,"value":"{reblogs=>false, notify=>false, languages=>}","kind":"req","size":3}],"receiver":{"class":"Import::RelationshipWorker","object_id":260180,"value":"#<Import::RelationshipWorker:0x00007f5e0f02a228>"}},{"id":5852,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":5853,"event":"return","thread_id":9960,"parent_id":5852,"elapsed":0.000971946,"elapsed_instrumentation":0.0001143799745477736},{"id":5854,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":260200,"value":"  \u001b[1m\u001b[36mAccount Load (1.1ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accoun (...1364 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5855,"event":"return","thread_id":9960,"parent_id":5854,"elapsed":0.0033410820178687572,"elapsed_instrumentation":0.00040964194340631366,"return_value":{"class":"Integer","value":"1464","object_id":2929}},{"id":5856,"event":"call","thread_id":9960,"defined_class":"Import::RelationshipWorker","method_id":"domain","path":"app/workers/import/relationship_worker.rb","lineno":41,"static":false,"parameters":[{"name":"uri","class":"String","object_id":260120,"value":"eve@example.com","kind":"req"}],"receiver":{"class":"Import::RelationshipWorker","object_id":260180,"value":"#<Import::RelationshipWorker:0x00007f5e0f02a228>"}},{"id":5857,"event":"call","thread_id":9960,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"String","object_id":260220,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":199560,"value":"#<TagManager:0x00007f5e1188f740>"}},{"id":5858,"event":"return","thread_id":9960,"parent_id":5857,"elapsed":3.573897993192077e-05,"elapsed_instrumentation":0.00015817501116544008},{"id":5859,"event":"call","thread_id":9960,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":260220,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":199560,"value":"#<TagManager:0x00007f5e1188f740>"}},{"id":5860,"event":"return","thread_id":9960,"parent_id":5859,"elapsed":0.00010918895713984966,"elapsed_instrumentation":0.0001716030528768897,"return_value":{"class":"String","value":"example.com","object_id":260240}},{"id":5861,"event":"return","thread_id":9960,"parent_id":5856,"elapsed":0.0006942730396986008,"elapsed_instrumentation":0.00021710997680202127,"return_value":{"class":"String","value":"example.com","object_id":260240}},{"id":5862,"event":"call","thread_id":9960,"defined_class":"Import::RelationshipWorker","method_id":"stoplight_wrap_request","path":"app/workers/import/relationship_worker.rb","lineno":46,"static":false,"parameters":[{"name":"domain","class":"String","object_id":260240,"value":"example.com","kind":"req"},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Import::RelationshipWorker","object_id":260180,"value":"#<Import::RelationshipWorker:0x00007f5e0f02a228>"}},{"id":5863,"event":"call","thread_id":9960,"defined_class":"TagManager","method_id":"local_domain?","path":"app/lib/tag_manager.rb","lineno":13,"static":false,"parameters":[{"name":"domain","class":"String","object_id":260260,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":199560,"value":"#<TagManager:0x00007f5e1188f740>"}},{"id":5864,"event":"return","thread_id":9960,"parent_id":5863,"elapsed":2.1005980670452118e-05,"elapsed_instrumentation":0.00013872003182768822},{"id":5865,"event":"call","thread_id":9960,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":260260,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":199560,"value":"#<TagManager:0x00007f5e1188f740>"}},{"id":5866,"event":"return","thread_id":9960,"parent_id":5865,"elapsed":9.798398241400719e-05,"elapsed_instrumentation":0.0003372299834154546,"return_value":{"class":"String","value":"example.com","object_id":260280}},{"id":5867,"event":"call","thread_id":9960,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"String","object_id":260280,"value":"example.com","kind":"req"}],"receiver":{"class":"ResolveAccountService","object_id":260300,"value":"#<ResolveAccountService:0x00007f5e0f34e120>"}},{"id":5868,"event":"call","thread_id":9960,"defined_class":"DomainControlHelper","method_id":"limited_federation_mode?","path":"app/helpers/domain_control_helper.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"ResolveAccountService","object_id":260300,"value":"#<ResolveAccountService:0x00007f5e0f34e120>"}},{"id":5869,"event":"return","thread_id":9960,"parent_id":5868,"elapsed":1.7335987649857998e-05,"elapsed_instrumentation":0.00010271096834912896},{"id":5870,"event":"call","thread_id":9960,"defined_class":"DomainBlock","method_id":"blocked?","path":"app/models/domain_block.rb","lineno":49,"static":true,"parameters":[{"name":"domain","class":"String","object_id":260280,"value":"example.com","kind":"req"}],"receiver":{"class":"Class","object_id":244900,"value":"DomainBlock"}},{"id":5871,"event":"call","thread_id":9960,"defined_class":"DomainBlock","method_id":"rule_for","path":"app/models/domain_block.rb","lineno":67,"static":true,"parameters":[{"name":"domain","class":"String","object_id":260280,"value":"example.com","kind":"req"}],"receiver":{"class":"Class","object_id":244900,"value":"DomainBlock"}},{"id":5872,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"domain_blocks\".* FROM \"domain_blocks\" WHERE \"domain_blocks\".\"domain\" IN ($1, $2) ORDER BY char_length(domain) desc LIMIT $3","database_type":"postgres"}},{"id":5873,"event":"return","thread_id":9960,"parent_id":5872,"elapsed":0.001127801,"elapsed_instrumentation":0.00015533296391367912},{"id":5874,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":260320,"value":"  \u001b[1m\u001b[36mDomainBlock Load (1.4ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"domain_blocks\".* FROM \"domain_blocks\" WHER (...148 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5875,"event":"return","thread_id":9960,"parent_id":5874,"elapsed":0.002047438989393413,"elapsed_instrumentation":0.0003950040554627776,"return_value":{"class":"Integer","value":"248","object_id":497}},{"id":5876,"event":"return","thread_id":9960,"parent_id":5871,"elapsed":0.006330168980639428,"elapsed_instrumentation":0.0003348860191181302},{"id":5877,"event":"return","thread_id":9960,"parent_id":5870,"elapsed":0.006710922985803336,"elapsed_instrumentation":0.0001657280372455716},{"id":5878,"event":"return","thread_id":9960,"parent_id":5867,"elapsed":0.00707100797444582,"elapsed_instrumentation":0.00017152796499431133},{"id":5879,"event":"call","thread_id":9960,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":260340,"value":"#<AccountFinderConcern::AccountFinder:0x00007f5e0f069db0>"}},{"id":5880,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'eve' AND LOWER(\"accounts\".\"domain\") = 'example.com' ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":5881,"event":"return","thread_id":9960,"parent_id":5880,"elapsed":0.00181315,"elapsed_instrumentation":0.00017878500511869788},{"id":5882,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":260360,"value":"  \u001b[1m\u001b[36mAccount Load (2.0ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accoun (...1467 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5883,"event":"return","thread_id":9960,"parent_id":5882,"elapsed":0.0029082749970257282,"elapsed_instrumentation":0.0003420970169827342,"return_value":{"class":"Integer","value":"1567","object_id":3135}},{"id":5884,"event":"return","thread_id":9960,"parent_id":5879,"elapsed":0.011611921014264226,"elapsed_instrumentation":0.0007654900546185672,"return_value":{"class":"Account","value":"#<Account:0x00007f5e124358d8>","object_id":260380}},{"id":5885,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":260380,"value":"#<Account:0x00007f5e124358d8>"}},{"id":5886,"event":"return","thread_id":9960,"parent_id":5885,"elapsed":3.045599441975355e-05,"elapsed_instrumentation":0.000221647962462157},{"id":5887,"event":"call","thread_id":9960,"defined_class":"DeliveryFailureTracker","method_id":"available?","path":"app/lib/delivery_failure_tracker.rb","lineno":52,"static":true,"parameters":[{"name":"url","class":"String","object_id":260280,"value":"example.com","kind":"req"}],"receiver":{"class":"Class","object_id":221700,"value":"DeliveryFailureTracker"}},{"id":5888,"event":"call","thread_id":9960,"defined_class":"DeliveryFailureTracker","method_id":"available?","path":"app/lib/delivery_failure_tracker.rb","lineno":30,"static":false,"parameters":[],"receiver":{"class":"DeliveryFailureTracker","object_id":260400,"value":"#<DeliveryFailureTracker:0x00007f5e0f062cb8>"}},{"id":5889,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"unavailable_domains\" WHERE \"unavailable_domains\".\"domain\" = $1 LIMIT $2","database_type":"postgres"}},{"id":5890,"event":"return","thread_id":9960,"parent_id":5889,"elapsed":0.00151443,"elapsed_instrumentation":0.00023335503647103906},{"id":5891,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":260420,"value":"  \u001b[1m\u001b[36mUnavailableDomain Exists? (1.8ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"unavailable_domains (...100 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5892,"event":"return","thread_id":9960,"parent_id":5891,"elapsed":0.0024816159857437015,"elapsed_instrumentation":0.0003617080510593951,"return_value":{"class":"Integer","value":"200","object_id":401}},{"id":5893,"event":"return","thread_id":9960,"parent_id":5888,"elapsed":0.006583439011592418,"elapsed_instrumentation":0.0001565659185871482,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5894,"event":"return","thread_id":9960,"parent_id":5887,"elapsed":0.006772545981220901,"elapsed_instrumentation":0.000151634041685611,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5895,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"possibly_stale?","path":"app/models/account.rb","lineno":211,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":260380,"value":"#<Account:0x00007f5e124358d8>"}},{"id":5896,"event":"return","thread_id":9960,"parent_id":5895,"elapsed":0.00025461899349465966,"elapsed_instrumentation":0.00022136798361316323},{"id":5897,"event":"return","thread_id":9960,"parent_id":5862,"elapsed":0.030376465001609176,"elapsed_instrumentation":0.00015764095587655902,"return_value":{"class":"Account","value":"#<Account:0x00007f5e124358d8>","object_id":260380}},{"id":5898,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":260380,"value":"#<Account:0x00007f5e124358d8>"}},{"id":5899,"event":"return","thread_id":9960,"parent_id":5898,"elapsed":2.711900742724538e-05,"elapsed_instrumentation":0.00012371595948934555},{"id":5900,"event":"call","thread_id":9960,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"String","object_id":260440,"value":"example.com","kind":"req"}],"receiver":{"class":"FollowService","object_id":260460,"value":"#<FollowService:0x00007f5e0f34be20>"}},{"id":5901,"event":"call","thread_id":9960,"defined_class":"DomainControlHelper","method_id":"limited_federation_mode?","path":"app/helpers/domain_control_helper.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"FollowService","object_id":260460,"value":"#<FollowService:0x00007f5e0f34be20>"}},{"id":5902,"event":"return","thread_id":9960,"parent_id":5901,"elapsed":1.707801129668951e-05,"elapsed_instrumentation":5.6503049563616514e-05},{"id":5903,"event":"call","thread_id":9960,"defined_class":"DomainBlock","method_id":"blocked?","path":"app/models/domain_block.rb","lineno":49,"static":true,"parameters":[{"name":"domain","class":"String","object_id":260440,"value":"example.com","kind":"req"}],"receiver":{"class":"Class","object_id":244900,"value":"DomainBlock"}},{"id":5904,"event":"call","thread_id":9960,"defined_class":"DomainBlock","method_id":"rule_for","path":"app/models/domain_block.rb","lineno":67,"static":true,"parameters":[{"name":"domain","class":"String","object_id":260440,"value":"example.com","kind":"req"}],"receiver":{"class":"Class","object_id":244900,"value":"DomainBlock"}},{"id":5905,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"domain_blocks\".* FROM \"domain_blocks\" WHERE \"domain_blocks\".\"domain\" IN ($1, $2) ORDER BY char_length(domain) desc LIMIT $3","database_type":"postgres"}},{"id":5906,"event":"return","thread_id":9960,"parent_id":5905,"elapsed":0.000976511,"elapsed_instrumentation":0.00010850594844669104},{"id":5907,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":260480,"value":"  \u001b[1m\u001b[36mDomainBlock Load (1.1ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"domain_blocks\".* FROM \"domain_blocks\" WHER (...148 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5908,"event":"return","thread_id":9960,"parent_id":5907,"elapsed":0.0016798520227894187,"elapsed_instrumentation":0.00022053503198549151,"return_value":{"class":"Integer","value":"248","object_id":497}},{"id":5909,"event":"return","thread_id":9960,"parent_id":5904,"elapsed":0.004949279013089836,"elapsed_instrumentation":7.966702105477452e-05},{"id":5910,"event":"return","thread_id":9960,"parent_id":5903,"elapsed":0.005052702035754919,"elapsed_instrumentation":9.345298167318106e-05},{"id":5911,"event":"return","thread_id":9960,"parent_id":5900,"elapsed":0.005262044025585055,"elapsed_instrumentation":0.00010008394019678235},{"id":5912,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"blocking?","path":"app/models/concerns/account_interactions.rb","lineno":214,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":260500,"value":"#<Account:0x00007f5e124362d8>","kind":"req"}],"receiver":{"class":"Account","object_id":260380,"value":"#<Account:0x00007f5e124358d8>"}},{"id":5913,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":5914,"event":"return","thread_id":9960,"parent_id":5913,"elapsed":0.000867097,"elapsed_instrumentation":0.00013192999176681042},{"id":5915,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":260520,"value":"  \u001b[1m\u001b[36mBlock Exists? (1.0ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account (...156 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5916,"event":"return","thread_id":9960,"parent_id":5915,"elapsed":0.00210402300581336,"elapsed_instrumentation":0.00021837296662852168,"return_value":{"class":"Integer","value":"256","object_id":513}},{"id":5917,"event":"return","thread_id":9960,"parent_id":5912,"elapsed":0.005945687007624656,"elapsed_instrumentation":0.00037803302984684706},{"id":5918,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"blocking?","path":"app/models/concerns/account_interactions.rb","lineno":214,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":260380,"value":"#<Account:0x00007f5e124358d8>","kind":"req"}],"receiver":{"class":"Account","object_id":260500,"value":"#<Account:0x00007f5e124362d8>"}},{"id":5919,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account_id\" = $1 AND \"blocks\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":5920,"event":"return","thread_id":9960,"parent_id":5919,"elapsed":0.000995981,"elapsed_instrumentation":0.00012330198660492897},{"id":5921,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":260540,"value":"  \u001b[1m\u001b[36mBlock Exists? (1.1ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"blocks\" WHERE \"blocks\".\"account (...156 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5922,"event":"return","thread_id":9960,"parent_id":5921,"elapsed":0.0015443679876625538,"elapsed_instrumentation":0.000251098012086004,"return_value":{"class":"Integer","value":"256","object_id":513}},{"id":5923,"event":"return","thread_id":9960,"parent_id":5918,"elapsed":0.005513123993296176,"elapsed_instrumentation":0.00022628001170232892},{"id":5924,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"moved?","path":"app/models/account.rb","lineno":167,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":260380,"value":"#<Account:0x00007f5e124358d8>"}},{"id":5925,"event":"return","thread_id":9960,"parent_id":5924,"elapsed":2.9525021091103554e-05,"elapsed_instrumentation":0.00022016896400600672},{"id":5926,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":260380,"value":"#<Account:0x00007f5e124358d8>"}},{"id":5927,"event":"return","thread_id":9960,"parent_id":5926,"elapsed":7.592025212943554e-06,"elapsed_instrumentation":9.920296724885702e-05},{"id":5928,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"domain_blocking?","path":"app/models/concerns/account_interactions.rb","lineno":218,"static":false,"parameters":[{"name":"other_domain","class":"String","object_id":260440,"value":"example.com","kind":"req"}],"receiver":{"class":"Account","object_id":260500,"value":"#<Account:0x00007f5e124362d8>"}},{"id":5929,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"account_domain_blocks\" WHERE \"account_domain_blocks\".\"account_id\" = $1 AND \"account_domain_blocks\".\"domain\" = $2 LIMIT $3","database_type":"postgres"}},{"id":5930,"event":"return","thread_id":9960,"parent_id":5929,"elapsed":0.000716552,"elapsed_instrumentation":8.997501572594047e-05},{"id":5931,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":260560,"value":"  \u001b[1m\u001b[36mAccountDomainBlock Exists? (1.0ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"account_domain_blo (...187 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5932,"event":"return","thread_id":9960,"parent_id":5931,"elapsed":0.0018360760295763612,"elapsed_instrumentation":0.0002031099866144359,"return_value":{"class":"Integer","value":"287","object_id":575}},{"id":5933,"event":"return","thread_id":9960,"parent_id":5928,"elapsed":0.004713658010587096,"elapsed_instrumentation":0.00013390800449997187},{"id":5934,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"following?","path":"app/models/concerns/account_interactions.rb","lineno":198,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":260380,"value":"#<Account:0x00007f5e124358d8>","kind":"req"}],"receiver":{"class":"Account","object_id":260500,"value":"#<Account:0x00007f5e124362d8>"}},{"id":5935,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":5936,"event":"return","thread_id":9960,"parent_id":5935,"elapsed":0.000905344,"elapsed_instrumentation":0.00010829902021214366},{"id":5937,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":260580,"value":"  \u001b[1m\u001b[36mFollow Exists? (1.0ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"acco (...160 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5938,"event":"return","thread_id":9960,"parent_id":5937,"elapsed":0.002341349027119577,"elapsed_instrumentation":0.0004543309914879501,"return_value":{"class":"Integer","value":"260","object_id":521}},{"id":5939,"event":"return","thread_id":9960,"parent_id":5934,"elapsed":0.006151654000859708,"elapsed_instrumentation":0.00014483899576589465},{"id":5940,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"requested?","path":"app/models/concerns/account_interactions.rb","lineno":238,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":260380,"value":"#<Account:0x00007f5e124358d8>","kind":"req"}],"receiver":{"class":"Account","object_id":260500,"value":"#<Account:0x00007f5e124362d8>"}},{"id":5941,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n       pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n       c.collname, col_description(a.attrelid, a.attnum) AS comment,\n       a.attidentity AS identity,\n       attgenerated as attgenerated\n  FROM pg_attribute a\n  LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n  LEFT JOIN pg_type t ON a.atttypid = t.oid\n  LEFT JOIN pg_collation c ON a.attcollation = c.oid AND a.attcollation <> t.typcollation\n WHERE a.attrelid = '\"follow_requests\"'::regclass\n   AND a.attnum > 0 AND NOT a.attisdropped\n ORDER BY a.attnum\n","database_type":"postgres"}},{"id":5942,"event":"return","thread_id":9960,"parent_id":5941,"elapsed":0.004554034,"elapsed_instrumentation":0.0001331249950453639},{"id":5943,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT a.attname\n  FROM (\n         SELECT indrelid, indkey, generate_subscripts(indkey, 1) idx\n           FROM pg_index\n          WHERE indrelid = '\"follow_requests\"'::regclass\n            AND indisprimary\n       ) i\n  JOIN pg_attribute a\n    ON a.attrelid = i.indrelid\n   AND a.attnum = i.indkey[i.idx]\n ORDER BY i.idx\n","database_type":"postgres"}},{"id":5944,"event":"return","thread_id":9960,"parent_id":5943,"elapsed":0.005815647,"elapsed_instrumentation":0.00020742398919537663},{"id":5945,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"follow_requests\" WHERE \"follow_requests\".\"account_id\" = $1 AND \"follow_requests\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":5946,"event":"return","thread_id":9960,"parent_id":5945,"elapsed":0.002279352,"elapsed_instrumentation":0.0003653499879874289},{"id":5947,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":260640,"value":"  \u001b[1m\u001b[36mFollowRequest Exists? (2.7ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"follow_requests\" WHERE  (...191 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5948,"event":"return","thread_id":9960,"parent_id":5947,"elapsed":0.0023647610214538872,"elapsed_instrumentation":0.0003907030331902206,"return_value":{"class":"Integer","value":"291","object_id":583}},{"id":5949,"event":"return","thread_id":9960,"parent_id":5940,"elapsed":0.0562661339645274,"elapsed_instrumentation":0.0005035349749960005},{"id":5950,"event":"call","thread_id":9960,"defined_class":"ActivityTracker","method_id":"increment","path":"app/lib/activity_tracker.rb","lineno":53,"static":true,"parameters":[{"name":"prefix","class":"String","object_id":260700,"value":"activity:interactions","kind":"req"}],"receiver":{"class":"Class","object_id":260680,"value":"ActivityTracker"}},{"id":5951,"event":"call","thread_id":9960,"defined_class":"ActivityTracker","method_id":"add","path":"app/lib/activity_tracker.rb","lineno":13,"static":false,"parameters":[{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"opt"},{"name":"at_time","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityTracker","object_id":260720,"value":"#<ActivityTracker:0x00007f5e0f33d500>"}},{"id":5952,"event":"call","thread_id":9960,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"ActivityTracker","object_id":260720,"value":"#<ActivityTracker:0x00007f5e0f33d500>"}},{"id":5953,"event":"return","thread_id":9960,"parent_id":5952,"elapsed":5.119014531373978e-06,"elapsed_instrumentation":0.0001893279841169715,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007f5e126ad930>","object_id":222620}},{"id":5954,"event":"call","thread_id":9960,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"ActivityTracker","object_id":260720,"value":"#<ActivityTracker:0x00007f5e0f33d500>"}},{"id":5955,"event":"return","thread_id":9960,"parent_id":5954,"elapsed":4.992005415260792e-06,"elapsed_instrumentation":0.00018116802675649524,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007f5e126ad930>","object_id":222620}},{"id":5956,"event":"return","thread_id":9960,"parent_id":5951,"elapsed":0.002288879011757672,"elapsed_instrumentation":0.0001560940290801227,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5957,"event":"return","thread_id":9960,"parent_id":5950,"elapsed":0.0024822429986670613,"elapsed_instrumentation":0.00024558400036767125,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5958,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"not_following_anyone?","path":"app/models/concerns/account_interactions.rb","lineno":206,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":260500,"value":"#<Account:0x00007f5e124362d8>"}},{"id":5959,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"following_anyone?","path":"app/models/concerns/account_interactions.rb","lineno":202,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":260500,"value":"#<Account:0x00007f5e124362d8>"}},{"id":5960,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":5961,"event":"return","thread_id":9960,"parent_id":5960,"elapsed":0.000898861,"elapsed_instrumentation":0.00010130496229976416},{"id":5962,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":260740,"value":"  \u001b[1m\u001b[36mFollow Exists? (1.0ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"acco (...78 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5963,"event":"return","thread_id":9960,"parent_id":5962,"elapsed":0.0019517060136422515,"elapsed_instrumentation":0.0001798950252123177,"return_value":{"class":"Integer","value":"178","object_id":357}},{"id":5964,"event":"return","thread_id":9960,"parent_id":5959,"elapsed":0.004211997031234205,"elapsed_instrumentation":9.565497748553753e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5965,"event":"return","thread_id":9960,"parent_id":5958,"elapsed":0.00433242303552106,"elapsed_instrumentation":0.00015167798846960068},{"id":5966,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"silenced?","path":"app/models/account.rb","lineno":225,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":260500,"value":"#<Account:0x00007f5e124362d8>"}},{"id":5967,"event":"return","thread_id":9960,"parent_id":5966,"elapsed":2.6035995688289404e-05,"elapsed_instrumentation":9.46020008996129e-05},{"id":5968,"event":"call","thread_id":9960,"defined_class":"AccountInteractions","method_id":"request_follow!","path":"app/models/concerns/account_interactions.rb","lineno":130,"static":false,"parameters":[{"name":"other_account","class":"Account","object_id":260380,"value":"#<Account:0x00007f5e124358d8>","kind":"req"},{"name":"reblogs","class":"String","object_id":260760,"value":"false","kind":"key"},{"name":"notify","class":"FalseClass","object_id":0,"value":"false","kind":"key"},{"name":"languages","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"uri","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"rate_limit","class":"FalseClass","object_id":0,"value":"false","kind":"key"},{"name":"bypass_limit","class":"FalseClass","object_id":0,"value":"false","kind":"key"}],"receiver":{"class":"Account","object_id":260500,"value":"#<Account:0x00007f5e124362d8>"}},{"id":5969,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"follow_requests\".* FROM \"follow_requests\" WHERE \"follow_requests\".\"account_id\" = $1 AND \"follow_requests\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":5970,"event":"return","thread_id":9960,"parent_id":5969,"elapsed":0.000763259,"elapsed_instrumentation":9.964400669559836e-05},{"id":5971,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":260780,"value":"  \u001b[1m\u001b[36mFollowRequest Load (0.9ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"follow_requests\".* FROM \"follow_requests (...199 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5972,"event":"return","thread_id":9960,"parent_id":5971,"elapsed":0.003791672002989799,"elapsed_instrumentation":0.00024070701329037547,"return_value":{"class":"Integer","value":"299","object_id":599}},{"id":5973,"event":"call","thread_id":9960,"defined_class":"RateLimitable","method_id":"rate_limit=","path":"app/models/concerns/rate_limitable.rb","lineno":6,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"FollowRequest","object_id":260820,"value":"#<FollowRequest:0x00007f5e0f38d668>"}},{"id":5974,"event":"return","thread_id":9960,"parent_id":5973,"elapsed":6.726011633872986e-06,"elapsed_instrumentation":0.0003139190375804901},{"id":5975,"event":"call","thread_id":9960,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit=","path":"app/models/concerns/follow_limitable.rb","lineno":10,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"FollowRequest","object_id":260820,"value":"#<FollowRequest:0x00007f5e0f38d668>"}},{"id":5976,"event":"return","thread_id":9960,"parent_id":5975,"elapsed":4.394969437271357e-06,"elapsed_instrumentation":8.36000544950366e-05},{"id":5977,"event":"call","thread_id":9960,"defined_class":"RateLimitable","method_id":"rate_limit=","path":"app/models/concerns/rate_limitable.rb","lineno":6,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"FollowRequest","object_id":260820,"value":"#<FollowRequest:0x00007f5e0f38d668>"}},{"id":5978,"event":"return","thread_id":9960,"parent_id":5977,"elapsed":4.014000296592712e-06,"elapsed_instrumentation":0.00010166200809180737},{"id":5979,"event":"call","thread_id":9960,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit=","path":"app/models/concerns/follow_limitable.rb","lineno":10,"static":false,"parameters":[{"name":"value","class":"FalseClass","object_id":0,"value":"false","kind":"req"}],"receiver":{"class":"FollowRequest","object_id":260820,"value":"#<FollowRequest:0x00007f5e0f38d668>"}},{"id":5980,"event":"return","thread_id":9960,"parent_id":5979,"elapsed":3.888970240950584e-06,"elapsed_instrumentation":0.00011335802264511585},{"id":5981,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":260840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":260860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e116775e8>"}},{"id":5982,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"generate_uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":61,"static":false,"parameters":[{"name":"_target","class":"FollowRequest","object_id":260820,"value":"#<FollowRequest:0x00007f5e0f38d668>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":5983,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":5984,"event":"return","thread_id":9960,"parent_id":5983,"elapsed":7.035036105662584e-06,"elapsed_instrumentation":0.0002749270061030984,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":5985,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":5986,"event":"return","thread_id":9960,"parent_id":5985,"elapsed":8.109025657176971e-06,"elapsed_instrumentation":0.0005106520256958902,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":5987,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":245020,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":260880,"value":"|_____J:\u0003\u000bYK_F/_"}},{"id":5988,"event":"return","thread_id":9960,"parent_id":5987,"elapsed":8.053000783547759e-05,"elapsed_instrumentation":0.0002846920397132635,"return_value":{"class":"Array","value":"[2096690670, 42199, 19002, 779, 22859, 2303078307]","object_id":260900,"size":6}},{"id":5989,"event":"return","thread_id":9960,"parent_id":5982,"elapsed":0.0017586369649507105,"elapsed_instrumentation":0.0002606360358186066,"return_value":{"class":"URI::HTTPS","value":"https://cb6e6126.ngrok.io/7cf8f5ee-a4d7-4a3a-830b-594b89462fa3","object_id":260920}},{"id":5990,"event":"return","thread_id":9960,"parent_id":5981,"elapsed":0.0021633270080201328,"elapsed_instrumentation":0.00023066502762958407,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e116552b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11655420 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":260940,"size":2}},{"id":5991,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":260960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":260980,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11676dc8>"}},{"id":5992,"event":"call","thread_id":9960,"defined_class":"FollowLimitable","method_id":"bypass_follow_limit?","path":"app/models/concerns/follow_limitable.rb","lineno":14,"static":false,"parameters":[],"receiver":{"class":"FollowRequest","object_id":260820,"value":"#<FollowRequest:0x00007f5e0f38d668>"}},{"id":5993,"event":"return","thread_id":9960,"parent_id":5992,"elapsed":7.748021744191647e-06,"elapsed_instrumentation":0.00014747795648872852},{"id":5994,"event":"call","thread_id":9960,"defined_class":"FollowLimitValidator","method_id":"validate","path":"app/validators/follow_limit_validator.rb","lineno":7,"static":false,"parameters":[{"name":"follow","class":"FollowRequest","object_id":260820,"value":"#<FollowRequest:0x00007f5e0f38d668>","kind":"req"}],"receiver":{"class":"FollowLimitValidator","object_id":261000,"value":"#<FollowLimitValidator:0x00007f5e0f1ac5b0>"}},{"id":5995,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":260500,"value":"#<Account:0x00007f5e124362d8>"}},{"id":5996,"event":"return","thread_id":9960,"parent_id":5995,"elapsed":3.413500962778926e-05,"elapsed_instrumentation":0.00013326999032869935,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5997,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"following_count","path":"app/models/concerns/account_counters.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":261020,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":261040,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":260500,"value":"#<Account:0x00007f5e124362d8>"}},{"id":5998,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":260500,"value":"#<Account:0x00007f5e124362d8>"}},{"id":5999,"event":"call","thread_id":9960,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":6000,"event":"return","thread_id":9960,"parent_id":5999,"elapsed":0.000900331,"elapsed_instrumentation":0.00022540497593581676},{"id":6001,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":261060,"value":"  \u001b[1m\u001b[36mTRANSACTION (1.3ms)\u001b[0m  \u001b[1m\u001b[35mSAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":6002,"event":"return","thread_id":9960,"parent_id":6001,"elapsed":0.004125077975913882,"elapsed_instrumentation":0.0002660549944266677,"return_value":{"class":"Integer","value":"75","object_id":151}},{"id":6003,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"account_stats\".\"id\", \"account_stats\".\"account_id\", \"account_stats\".\"statuses_count\", \"account_stats\".\"following_count\", \"account_stats\".\"followers_count\", \"account_stats\".\"created_at\", \"account_stats\".\"updated_at\", \"account_stats\".\"last_status_at\" FROM \"account_stats\" WHERE \"account_stats\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":6004,"event":"return","thread_id":9960,"parent_id":6003,"elapsed":0.000783346,"elapsed_instrumentation":0.00017097697127610445},{"id":6005,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":261080,"value":"  \u001b[1m\u001b[36mAccountStat Load (1.0ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"account_stats\".\"id\", \"account_stats\".\"acco (...332 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":6006,"event":"return","thread_id":9960,"parent_id":6005,"elapsed":0.0031934200087562203,"elapsed_instrumentation":0.0002660269965417683,"return_value":{"class":"Integer","value":"432","object_id":865}},{"id":6007,"event":"return","thread_id":9960,"parent_id":5998,"elapsed":0.013120447983965278,"elapsed_instrumentation":0.0001482259831391275,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007f5e125da288>","object_id":261100}},{"id":6008,"event":"call","thread_id":9960,"defined_class":"AccountStat","method_id":"following_count","path":"app/models/account_stat.rb","lineno":25,"static":false,"parameters":[],"receiver":{"class":"AccountStat","object_id":261100,"value":"#<AccountStat:0x00007f5e125da288>"}},{"id":6009,"event":"return","thread_id":9960,"parent_id":6008,"elapsed":0.00012538605369627476,"elapsed_instrumentation":0.00013696396490558982,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":6010,"event":"return","thread_id":9960,"parent_id":5997,"elapsed":0.01359859702643007,"elapsed_instrumentation":0.00014733098214492202,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":6011,"event":"call","thread_id":9960,"defined_class":"FollowLimitValidator","method_id":"limit_for_account","path":"app/validators/follow_limit_validator.rb","lineno":14,"static":true,"parameters":[{"name":"account","class":"Account","object_id":260500,"value":"#<Account:0x00007f5e124362d8>","kind":"req"}],"receiver":{"class":"Class","object_id":199640,"value":"FollowLimitValidator"}},{"id":6012,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"following_count","path":"app/models/concerns/account_counters.rb","lineno":13,"static":false,"parameters":[{"name":"*","class":"Array","object_id":261120,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":261140,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":260500,"value":"#<Account:0x00007f5e124362d8>"}},{"id":6013,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":260500,"value":"#<Account:0x00007f5e124362d8>"}},{"id":6014,"event":"return","thread_id":9960,"parent_id":6013,"elapsed":2.139597199857235e-05,"elapsed_instrumentation":8.404802065342665e-05,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007f5e125da288>","object_id":261100}},{"id":6015,"event":"call","thread_id":9960,"defined_class":"AccountStat","method_id":"following_count","path":"app/models/account_stat.rb","lineno":25,"static":false,"parameters":[],"receiver":{"class":"AccountStat","object_id":261100,"value":"#<AccountStat:0x00007f5e125da288>"}},{"id":6016,"event":"return","thread_id":9960,"parent_id":6015,"elapsed":2.8399983420968056e-05,"elapsed_instrumentation":7.059302879497409e-05,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":6017,"event":"return","thread_id":9960,"parent_id":6012,"elapsed":0.00024327501887455583,"elapsed_instrumentation":0.0001258400152437389,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":6018,"event":"return","thread_id":9960,"parent_id":6011,"elapsed":0.000391363981179893,"elapsed_instrumentation":0.00017042498802766204,"return_value":{"class":"Integer","value":"7500","object_id":15001}},{"id":6019,"event":"return","thread_id":9960,"parent_id":5994,"elapsed":0.014897404005751014,"elapsed_instrumentation":0.00012041698209941387},{"id":6020,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"follow_requests\" WHERE \"follow_requests\".\"account_id\" = $1 AND \"follow_requests\".\"target_account_id\" = $2 LIMIT $3","database_type":"postgres"}},{"id":6021,"event":"return","thread_id":9960,"parent_id":6020,"elapsed":0.001072983,"elapsed_instrumentation":0.00024285796098411083},{"id":6022,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":261160,"value":"  \u001b[1m\u001b[36mFollowRequest Exists? (1.3ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"follow_requests\" WHERE  (...191 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":6023,"event":"return","thread_id":9960,"parent_id":6022,"elapsed":0.0036893239594064653,"elapsed_instrumentation":0.0003123789792880416,"return_value":{"class":"Integer","value":"291","object_id":583}},{"id":6024,"event":"call","thread_id":9960,"defined_class":"LanguageValidator","method_id":"validate_each","path":"app/validators/language_validator.rb","lineno":6,"static":false,"parameters":[{"name":"record","class":"FollowRequest","object_id":260820,"value":"#<FollowRequest:0x00007f5e0f38d668>","kind":"req"},{"name":"attribute","class":"Symbol","object_id":9570268,"value":":languages","kind":"req"},{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"LanguageValidator","object_id":261180,"value":"#<LanguageValidator:0x00007f5e0f1a5260>"}},{"id":6025,"event":"return","thread_id":9960,"parent_id":6024,"elapsed":1.2397998943924904e-05,"elapsed_instrumentation":0.0003005640464834869},{"id":6026,"event":"return","thread_id":9960,"parent_id":5991,"elapsed":0.023401000013109297,"elapsed_instrumentation":0.0006355439545586705,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e116ae070 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e116ae228 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e116ae4f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e116ae6d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e116ae958 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e116aeb88 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":261200,"size":6}},{"id":6027,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":260960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":260980,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11676dc8>"}},{"id":6028,"event":"return","thread_id":9960,"parent_id":6027,"elapsed":1.723697641864419e-05,"elapsed_instrumentation":0.0005467839655466378,"return_value":{"class":"Array","value":"[]","object_id":261220,"size":0}},{"id":6029,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":260840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":260860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e116775e8>"}},{"id":6030,"event":"return","thread_id":9960,"parent_id":6029,"elapsed":6.994989234954119e-06,"elapsed_instrumentation":0.00021631596609950066,"return_value":{"class":"Array","value":"[]","object_id":261240,"size":0}},{"id":6031,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":261260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":261280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11674ca8>"}},{"id":6032,"event":"return","thread_id":9960,"parent_id":6031,"elapsed":0.00030236400198191404,"elapsed_instrumentation":0.0005249759997241199,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e116ea1d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e116ea318 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":261300,"size":2}},{"id":6033,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":261320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":261340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11674988>"}},{"id":6034,"event":"return","thread_id":9960,"parent_id":6033,"elapsed":6.729038432240486e-06,"elapsed_instrumentation":0.00021651695715263486,"return_value":{"class":"Array","value":"[]","object_id":261360,"size":0}},{"id":6035,"event":"call","thread_id":9960,"sql_query":{"sql":"INSERT INTO \"follow_requests\" (\"created_at\", \"updated_at\", \"account_id\", \"target_account_id\", \"show_reblogs\", \"uri\", \"notify\", \"languages\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING \"id\"","database_type":"postgres"}},{"id":6036,"event":"return","thread_id":9960,"parent_id":6035,"elapsed":0.005762138,"elapsed_instrumentation":0.00022148696007207036},{"id":6037,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":261380,"value":"  \u001b[1m\u001b[36mFollowRequest Create (6.0ms)\u001b[0m  \u001b[1m\u001b[32mINSERT INTO \"follow_requests\" (\"created_at\", \" (...465 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":6038,"event":"return","thread_id":9960,"parent_id":6037,"elapsed":0.0033996800193563104,"elapsed_instrumentation":0.0006676699849776924,"return_value":{"class":"Integer","value":"565","object_id":1131}},{"id":6039,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":261320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":261340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11674988>"}},{"id":6040,"event":"call","thread_id":9960,"defined_class":"RateLimitable","method_id":"rate_limit?","path":"app/models/concerns/rate_limitable.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"FollowRequest","object_id":260820,"value":"#<FollowRequest:0x00007f5e0f38d668>"}},{"id":6041,"event":"return","thread_id":9960,"parent_id":6040,"elapsed":4.110799636691809e-05,"elapsed_instrumentation":0.00022454303689301014},{"id":6042,"event":"return","thread_id":9960,"parent_id":6039,"elapsed":0.0006635629688389599,"elapsed_instrumentation":0.00046997901517897844,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e116e8748 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e116e8590 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":261400,"size":2}},{"id":6043,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":261260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":261280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11674ca8>"}},{"id":6044,"event":"return","thread_id":9960,"parent_id":6043,"elapsed":1.7163984011858702e-05,"elapsed_instrumentation":0.00016741501167416573,"return_value":{"class":"Array","value":"[]","object_id":261420,"size":0}},{"id":6045,"event":"call","thread_id":9960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":6046,"event":"return","thread_id":9960,"parent_id":6045,"elapsed":0.000694243,"elapsed_instrumentation":0.00012593501014634967},{"id":6047,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":261440,"value":"  \u001b[1m\u001b[36mTRANSACTION (0.8ms)\u001b[0m  \u001b[1m\u001b[35mRELEASE SAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":6048,"event":"return","thread_id":9960,"parent_id":6047,"elapsed":0.0014269680250436068,"elapsed_instrumentation":0.00016154296463355422,"return_value":{"class":"Integer","value":"83","object_id":167}},{"id":6049,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":261460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":261480,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e116739e8>"}},{"id":6050,"event":"return","thread_id":9960,"parent_id":6049,"elapsed":4.804984200745821e-06,"elapsed_instrumentation":0.00018611294217407703,"return_value":{"class":"Array","value":"[]","object_id":261500,"size":0}},{"id":6051,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":261460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":261480,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e116739e8>"}},{"id":6052,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":261520,"value":"Cache delete: relationship:111362557526760552:111362557526760554\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":6053,"event":"return","thread_id":9960,"parent_id":6052,"elapsed":0.0016048969700932503,"elapsed_instrumentation":0.0004126529674977064,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":6054,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":261540,"value":"Cache delete: relationship:111362557526760554:111362557526760552\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":6055,"event":"return","thread_id":9960,"parent_id":6054,"elapsed":0.0017899239901453257,"elapsed_instrumentation":0.00024107098579406738,"return_value":{"class":"Integer","value":"65","object_id":131}},{"id":6056,"event":"return","thread_id":9960,"parent_id":6051,"elapsed":0.0046771360212005675,"elapsed_instrumentation":0.0001780749880708754,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e116e0570 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":261560,"size":1}},{"id":6057,"event":"call","thread_id":9960,"defined_class":"PotentialFriendshipTracker","method_id":"remove","path":"app/lib/potential_friendship_tracker.rb","lineno":27,"static":true,"parameters":[{"name":"account_id","class":"Integer","object_id":222725115053521105,"value":"111362557526760552","kind":"req"},{"name":"target_account_id","class":"Integer","object_id":222725115053521109,"value":"111362557526760554","kind":"req"}],"receiver":{"class":"Class","object_id":255940,"value":"PotentialFriendshipTracker"}},{"id":6058,"event":"call","thread_id":9960,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"Class","object_id":255940,"value":"PotentialFriendshipTracker"}},{"id":6059,"event":"return","thread_id":9960,"parent_id":6058,"elapsed":8.194998372346163e-06,"elapsed_instrumentation":0.00044205901212990284,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007f5e126ad930>","object_id":222620}},{"id":6060,"event":"return","thread_id":9960,"parent_id":6057,"elapsed":0.001289248000830412,"elapsed_instrumentation":0.00018369598546996713},{"id":6061,"event":"return","thread_id":9960,"parent_id":5968,"elapsed":0.07590197399258614,"elapsed_instrumentation":0.00046011299127712846,"return_value":{"class":"FollowRequest","value":"#<FollowRequest:0x00007f5e0f38d668>","object_id":260820}},{"id":6062,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":260380,"value":"#<Account:0x00007f5e124358d8>"}},{"id":6063,"event":"return","thread_id":9960,"parent_id":6062,"elapsed":1.1862022802233696e-05,"elapsed_instrumentation":9.949301602318883e-05},{"id":6064,"event":"call","thread_id":9960,"defined_class":"Payloadable","method_id":"serialize_payload","path":"app/services/concerns/payloadable.rb","lineno":13,"static":false,"parameters":[{"name":"record","class":"FollowRequest","object_id":260820,"value":"#<FollowRequest:0x00007f5e0f38d668>","kind":"req"},{"name":"serializer","class":"Class","object_id":220240,"value":"ActivityPub::FollowSerializer","kind":"req"},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"FollowService","object_id":260460,"value":"#<FollowService:0x00007f5e0f34be20>"}},{"id":6065,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":261580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":193260,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e120c5d38>"}},{"id":6066,"event":"return","thread_id":9960,"parent_id":6065,"elapsed":3.6410056054592133e-06,"elapsed_instrumentation":0.0001011340063996613,"return_value":{"class":"Array","value":"[]","object_id":193280,"size":0}},{"id":6067,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":261580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":193300,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e120c5d88>"}},{"id":6068,"event":"return","thread_id":9960,"parent_id":6067,"elapsed":5.608017090708017e-06,"elapsed_instrumentation":0.0002932299976237118,"return_value":{"class":"Array","value":"[]","object_id":193320,"size":0}},{"id":6069,"event":"call","thread_id":9960,"defined_class":"ActivityPub::Adapter","method_id":"serializable_hash","path":"app/lib/activitypub/adapter.rb","lineno":14,"static":false,"parameters":[{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::Adapter","object_id":261600,"value":"#<ActivityPub::Adapter:0x00007f5e117572b0>"}},{"id":6070,"event":"call","thread_id":9960,"defined_class":"ActivityPub::Serializer","method_id":"serializable_hash","path":"app/lib/activitypub/serializer.rb","lineno":31,"static":false,"parameters":[{"name":"adapter_options","class":"Hash","object_id":261620,"value":"{:named_contexts=>{:activitystreams=>}, :context_extensions=>{}}","kind":"opt","size":2},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"},{"name":"adapter_instance","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":261640,"value":"#<ActivityPub::FollowSerializer:0x00007f5e11672bd8>"}},{"id":6071,"event":"call","thread_id":9960,"defined_class":"ActivityPub::FollowSerializer","method_id":"id","path":"app/serializers/activitypub/follow_serializer.rb","lineno":7,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":261640,"value":"#<ActivityPub::FollowSerializer:0x00007f5e11672bd8>"}},{"id":6072,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"FollowRequest","object_id":260820,"value":"#<FollowRequest:0x00007f5e0f38d668>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":6073,"event":"call","thread_id":9960,"defined_class":"FollowRequest","method_id":"local?","path":"app/models/follow_request.rb","lineno":43,"static":false,"parameters":[],"receiver":{"class":"FollowRequest","object_id":260820,"value":"#<FollowRequest:0x00007f5e0f38d668>"}},{"id":6074,"event":"return","thread_id":9960,"parent_id":6073,"elapsed":3.5149860195815563e-06,"elapsed_instrumentation":0.0001016120077110827},{"id":6075,"event":"return","thread_id":9960,"parent_id":6072,"elapsed":0.00016518001211807132,"elapsed_instrumentation":0.0001237589749507606,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/7cf8f5ee-a4d7-4a3a-830b-594b89462fa3","object_id":261660}},{"id":6076,"event":"return","thread_id":9960,"parent_id":6071,"elapsed":0.0003164699883200228,"elapsed_instrumentation":0.00023552600760012865,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/7cf8f5ee-a4d7-4a3a-830b-594b89462fa3","object_id":261660}},{"id":6077,"event":"call","thread_id":9960,"defined_class":"ActivityPub::FollowSerializer","method_id":"type","path":"app/serializers/activitypub/follow_serializer.rb","lineno":11,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":261640,"value":"#<ActivityPub::FollowSerializer:0x00007f5e11672bd8>"}},{"id":6078,"event":"return","thread_id":9960,"parent_id":6077,"elapsed":2.3500178940594196e-06,"elapsed_instrumentation":7.462198846042156e-05,"return_value":{"class":"String","value":"Follow","object_id":220740}},{"id":6079,"event":"call","thread_id":9960,"defined_class":"ActivityPub::FollowSerializer","method_id":"actor","path":"app/serializers/activitypub/follow_serializer.rb","lineno":15,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":261640,"value":"#<ActivityPub::FollowSerializer:0x00007f5e11672bd8>"}},{"id":6080,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":260500,"value":"#<Account:0x00007f5e124362d8>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":6081,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":260500,"value":"#<Account:0x00007f5e124362d8>"}},{"id":6082,"event":"return","thread_id":9960,"parent_id":6081,"elapsed":1.0662013664841652e-05,"elapsed_instrumentation":7.734401151537895e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":6083,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":260500,"value":"#<Account:0x00007f5e124362d8>"}},{"id":6084,"event":"return","thread_id":9960,"parent_id":6083,"elapsed":4.8460206016898155e-06,"elapsed_instrumentation":0.00038489600410684943,"return_value":{"class":"Symbol","value":":person","object_id":20695068}},{"id":6085,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":260500,"value":"#<Account:0x00007f5e124362d8>"}},{"id":6086,"event":"return","thread_id":9960,"parent_id":6085,"elapsed":1.5235040336847305e-05,"elapsed_instrumentation":0.00011476199142634869},{"id":6087,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":6088,"event":"return","thread_id":9960,"parent_id":6087,"elapsed":5.837006028741598e-06,"elapsed_instrumentation":0.0002105439780279994,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":6089,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":6090,"event":"return","thread_id":9960,"parent_id":6089,"elapsed":5.831010639667511e-06,"elapsed_instrumentation":0.0002113249502144754,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":6091,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"to_param","path":"app/models/account.rb","lineno":389,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":260500,"value":"#<Account:0x00007f5e124362d8>"}},{"id":6092,"event":"return","thread_id":9960,"parent_id":6091,"elapsed":2.8905982617288828e-05,"elapsed_instrumentation":0.00015826401067897677,"return_value":{"class":"String","value":"reynaldo_prosacco24","object_id":261680}},{"id":6093,"event":"return","thread_id":9960,"parent_id":6080,"elapsed":0.0018335740314796567,"elapsed_instrumentation":0.0001261589932255447,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/reynaldo_prosacco24","object_id":261700}},{"id":6094,"event":"return","thread_id":9960,"parent_id":6079,"elapsed":0.0020153020159341395,"elapsed_instrumentation":7.940799696370959e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/reynaldo_prosacco24","object_id":261700}},{"id":6095,"event":"call","thread_id":9960,"defined_class":"ActivityPub::FollowSerializer","method_id":"virtual_object","path":"app/serializers/activitypub/follow_serializer.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::FollowSerializer","object_id":261640,"value":"#<ActivityPub::FollowSerializer:0x00007f5e11672bd8>"}},{"id":6096,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":260380,"value":"#<Account:0x00007f5e124358d8>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":6097,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":260380,"value":"#<Account:0x00007f5e124358d8>"}},{"id":6098,"event":"return","thread_id":9960,"parent_id":6097,"elapsed":1.4230958186089993e-05,"elapsed_instrumentation":0.00011698703747242689},{"id":6099,"event":"return","thread_id":9960,"parent_id":6096,"elapsed":0.00020468299044296145,"elapsed_instrumentation":0.00027153699193149805,"return_value":{"class":"String","value":"https://example.com/users/eve","object_id":261720}},{"id":6100,"event":"return","thread_id":9960,"parent_id":6095,"elapsed":0.0005493350327014923,"elapsed_instrumentation":0.00012860901188105345,"return_value":{"class":"String","value":"https://example.com/users/eve","object_id":261720}},{"id":6101,"event":"return","thread_id":9960,"parent_id":6070,"elapsed":0.0036617860314436257,"elapsed_instrumentation":0.00035189796471968293,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/7cf8f5ee-a4d7-4a3a-830b-594b89462fa3, :type=>Follow, :actor=>https://cb6e6126.ngrok.io/users/reynaldo_prosacco24, :object=>https://example.com/users/eve}","object_id":261740,"size":4}},{"id":6102,"event":"call","thread_id":9960,"defined_class":"ActivityPub::Adapter","method_id":"transform_key_casing!","path":"app/lib/activitypub/adapter.rb","lineno":10,"static":true,"parameters":[{"name":"value","class":"Hash","object_id":261740,"value":"{:id=>https://cb6e6126.ngrok.io/7cf8f5ee-a4d7-4a3a-830b-594b89462fa3, :type=>Follow, :actor=>https://cb6e6126.ngrok.io/users/reynaldo_prosacco24, :object=>https://example.com/users/eve}","kind":"req","size":4},{"name":"_options","class":"Hash","object_id":261760,"value":"{}","kind":"req","size":0}],"receiver":{"class":"Class","object_id":220360,"value":"ActivityPub::Adapter"}},{"id":6103,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Hash","object_id":261740,"value":"{:id=>https://cb6e6126.ngrok.io/7cf8f5ee-a4d7-4a3a-830b-594b89462fa3, :type=>Follow, :actor=>https://cb6e6126.ngrok.io/users/reynaldo_prosacco24, :object=>https://example.com/users/eve}","kind":"req","size":4}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":6104,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":679388,"value":":id","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":6105,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":261780,"value":"id","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":6106,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":6107,"event":"return","thread_id":9960,"parent_id":6106,"elapsed":4.7629582695662975e-06,"elapsed_instrumentation":0.0004457520553842187,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, to=>to, following=>following, followers=>followers, inbox=>inbox, outbox=>outbox, featured=>featured (...19 more entries)}","object_id":220980,"size":29}},{"id":6108,"event":"return","thread_id":9960,"parent_id":6105,"elapsed":0.0004974029725417495,"elapsed_instrumentation":0.00019902701023966074,"return_value":{"class":"String","value":"id","object_id":221000}},{"id":6109,"event":"return","thread_id":9960,"parent_id":6104,"elapsed":0.0007429519901052117,"elapsed_instrumentation":0.00014954002108424902,"return_value":{"class":"Symbol","value":":id","object_id":679388}},{"id":6110,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":688668,"value":":type","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":6111,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":261800,"value":"type","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":6112,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":6113,"event":"return","thread_id":9960,"parent_id":6112,"elapsed":4.634959623217583e-06,"elapsed_instrumentation":0.0008497120579704642,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, to=>to, following=>following, followers=>followers, inbox=>inbox, outbox=>outbox, featured=>featured (...19 more entries)}","object_id":220980,"size":29}},{"id":6114,"event":"return","thread_id":9960,"parent_id":6111,"elapsed":0.0008983659790828824,"elapsed_instrumentation":0.00015342299593612552,"return_value":{"class":"String","value":"type","object_id":221040}},{"id":6115,"event":"return","thread_id":9960,"parent_id":6110,"elapsed":0.0010912439902313054,"elapsed_instrumentation":0.0001526259584352374,"return_value":{"class":"Symbol","value":":type","object_id":688668}},{"id":6116,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":17345948,"value":":actor","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":6117,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":261820,"value":"actor","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":6118,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":6119,"event":"return","thread_id":9960,"parent_id":6118,"elapsed":4.83199255540967e-06,"elapsed_instrumentation":0.0003476030542515218,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, to=>to, following=>following, followers=>followers, inbox=>inbox, outbox=>outbox, featured=>featured (...19 more entries)}","object_id":220980,"size":29}},{"id":6120,"event":"return","thread_id":9960,"parent_id":6117,"elapsed":0.0003947009681724012,"elapsed_instrumentation":0.0003557699965313077,"return_value":{"class":"String","value":"actor","object_id":221080}},{"id":6121,"event":"return","thread_id":9960,"parent_id":6116,"elapsed":0.000786089978646487,"elapsed_instrumentation":0.00014829396968707442,"return_value":{"class":"Symbol","value":":actor","object_id":17345948}},{"id":6122,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"Symbol","object_id":703388,"value":":object","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":6123,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower","path":"app/lib/activitypub/case_transform.rb","lineno":9,"static":true,"parameters":[{"name":"value","class":"String","object_id":261840,"value":"object","kind":"req"}],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":6124,"event":"call","thread_id":9960,"defined_class":"ActivityPub::CaseTransform","method_id":"camel_lower_cache","path":"app/lib/activitypub/case_transform.rb","lineno":5,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":220940,"value":"ActivityPub::CaseTransform"}},{"id":6125,"event":"return","thread_id":9960,"parent_id":6124,"elapsed":3.035995177924633e-06,"elapsed_instrumentation":0.00033491000067442656,"return_value":{"class":"Hash","value":"{id=>id, type=>type, actor=>actor, object=>object, to=>to, following=>following, followers=>followers, inbox=>inbox, outbox=>outbox, featured=>featured (...19 more entries)}","object_id":220980,"size":29}},{"id":6126,"event":"return","thread_id":9960,"parent_id":6123,"elapsed":0.0003648650017566979,"elapsed_instrumentation":7.993396138772368e-05,"return_value":{"class":"String","value":"object","object_id":221120}},{"id":6127,"event":"return","thread_id":9960,"parent_id":6122,"elapsed":0.000464595970697701,"elapsed_instrumentation":9.626802057027817e-05,"return_value":{"class":"Symbol","value":":object","object_id":703388}},{"id":6128,"event":"return","thread_id":9960,"parent_id":6103,"elapsed":0.003780862025450915,"elapsed_instrumentation":0.0002957379329018295,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/7cf8f5ee-a4d7-4a3a-830b-594b89462fa3, :type=>Follow, :actor=>https://cb6e6126.ngrok.io/users/reynaldo_prosacco24, :object=>https://example.com/users/eve}","object_id":261740,"size":4}},{"id":6129,"event":"return","thread_id":9960,"parent_id":6102,"elapsed":0.004112257971428335,"elapsed_instrumentation":0.000549645978026092,"return_value":{"class":"Hash","value":"{:id=>https://cb6e6126.ngrok.io/7cf8f5ee-a4d7-4a3a-830b-594b89462fa3, :type=>Follow, :actor=>https://cb6e6126.ngrok.io/users/reynaldo_prosacco24, :object=>https://example.com/users/eve}","object_id":261740,"size":4}},{"id":6130,"event":"call","thread_id":9960,"defined_class":"ContextHelper","method_id":"serialized_context","path":"app/helpers/context_helper.rb","lineno":41,"static":false,"parameters":[{"name":"named_contexts_map","class":"Hash","object_id":261860,"value":"{:activitystreams=>}","kind":"req","size":1},{"name":"context_extensions_map","class":"Hash","object_id":261880,"value":"{}","kind":"req","size":0}],"receiver":{"class":"ActivityPub::Adapter","object_id":261600,"value":"#<ActivityPub::Adapter:0x00007f5e117572b0>"}},{"id":6131,"event":"return","thread_id":9960,"parent_id":6130,"elapsed":1.3370008673518896e-05,"elapsed_instrumentation":0.0001312980311922729,"return_value":{"class":"String","value":"https://www.w3.org/ns/activitystreams","object_id":221260}},{"id":6132,"event":"return","thread_id":9960,"parent_id":6069,"elapsed":0.008935263962484896,"elapsed_instrumentation":0.00027647195383906364,"return_value":{"class":"Hash","value":"{@context=>https://www.w3.org/ns/activitystreams, :id=>https://cb6e6126.ngrok.io/7cf8f5ee-a4d7-4a3a-830b-594b89462fa3, :type=>Follow, :actor=>https://cb6e6126.ngrok.io/users/reynaldo_prosacco24, :object=>https://example.com/users/eve}","object_id":261900,"size":5}},{"id":6133,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":261580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":193300,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e120c5d88>"}},{"id":6134,"event":"return","thread_id":9960,"parent_id":6133,"elapsed":4.000961780548096e-06,"elapsed_instrumentation":9.447900811210275e-05,"return_value":{"class":"Array","value":"[]","object_id":195220,"size":0}},{"id":6135,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":261580,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":193260,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e120c5d38>"}},{"id":6136,"event":"return","thread_id":9960,"parent_id":6135,"elapsed":2.8409995138645172e-06,"elapsed_instrumentation":7.810594979673624e-05,"return_value":{"class":"Array","value":"[]","object_id":195240,"size":0}},{"id":6137,"event":"return","thread_id":9960,"parent_id":6064,"elapsed":0.010489284992218018,"elapsed_instrumentation":0.00022685196017846465,"return_value":{"class":"Hash","value":"{@context=>https://www.w3.org/ns/activitystreams, :id=>https://cb6e6126.ngrok.io/7cf8f5ee-a4d7-4a3a-830b-594b89462fa3, :type=>Follow, :actor=>https://cb6e6126.ngrok.io/users/reynaldo_prosacco24, :object=>https://example.com/users/eve}","object_id":261900,"size":5}},{"id":6138,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":192860,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":261920,"value":"__\t\u0006_q\n_+n6_"}},{"id":6139,"event":"return","thread_id":9960,"parent_id":6138,"elapsed":5.985959433019161e-06,"elapsed_instrumentation":0.00012215401511639357,"return_value":{"class":"String","value":"ff910906c1710abf2b6e369e","object_id":261940}},{"id":6140,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":261960,"value":"[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/7cf8f5ee-a4d7-4a (...141 more characters), 111362557526760552, https://example.com/inbox, {bypass_availability=>true}]","kind":"req","size":4}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":261980,"value":"#<JSON::Ext::Generator::State:0x00007f5e118348e0>"}},{"id":6141,"event":"return","thread_id":9960,"parent_id":6140,"elapsed":1.1036987416446209e-05,"elapsed_instrumentation":0.000161863979883492,"return_value":{"class":"String","value":"[\"{\\\"@context\\\":\\\"https://www.w3.org/ns/activitystreams\\\",\\\"id\\\":\\\"https://cb6e6126.ngrok.io/7cf8f5e (...241 more characters)","object_id":262000}},{"id":6142,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":262020,"value":"#<JSON::Ext::Parser:0x00007f5e11833580>"}},{"id":6143,"event":"return","thread_id":9960,"parent_id":6142,"elapsed":1.2025004252791405e-05,"elapsed_instrumentation":0.00030221196357160807,"return_value":{"class":"Array","value":"[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/7cf8f5ee-a4d7-4a (...141 more characters), 111362557526760552, https://example.com/inbox, {bypass_availability=>true}]","object_id":262040,"size":4}},{"id":6144,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":192860,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":262060,"value":"\u0011[_!____Ku4_"}},{"id":6145,"event":"return","thread_id":9960,"parent_id":6144,"elapsed":4.04199818149209e-06,"elapsed_instrumentation":0.00011370796710252762,"return_value":{"class":"String","value":"115b9421d6c3c4e34b7534bc","object_id":262080}},{"id":6146,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":262100,"value":"{retry=>16, queue=>push, dead=>false, args=>[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/7cf8f5ee-a4d7-4a (...141 more characters), 111362557526760552, https://example.com/inbox, {bypass_availability=>true}], class=>ActivityPub::DeliveryWorker, jid=>ff910906c1710abf2b6e369e, created_at=>1699257775.8438063, id=>115b9421d6c3c4e34b7534bc}","kind":"req","size":8}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":262120,"value":"#<JSON::Ext::Generator::State:0x00007f5e118311b8>"}},{"id":6147,"event":"return","thread_id":9960,"parent_id":6146,"elapsed":1.851702108979225e-05,"elapsed_instrumentation":0.0002822059323079884,"return_value":{"class":"String","value":"{\"retry\":16,\"queue\":\"push\",\"dead\":false,\"args\":[\"{\\\"@context\\\":\\\"https://www.w3.org/ns/activitystrea (...424 more characters)","object_id":262140}},{"id":6148,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":262160,"value":"#<JSON::Ext::Parser:0x00007f5e1188e638>"}},{"id":6149,"event":"return","thread_id":9960,"parent_id":6148,"elapsed":2.5776971597224474e-05,"elapsed_instrumentation":0.0004430960398167372,"return_value":{"class":"Hash","value":"{retry=>16, queue=>push, dead=>false, args=>[{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/7cf8f5ee-a4d7-4a (...141 more characters), 111362557526760552, https://example.com/inbox, {bypass_availability=>true}], class=>ActivityPub::DeliveryWorker, jid=>ff910906c1710abf2b6e369e, created_at=>1699257775.8438063, id=>115b9421d6c3c4e34b7534bc}","object_id":262180,"size":8}},{"id":6150,"event":"call","thread_id":9960,"defined_class":"ActivityPub::DeliveryWorker","method_id":"perform","path":"app/workers/activitypub/delivery_worker.rb","lineno":25,"static":false,"parameters":[{"name":"json","class":"String","object_id":262200,"value":"{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"id\":\"https://cb6e6126.ngrok.io/7cf8f5ee-a4d7-4a (...141 more characters)","kind":"req"},{"name":"source_account_id","class":"Integer","object_id":222725115053521105,"value":"111362557526760552","kind":"req"},{"name":"inbox_url","class":"String","object_id":262220,"value":"https://example.com/inbox","kind":"req"},{"name":"options","class":"Hash","object_id":262240,"value":"{bypass_availability=>true}","kind":"opt","size":1}],"receiver":{"class":"ActivityPub::DeliveryWorker","object_id":262260,"value":"#<ActivityPub::DeliveryWorker:0x00007f5e1234ddf8>"}},{"id":6151,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":6152,"event":"return","thread_id":9960,"parent_id":6151,"elapsed":0.001034439,"elapsed_instrumentation":0.00011736195301637053},{"id":6153,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":262280,"value":"  \u001b[1m\u001b[36mAccount Load (1.2ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accoun (...1364 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":6154,"event":"return","thread_id":9960,"parent_id":6153,"elapsed":0.0030054249800741673,"elapsed_instrumentation":0.00019087607506662607,"return_value":{"class":"Integer","value":"1464","object_id":2929}},{"id":6155,"event":"call","thread_id":9960,"defined_class":"RequestPool","method_id":"current","path":"app/lib/request_pool.rb","lineno":6,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":221900,"value":"RequestPool"}},{"id":6156,"event":"return","thread_id":9960,"parent_id":6155,"elapsed":3.833964001387358e-06,"elapsed_instrumentation":0.00017218198627233505,"return_value":{"class":"RequestPool","value":"#<RequestPool:0x00007f5e0e580228>","object_id":222000}},{"id":6157,"event":"call","thread_id":9960,"defined_class":"RequestPool","method_id":"with","path":"app/lib/request_pool.rb","lineno":106,"static":false,"parameters":[{"name":"site","class":"String","object_id":262300,"value":"https://example.com","kind":"req"},{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"RequestPool","object_id":222000,"value":"#<RequestPool:0x00007f5e0e580228>"}},{"id":6158,"event":"call","thread_id":9960,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"with","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":15,"static":false,"parameters":[{"name":"preferred_tag","class":"String","object_id":262300,"value":"https://example.com","kind":"req"},{"name":"options","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":222040,"value":"#<ConnectionPool::SharedConnectionPool:0x00007f5e120f5dd0>"}},{"id":6159,"event":"call","thread_id":9960,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"checkout","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":29,"static":false,"parameters":[{"name":"preferred_tag","class":"String","object_id":262300,"value":"https://example.com","kind":"req"},{"name":"options","class":"Hash","object_id":262320,"value":"{}","kind":"opt","size":0}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":222040,"value":"#<ConnectionPool::SharedConnectionPool:0x00007f5e120f5dd0>"}},{"id":6160,"event":"call","thread_id":9960,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"pop","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":23,"static":false,"parameters":[{"name":"preferred_tag","class":"String","object_id":262300,"value":"https://example.com","kind":"req"},{"name":"timeout","class":"Integer","object_id":11,"value":"5","kind":"opt"}],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":222080,"value":"#<ConnectionPool::SharedTimedStack:0x00007f5e120f5ce0>"}},{"id":6161,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"http_client","path":"app/lib/request.rb","lineno":141,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":33060,"value":"Request"}},{"id":6162,"event":"return","thread_id":9960,"parent_id":6161,"elapsed":8.245196659117937e-05,"elapsed_instrumentation":0.00015754299238324165,"return_value":{"class":"HTTP::Client","value":"#<HTTP::Client:0x00007f5e118cfb38>","object_id":262340}},{"id":6163,"event":"return","thread_id":9960,"parent_id":6160,"elapsed":0.001158019993454218,"elapsed_instrumentation":0.0002102760481648147,"return_value":{"class":"RequestPool::Connection","value":"#<RequestPool::Connection:0x00007f5e1197b910>","object_id":262360}},{"id":6164,"event":"return","thread_id":9960,"parent_id":6159,"elapsed":0.0014340319903567433,"elapsed_instrumentation":0.0003105360083281994,"return_value":{"class":"RequestPool::Connection","value":"#<RequestPool::Connection:0x00007f5e1197b910>","object_id":262360}},{"id":6165,"event":"call","thread_id":9960,"defined_class":"RequestPool::Connection","method_id":"use","path":"app/lib/request_pool.rb","lineno":47,"static":false,"parameters":[],"receiver":{"class":"RequestPool::Connection","object_id":262360,"value":"#<RequestPool::Connection:0x00007f5e1197b910>"}},{"id":6166,"event":"call","thread_id":9960,"defined_class":"Mastodon::Version","method_id":"user_agent","path":"lib/mastodon/version.rb","lineno":67,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":172680,"value":"4.3.0-alpha.0"}},{"id":6167,"event":"return","thread_id":9960,"parent_id":6166,"elapsed":3.029999788850546e-06,"elapsed_instrumentation":0.00019714597146958113,"return_value":{"class":"String","value":"http.rb/5.1.1 (Mastodon/4.3.0-alpha.0; +https://cb6e6126.ngrok.io/)","object_id":172740}},{"id":6168,"event":"call","thread_id":9960,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":262380,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":262400,"value":"[___qc_*\rx_\n___2_j__&___\u0015H]\u0001\f_!__]"}},{"id":6169,"event":"return","thread_id":9960,"parent_id":6168,"elapsed":7.242022547870874e-06,"elapsed_instrumentation":0.00016086496179923415,"return_value":{"class":"String","value":"h6SjcWO7Kg14swr3zP8ygmrirCarrJ4VSF0BDIghmes=","object_id":262420}},{"id":6170,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"on_behalf_of","path":"app/lib/request.rb","lineno":91,"static":false,"parameters":[{"name":"actor","class":"Account","object_id":262440,"value":"#<Account:0x00007f5e125d6048>","kind":"req"},{"name":"sign_with","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Request","object_id":262460,"value":"#<Request:0x00007f5e1197b2d0>"}},{"id":6171,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"keypair","path":"app/models/account.rb","lineno":293,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":262440,"value":"#<Account:0x00007f5e125d6048>"}},{"id":6172,"event":"return","thread_id":9960,"parent_id":6171,"elapsed":0.00016382295871153474,"elapsed_instrumentation":0.0002634720294736326,"return_value":{"class":"OpenSSL::PKey::RSA","value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEAoeT3bBByDcz/rtafbeBgEQEpcz21FV9+YfWKRMvUc0xGO8wo\nTFd","object_id":262480}},{"id":6173,"event":"return","thread_id":9960,"parent_id":6170,"elapsed":0.00047606800217181444,"elapsed_instrumentation":0.0003935309941880405,"return_value":{"class":"Request","value":"#<Request:0x00007f5e1197b2d0>","object_id":262460}},{"id":6174,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"add_headers","path":"app/lib/request.rb","lineno":100,"static":false,"parameters":[{"name":"new_headers","class":"Hash","object_id":222260,"value":"{Content-Type=>application/activity+json}","kind":"req","size":1}],"receiver":{"class":"Request","object_id":262460,"value":"#<Request:0x00007f5e1197b2d0>"}},{"id":6175,"event":"return","thread_id":9960,"parent_id":6174,"elapsed":4.994042683392763e-06,"elapsed_instrumentation":0.00013277295511215925,"return_value":{"class":"Request","value":"#<Request:0x00007f5e1197b2d0>","object_id":262460}},{"id":6176,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"perform","path":"app/lib/request.rb","lineno":105,"static":false,"parameters":[],"receiver":{"class":"Request","object_id":262460,"value":"#<Request:0x00007f5e1197b2d0>"}},{"id":6177,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"headers","path":"app/lib/request.rb","lineno":126,"static":false,"parameters":[],"receiver":{"class":"Request","object_id":262460,"value":"#<Request:0x00007f5e1197b2d0>"}},{"id":6178,"event":"call","thread_id":9960,"defined_class":"OpenSSL::PKey::PKey","method_id":"sign","path":"OpenSSL::PKey::PKey#sign","static":false,"parameters":[{"name":"arg","class":"Array","object_id":262500,"value":"[e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855, (request-target): post /inbox\nhost: example.com\ndate: Mon, 06 Nov 2023 08:02:55 GMT\ndigest: SHA-256= (...84 more characters)]","kind":"rest","size":2}],"receiver":{"class":"OpenSSL::PKey::RSA","object_id":262480,"value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEpAIBAAKCAQEAoeT3bBByDcz/rtafbeBgEQEpcz21FV9+YfWKRMvUc0xGO8wo\nTFd"}},{"id":6179,"event":"return","thread_id":9960,"parent_id":6178,"elapsed":0.0022731199860572815,"elapsed_instrumentation":0.00024895905517041683,"return_value":{"class":"String","value":"V______XG___1_____Nu\u0015_\\\u0010j__9D_?|___w3__!u`\u0017__bJ__5____I_____=_U_\u000b_____\u0012_&__\u0014__E_____!_\r__\u0016E(__%_e__O (...156 more characters)","object_id":262520}},{"id":6180,"event":"call","thread_id":9960,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":207640,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":262540,"value":"[V______XG___1_____Nu\u0015_\\\u0010j__9D_?|___w3__!u`\u0017__bJ__5____I_____=_U_\u000b_____\u0012_&__\u0014__E_____!_\r__\u0016E(__%_e__O (...156 more characters)]"}},{"id":6181,"event":"return","thread_id":9960,"parent_id":6180,"elapsed":6.87700230628252e-06,"elapsed_instrumentation":0.00014935503713786602,"return_value":{"class":"String","value":"VvvV8Zut8VhH7b3lMf+b+NmlTnUVvlwQaofMOUT1P3zU1OZ3M8/yIXVgF6izYkq31TXD1O3mSYajrcPIPY1V7gvX5KXsxRK/Joam (...244 more characters)","object_id":262560}},{"id":6182,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"key_uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":53,"static":false,"parameters":[{"name":"target","class":"Account","object_id":262440,"value":"#<Account:0x00007f5e125d6048>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":6183,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":262440,"value":"#<Account:0x00007f5e125d6048>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":6184,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":262440,"value":"#<Account:0x00007f5e125d6048>"}},{"id":6185,"event":"return","thread_id":9960,"parent_id":6184,"elapsed":2.135499380528927e-05,"elapsed_instrumentation":8.997402619570494e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":6186,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":262440,"value":"#<Account:0x00007f5e125d6048>"}},{"id":6187,"event":"return","thread_id":9960,"parent_id":6186,"elapsed":3.569002728909254e-06,"elapsed_instrumentation":0.00011645298218354583,"return_value":{"class":"Symbol","value":":person","object_id":20695068}},{"id":6188,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":262440,"value":"#<Account:0x00007f5e125d6048>"}},{"id":6189,"event":"return","thread_id":9960,"parent_id":6188,"elapsed":0.00011630204971879721,"elapsed_instrumentation":0.00011142197763547301},{"id":6190,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":6191,"event":"return","thread_id":9960,"parent_id":6190,"elapsed":5.350972060114145e-06,"elapsed_instrumentation":0.00015668896958231926,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":6192,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":6193,"event":"return","thread_id":9960,"parent_id":6192,"elapsed":2.895016223192215e-06,"elapsed_instrumentation":0.0001020330237224698,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":6194,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"to_param","path":"app/models/account.rb","lineno":389,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":262440,"value":"#<Account:0x00007f5e125d6048>"}},{"id":6195,"event":"return","thread_id":9960,"parent_id":6194,"elapsed":2.0619947463274002e-05,"elapsed_instrumentation":0.00010362401371821761,"return_value":{"class":"String","value":"reynaldo_prosacco24","object_id":262580}},{"id":6196,"event":"return","thread_id":9960,"parent_id":6183,"elapsed":0.0012115020072087646,"elapsed_instrumentation":0.000180095958057791,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/reynaldo_prosacco24","object_id":262600}},{"id":6197,"event":"return","thread_id":9960,"parent_id":6182,"elapsed":0.001466546964365989,"elapsed_instrumentation":0.0003585120430216193,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/users/reynaldo_prosacco24#main-key","object_id":262620}},{"id":6198,"event":"return","thread_id":9960,"parent_id":6177,"elapsed":0.004668282985221595,"elapsed_instrumentation":0.0002800719812512398,"return_value":{"class":"Hash","value":"{User-Agent=>http.rb/5.1.1 (Mastodon/4.3.0-alpha.0; +https://cb6e6126.ngrok.io/), Host=>example.com, Date=>Mon, 06 Nov 2023 08:02:55 GMT, Accept-Encoding=>gzip, Digest=>SHA-256=h6SjcWO7Kg14swr3zP8ygmrirCarrJ4VSF0BDIghmes=, Content-Type=>application/activity+json, Signature=>keyId=\"https://cb6e6126.ngrok.io/users/reynaldo_prosacco24#main-key\",algorithm=\"rsa-sha256\",headers= (...405 more characters)}","object_id":262640,"size":7}},{"id":6199,"event":"call","thread_id":9960,"defined_class":"Request::ClientLimit","method_id":"body_with_limit","path":"app/lib/request.rb","lineno":227,"static":false,"parameters":[{"name":"limit","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"HTTP::Response","object_id":262700,"value":""}},{"id":6200,"event":"call","thread_id":9960,"defined_class":"Request::ClientLimit","method_id":"truncated_body","path":"app/lib/request.rb","lineno":204,"static":false,"parameters":[{"name":"limit","class":"Integer","object_id":2097153,"value":"1048576","kind":"opt"}],"receiver":{"class":"HTTP::Response","object_id":262700,"value":""}},{"id":6201,"event":"return","thread_id":9960,"parent_id":6200,"elapsed":0.00023209699429571629,"elapsed_instrumentation":0.00014927302254363894,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":262720,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":6202,"event":"return","thread_id":9960,"parent_id":6199,"elapsed":0.0006924730259925127,"elapsed_instrumentation":0.0001863159704953432,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":262720,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":6203,"event":"return","thread_id":9960,"parent_id":6176,"elapsed":0.00932597101200372,"elapsed_instrumentation":7.243093568831682e-05,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":262720,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":6204,"event":"call","thread_id":9960,"defined_class":"RequestPool::Connection","method_id":"close","path":"app/lib/request_pool.rb","lineno":85,"static":false,"parameters":[],"receiver":{"class":"RequestPool::Connection","object_id":262360,"value":"#<RequestPool::Connection:0x00007f5e1197b910>"}},{"id":6205,"event":"return","thread_id":9960,"parent_id":6204,"elapsed":5.537993274629116e-06,"elapsed_instrumentation":0.00012305495329201221,"return_value":{"class":"Symbol","value":":clean","object_id":1565468}},{"id":6206,"event":"return","thread_id":9960,"parent_id":6165,"elapsed":0.011783253983594477,"elapsed_instrumentation":0.00012661702930927277,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":262720,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":6207,"event":"call","thread_id":9960,"defined_class":"ConnectionPool::SharedConnectionPool","method_id":"checkin","path":"app/lib/connection_pool/shared_connection_pool.rb","lineno":39,"static":false,"parameters":[{"name":"preferred_tag","class":"String","object_id":262300,"value":"https://example.com","kind":"req"}],"receiver":{"class":"ConnectionPool::SharedConnectionPool","object_id":222040,"value":"#<ConnectionPool::SharedConnectionPool:0x00007f5e120f5dd0>"}},{"id":6208,"event":"call","thread_id":9960,"defined_class":"ConnectionPool::SharedTimedStack","method_id":"push","path":"app/lib/connection_pool/shared_timed_stack.rb","lineno":14,"static":false,"parameters":[{"name":"connection","class":"RequestPool::Connection","object_id":262360,"value":"#<RequestPool::Connection:0x00007f5e1197b910>","kind":"req"}],"receiver":{"class":"ConnectionPool::SharedTimedStack","object_id":222080,"value":"#<ConnectionPool::SharedTimedStack:0x00007f5e120f5ce0>"}},{"id":6209,"event":"return","thread_id":9960,"parent_id":6208,"elapsed":8.879986125975847e-06,"elapsed_instrumentation":9.98110044747591e-05,"return_value":{"class":"Thread::ConditionVariable","value":"#<Thread::ConditionVariable:0x00007f5e0e5bfc20>","object_id":222520}},{"id":6210,"event":"return","thread_id":9960,"parent_id":6207,"elapsed":0.000142140022944659,"elapsed_instrumentation":8.286105003207922e-05},{"id":6211,"event":"return","thread_id":9960,"parent_id":6158,"elapsed":0.013993220985867083,"elapsed_instrumentation":0.00015891302609816194,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":262720,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":6212,"event":"return","thread_id":9960,"parent_id":6157,"elapsed":0.014184858009684831,"elapsed_instrumentation":0.00019752600928768516,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":262720,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":6213,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":262740,"value":"{:error=>{:class=>HTTP::StateError, :message=>body has already been consumed}, :time=>2023-11-06T08:02:55.868314927+00:00}","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":262760,"value":"#<JSON::Ext::Generator::State:0x00007f5e119cdcb0>"}},{"id":6214,"event":"return","thread_id":9960,"parent_id":6213,"elapsed":1.0056013707071543e-05,"elapsed_instrumentation":0.00018026301404461265,"return_value":{"class":"String","value":"{\"error\":{\"class\":\"HTTP::StateError\",\"message\":\"body has already been consumed\"},\"time\":\"2023-11-06T (...26 more characters)","object_id":262780}},{"id":6215,"event":"call","thread_id":9960,"defined_class":"DeliveryFailureTracker","method_id":"track_failure!","path":"app/lib/delivery_failure_tracker.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"DeliveryFailureTracker","object_id":262800,"value":"#<DeliveryFailureTracker:0x00007f5e119c9ca0>"}},{"id":6216,"event":"call","thread_id":9960,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"DeliveryFailureTracker","object_id":262800,"value":"#<DeliveryFailureTracker:0x00007f5e119c9ca0>"}},{"id":6217,"event":"return","thread_id":9960,"parent_id":6216,"elapsed":4.48600621894002e-06,"elapsed_instrumentation":8.770194835960865e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007f5e126ad930>","object_id":222620}},{"id":6218,"event":"call","thread_id":9960,"defined_class":"DeliveryFailureTracker","method_id":"days","path":"app/lib/delivery_failure_tracker.rb","lineno":26,"static":false,"parameters":[],"receiver":{"class":"DeliveryFailureTracker","object_id":262800,"value":"#<DeliveryFailureTracker:0x00007f5e119c9ca0>"}},{"id":6219,"event":"call","thread_id":9960,"defined_class":"Redisable","method_id":"redis","path":"app/models/concerns/redisable.rb","lineno":4,"static":false,"parameters":[],"receiver":{"class":"DeliveryFailureTracker","object_id":262800,"value":"#<DeliveryFailureTracker:0x00007f5e119c9ca0>"}},{"id":6220,"event":"return","thread_id":9960,"parent_id":6219,"elapsed":4.0209852159023285e-06,"elapsed_instrumentation":8.804205572232604e-05,"return_value":{"class":"Redis::Namespace","value":"#<Redis::Namespace:0x00007f5e126ad930>","object_id":222620}},{"id":6221,"event":"return","thread_id":9960,"parent_id":6218,"elapsed":0.0004928390262648463,"elapsed_instrumentation":0.00014355598250404,"return_value":{"class":"Integer","value":"1","object_id":3}},{"id":6222,"event":"return","thread_id":9960,"parent_id":6215,"elapsed":0.0015232989680953324,"elapsed_instrumentation":9.783304994925857e-05},{"id":6223,"event":"return","thread_id":9960,"parent_id":6150,"elapsed":0.025306371971964836,"elapsed_instrumentation":0.0002664499916136265,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":262720,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":6224,"event":"return","thread_id":9960,"parent_id":5851,"elapsed":0.26598299597389996,"elapsed_instrumentation":0.00018462195293977857,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":262720,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]}]}