{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"50d0a0445fe1bf0ac82032f1958ae8e614b2ebd3","status":["M .env.test","M .husky/pre-commit","M appmap/rspec/API_routes_Account_routes_routes_to_followers/appmap-findings.json","M appmap/rspec/API_routes_Account_routes_routes_to_search/appmap-findings.json","M appmap/rspec/API_routes_Account_routes_routes_to_statuses/appmap-findings.json","M appmap/rspec/API_routes_Credentials_routes_routes_to_update_credentials/appmap-findings.json","M appmap/rspec/API_routes_Credentials_routes_routes_to_verify_credentials/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_favourite/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_favourited_by/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_mute/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_reblog/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_reblogged_by/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_unfavourite/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_unmute/appmap-findings.json","M appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_name_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_redirect_uris_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_website_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_an_unsupported_scope_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_many_duplicate_scopes_only_saves_the_scope_once.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_valid_params_creates_an_OAuth_app.appmap.json","?? appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_name_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_redirect_uris_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_website_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_an_unsupported_scope_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_many_duplicate_scopes_only_saves_the_scope_once/","?? appmap/rspec/Apps_POST_api_v1_apps_with_valid_params_creates_an_OAuth_app/","?? appmap/rspec/Apps_POST_api_v1_apps_without_required_params_returns_http_unprocessable_entity/","?? appmap/rspec/Auth_ChallengesController_POST_create_with_correct_password_redirects_back/"],"git_last_annotated_tag":"0.1.2-14643-g50d0a0445fe1bf0ac82032f1958ae8e614b2ebd3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"ActivityPub::FetchRepliesService #call when the payload is an OrderedCollection with inlined replies when passing the URL to the collection spawns workers for up to 5 replies on the same server","source_location":"spec/services/activitypub/fetch_replies_service_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"failed","test_failure":{"message":"body has already been consumed","location":"app/lib/request.rb:217"},"exception":{"class":"HTTP::StateError","message":"body has already been consumed"}},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"app","type":"package","children":[{"name":"models","type":"package","children":[{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false},{"name":"ensure_keys!","type":"function","location":"app/models/account.rb:478","static":false},{"name":"keypair","type":"function","location":"app/models/account.rb:293","static":false},{"name":"object_type","type":"function","location":"app/models/account.rb:385","static":false},{"name":"instance_actor?","type":"function","location":"app/models/account.rb:175","static":false}]},{"name":"concerns","type":"package","children":[{"name":"DomainMaterializable","type":"class","children":[{"name":"refresh_instances_view","type":"function","location":"app/models/concerns/domain_materializable.rb:12","static":false},{"name":"count_unique_subdomains!","type":"function","location":"app/models/concerns/domain_materializable.rb:19","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false}]},{"name":"RateLimitable","type":"class","children":[{"name":"rate_limit?","type":"function","location":"app/models/concerns/rate_limitable.rb:10","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"increment_count!","type":"function","location":"app/models/concerns/account_counters.rb:23","static":false},{"name":"update_count!","type":"function","location":"app/models/concerns/account_counters.rb:34","static":false}]}]},{"name":"Instance","type":"class","children":[{"name":"refresh","type":"function","location":"app/models/instance.rb:28","static":true}]},{"name":"Status","type":"class","children":[{"name":"local?","type":"function","location":"app/models/status.rb:188","static":false},{"name":"reblog?","type":"function","location":"app/models/status.rb:196","static":false},{"name":"reply?","type":"function","location":"app/models/status.rb:184","static":false},{"name":"with_media?","type":"function","location":"app/models/status.rb:242","static":false},{"name":"ordered_media_attachments","type":"function","location":"app/models/status.rb:271","static":false}]}]},{"name":"lib","type":"package","children":[{"name":"TagManager","type":"class","children":[{"name":"normalize_domain","type":"function","location":"app/lib/tag_manager.rb:17","static":false}]},{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]},{"name":"Request","type":"class","children":[{"name":"on_behalf_of","type":"function","location":"app/lib/request.rb:91","static":false},{"name":"add_headers","type":"function","location":"app/lib/request.rb:100","static":false},{"name":"perform","type":"function","location":"app/lib/request.rb:105","static":false},{"name":"http_client","type":"function","location":"app/lib/request.rb:141","static":true},{"name":"headers","type":"function","location":"app/lib/request.rb:126","static":false},{"name":"ClientLimit","type":"class","children":[{"name":"body_with_limit","type":"function","location":"app/lib/request.rb:227","static":false},{"name":"truncated_body","type":"function","location":"app/lib/request.rb:204","static":false}]}]},{"name":"activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"key_uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:53","static":false},{"name":"uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:36","static":false}]}]}]}]},{"name":"validators","type":"package","children":[{"name":"UniqueUsernameValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/unique_username_validator.rb:6","static":false}]},{"name":"StatusLengthValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/status_length_validator.rb:8","static":false}]},{"name":"DisallowedHashtagsValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/disallowed_hashtags_validator.rb:4","static":false}]}]},{"name":"helpers","type":"package","children":[{"name":"JsonLdHelper","type":"class","children":[{"name":"non_matching_uri_hosts?","type":"function","location":"app/helpers/jsonld_helper.rb:66","static":false},{"name":"unsupported_uri_scheme?","type":"function","location":"app/helpers/jsonld_helper.rb:62","static":false},{"name":"fetch_resource_without_id_validation","type":"function","location":"app/helpers/jsonld_helper.rb:171","static":false},{"name":"build_request","type":"function","location":"app/helpers/jsonld_helper.rb:207","static":false},{"name":"response_successful?","type":"function","location":"app/helpers/jsonld_helper.rb:199","static":false}]},{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"default_url_options","type":"function","location":"app/helpers/routing_helper.rb:12","static":false}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"lib","type":"package","children":[{"name":"paperclip","type":"package","children":[{"name":"Paperclip","type":"class","children":[{"name":"AttachmentExtensions","type":"class","children":[{"name":"save","type":"function","location":"lib/paperclip/attachment_extensions.rb:83","static":false}]}]}]},{"name":"mastodon","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"Snowflake","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"around_create","type":"function","location":"lib/mastodon/snowflake.rb:7","static":true}]}]},{"name":"Version","type":"class","children":[{"name":"user_agent","type":"function","location":"lib/mastodon/version.rb:67","static":true}]}]}]}]},{"name":"openssl","type":"package","children":[{"name":"OpenSSL","type":"class","children":[{"name":"PKey","type":"class","children":[{"name":"PKey","type":"class","children":[{"name":"sign","type":"function","location":"OpenSSL::PKey::PKey#sign","static":false,"labels":["crypto.pkey"]}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"Array","type":"class","children":[{"name":"pack","type":"function","location":"<internal:pack>:7","static":false,"labels":["array.pack"]}]}]}],"events":[{"id":48722,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12869170>"}},{"id":48723,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":613320,"value":"#<Account:0x00007f5e0c3d5010>"}},{"id":48724,"event":"return","thread_id":9960,"parent_id":48723,"elapsed":1.6598030924797058e-05,"elapsed_instrumentation":8.306396193802357e-05},{"id":48725,"event":"call","thread_id":9960,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":613340,"value":"example.com","kind":"req"}],"receiver":{"class":"TagManager","object_id":199560,"value":"#<TagManager:0x00007f5e1188f740>"}},{"id":48726,"event":"return","thread_id":9960,"parent_id":48725,"elapsed":0.000424769998062402,"elapsed_instrumentation":0.000128579034935683,"return_value":{"class":"String","value":"example.com","object_id":613360}},{"id":48727,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":613320,"value":"#<Account:0x00007f5e0c3d5010>"}},{"id":48728,"event":"return","thread_id":9960,"parent_id":48727,"elapsed":1.5582016203552485e-05,"elapsed_instrumentation":0.00013269600458443165},{"id":48729,"event":"return","thread_id":9960,"parent_id":48722,"elapsed":0.0009811469935812056,"elapsed_instrumentation":0.00036816298961639404,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e12852218 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12852358 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12852498 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12852650 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":191160,"size":4}},{"id":48730,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e128690d0>"}},{"id":48731,"event":"call","thread_id":9960,"defined_class":"UniqueUsernameValidator","method_id":"validate","path":"app/validators/unique_username_validator.rb","lineno":6,"static":false,"parameters":[{"name":"account","class":"Account","object_id":613320,"value":"#<Account:0x00007f5e0c3d5010>","kind":"req"}],"receiver":{"class":"UniqueUsernameValidator","object_id":191220,"value":"#<UniqueUsernameValidator:0x00007f5e13f10590>"}},{"id":48732,"event":"call","thread_id":9960,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":48733,"event":"return","thread_id":9960,"parent_id":48732,"elapsed":0.000577334,"elapsed_instrumentation":9.816198144108057e-05},{"id":48734,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":613400,"value":"  \u001b[1m\u001b[36mTRANSACTION (0.7ms)\u001b[0m  \u001b[1m\u001b[35mSAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":48735,"event":"return","thread_id":9960,"parent_id":48734,"elapsed":0.0019684869912452996,"elapsed_instrumentation":0.00017008103895932436,"return_value":{"class":"Integer","value":"75","object_id":151}},{"id":48736,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") = 'bradford_wolf217' AND LOWER(\"accounts\".\"domain\") = 'example.com' LIMIT $1","database_type":"postgres"}},{"id":48737,"event":"return","thread_id":9960,"parent_id":48736,"elapsed":0.004314103,"elapsed_instrumentation":0.00012849096674472094},{"id":48738,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":613420,"value":"  \u001b[1m\u001b[36mAccount Exists? (4.5ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"accounts\" WHERE LOWER(\"accoun (...113 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":48739,"event":"return","thread_id":9960,"parent_id":48738,"elapsed":0.0018801859696395695,"elapsed_instrumentation":0.00019265501759946346,"return_value":{"class":"Integer","value":"213","object_id":427}},{"id":48740,"event":"return","thread_id":9960,"parent_id":48731,"elapsed":0.0074338039848953485,"elapsed_instrumentation":0.00012276304187253118},{"id":48741,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":613320,"value":"#<Account:0x00007f5e0c3d5010>"}},{"id":48742,"event":"return","thread_id":9960,"parent_id":48741,"elapsed":1.4016986824572086e-05,"elapsed_instrumentation":0.0001243619481101632},{"id":48743,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":613320,"value":"#<Account:0x00007f5e0c3d5010>"}},{"id":48744,"event":"return","thread_id":9960,"parent_id":48743,"elapsed":1.0795018170028925e-05,"elapsed_instrumentation":0.00011365499813109636},{"id":48745,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":613320,"value":"#<Account:0x00007f5e0c3d5010>"}},{"id":48746,"event":"return","thread_id":9960,"parent_id":48745,"elapsed":7.678987458348274e-06,"elapsed_instrumentation":6.735604256391525e-05},{"id":48747,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":613320,"value":"#<Account:0x00007f5e0c3d5010>"}},{"id":48748,"event":"return","thread_id":9960,"parent_id":48747,"elapsed":4.797009751200676e-06,"elapsed_instrumentation":6.735394708812237e-05},{"id":48749,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":613320,"value":"#<Account:0x00007f5e0c3d5010>"}},{"id":48750,"event":"return","thread_id":9960,"parent_id":48749,"elapsed":4.315981641411781e-06,"elapsed_instrumentation":5.252799019217491e-05},{"id":48751,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":613320,"value":"#<Account:0x00007f5e0c3d5010>"}},{"id":48752,"event":"return","thread_id":9960,"parent_id":48751,"elapsed":4.632980562746525e-06,"elapsed_instrumentation":5.098897963762283e-05},{"id":48753,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":613320,"value":"#<Account:0x00007f5e0c3d5010>"}},{"id":48754,"event":"return","thread_id":9960,"parent_id":48753,"elapsed":4.1869934648275375e-06,"elapsed_instrumentation":4.928908310830593e-05},{"id":48755,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":613320,"value":"#<Account:0x00007f5e0c3d5010>"}},{"id":48756,"event":"return","thread_id":9960,"parent_id":48755,"elapsed":4.762026946991682e-06,"elapsed_instrumentation":5.332799628376961e-05},{"id":48757,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":613320,"value":"#<Account:0x00007f5e0c3d5010>"}},{"id":48758,"event":"return","thread_id":9960,"parent_id":48757,"elapsed":9.167997632175684e-06,"elapsed_instrumentation":0.0005295969895087183},{"id":48759,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":613320,"value":"#<Account:0x00007f5e0c3d5010>"}},{"id":48760,"event":"return","thread_id":9960,"parent_id":48759,"elapsed":5.02000330016017e-06,"elapsed_instrumentation":8.065596921369433e-05},{"id":48761,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":613320,"value":"#<Account:0x00007f5e0c3d5010>"}},{"id":48762,"event":"return","thread_id":9960,"parent_id":48761,"elapsed":4.430999979376793e-06,"elapsed_instrumentation":5.701399641111493e-05},{"id":48763,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":613320,"value":"#<Account:0x00007f5e0c3d5010>"}},{"id":48764,"event":"return","thread_id":9960,"parent_id":48763,"elapsed":6.1140162870287895e-06,"elapsed_instrumentation":8.660595631226897e-05},{"id":48765,"event":"return","thread_id":9960,"parent_id":48730,"elapsed":0.010527252976316959,"elapsed_instrumentation":0.00038802996277809143,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e12839e20 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12839fd8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a118 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a258 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a398 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a4d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a640 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a780 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a8c0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283aa00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...61 more items)]","object_id":191520,"size":71}},{"id":48766,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613380,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e128690d0>"}},{"id":48767,"event":"return","thread_id":9960,"parent_id":48766,"elapsed":4.5130145736038685e-06,"elapsed_instrumentation":0.00030598300509154797,"return_value":{"class":"Array","value":"[]","object_id":191540,"size":0}},{"id":48768,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613300,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12869170>"}},{"id":48769,"event":"return","thread_id":9960,"parent_id":48768,"elapsed":1.3723969459533691e-05,"elapsed_instrumentation":0.00011735199950635433,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e128520d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":191560,"size":1}},{"id":48770,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12868360>"}},{"id":48771,"event":"return","thread_id":9960,"parent_id":48770,"elapsed":2.748699625954032e-05,"elapsed_instrumentation":0.00010236701928079128,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e1282d120 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":191800,"size":1}},{"id":48772,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12868400>"}},{"id":48773,"event":"return","thread_id":9960,"parent_id":48772,"elapsed":2.8900103643536568e-06,"elapsed_instrumentation":7.891003042459488e-05,"return_value":{"class":"Array","value":"[]","object_id":191840,"size":0}},{"id":48774,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12868270>"}},{"id":48775,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":613320,"value":"#<Account:0x00007f5e0c3d5010>"}},{"id":48776,"event":"return","thread_id":9960,"parent_id":48775,"elapsed":1.3152952305972576e-05,"elapsed_instrumentation":0.00017052999464794993},{"id":48777,"event":"return","thread_id":9960,"parent_id":48774,"elapsed":0.00022613204782828689,"elapsed_instrumentation":0.00012722995597869158,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e1282b988 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":191900,"size":1}},{"id":48778,"event":"call","thread_id":9960,"sql_query":{"sql":"INSERT INTO \"accounts\" (\"username\", \"domain\", \"private_key\", \"public_key\", \"created_at\", \"updated_at\", \"note\", \"display_name\", \"uri\", \"url\", \"avatar_file_name\", \"avatar_content_type\", \"avatar_file_size\", \"avatar_updated_at\", \"header_file_name\", \"header_content_type\", \"header_file_size\", \"header_updated_at\", \"avatar_remote_url\", \"locked\", \"header_remote_url\", \"last_webfingered_at\", \"inbox_url\", \"outbox_url\", \"shared_inbox_url\", \"followers_url\", \"protocol\", \"memorial\", \"moved_to_account_id\", \"featured_collection_url\", \"fields\", \"actor_type\", \"discoverable\", \"also_known_as\", \"silenced_at\", \"suspended_at\", \"hide_collections\", \"avatar_storage_schema_version\", \"header_storage_schema_version\", \"devices_url\", \"suspension_origin\", \"sensitized_at\", \"trendable\", \"reviewed_at\", \"requested_review_at\", \"indexable\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40, $41, $42, $43, $44, $45, $46) RETURNING \"id\"","database_type":"postgres"}},{"id":48779,"event":"return","thread_id":9960,"parent_id":48778,"elapsed":0.001640387,"elapsed_instrumentation":0.00012355000944808125},{"id":48780,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":613480,"value":"  \u001b[1m\u001b[36mAccount Create (1.8ms)\u001b[0m  \u001b[1m\u001b[32mINSERT INTO \"accounts\" (\"username\", \"domain\", \"priva (...4409 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":48781,"event":"return","thread_id":9960,"parent_id":48780,"elapsed":0.002355441974941641,"elapsed_instrumentation":0.0002397960051894188,"return_value":{"class":"Integer","value":"4509","object_id":9019}},{"id":48782,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613460,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12868270>"}},{"id":48783,"event":"return","thread_id":9960,"parent_id":48782,"elapsed":0.0007005039951764047,"elapsed_instrumentation":0.00042182503966614604,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e1282b7d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282b618 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282b460 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282b2a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282b0f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282af38 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282ad80 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282abc8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282aa10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282a858 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...43 more items)]","object_id":192600,"size":53}},{"id":48784,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12868400>"}},{"id":48785,"event":"return","thread_id":9960,"parent_id":48784,"elapsed":6.411981303244829e-06,"elapsed_instrumentation":0.0002453720662742853,"return_value":{"class":"Array","value":"[]","object_id":192620,"size":0}},{"id":48786,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12868360>"}},{"id":48787,"event":"call","thread_id":9960,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":613500,"value":"/avatars/original/missing.png"}},{"id":48788,"event":"return","thread_id":9960,"parent_id":48787,"elapsed":3.90330096706748e-05,"elapsed_instrumentation":0.00027223495999351144,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":48789,"event":"call","thread_id":9960,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":613520,"value":"/headers/original/missing.png"}},{"id":48790,"event":"return","thread_id":9960,"parent_id":48789,"elapsed":2.326403046026826e-05,"elapsed_instrumentation":0.00018464797176420689,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":48791,"event":"return","thread_id":9960,"parent_id":48786,"elapsed":0.0009586449596099555,"elapsed_instrumentation":0.00020971702178940177,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e1282cf68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282cdb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282cbf8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282ca40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":192680,"size":4}},{"id":48792,"event":"call","thread_id":9960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":48793,"event":"return","thread_id":9960,"parent_id":48792,"elapsed":0.000606984,"elapsed_instrumentation":0.00011755398008972406},{"id":48794,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":613540,"value":"  \u001b[1m\u001b[36mTRANSACTION (0.7ms)\u001b[0m  \u001b[1m\u001b[35mRELEASE SAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":48795,"event":"return","thread_id":9960,"parent_id":48794,"elapsed":0.0016872959677129984,"elapsed_instrumentation":0.00018580100731924176,"return_value":{"class":"Integer","value":"83","object_id":167}},{"id":48796,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":195460,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e127a7728>"}},{"id":48797,"event":"return","thread_id":9960,"parent_id":48796,"elapsed":4.564994014799595e-06,"elapsed_instrumentation":0.0001626100274734199,"return_value":{"class":"Array","value":"[]","object_id":195480,"size":0}},{"id":48798,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613560,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":195460,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e127a7728>"}},{"id":48799,"event":"call","thread_id":9960,"defined_class":"DomainMaterializable","method_id":"refresh_instances_view","path":"app/models/concerns/domain_materializable.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":613320,"value":"#<Account:0x00007f5e0c3d5010>"}},{"id":48800,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"instances\" WHERE \"instances\".\"domain\" = $1 LIMIT $2","database_type":"postgres"}},{"id":48801,"event":"return","thread_id":9960,"parent_id":48800,"elapsed":0.002137126,"elapsed_instrumentation":0.00022318202536553144},{"id":48802,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":613580,"value":"  \u001b[1m\u001b[36mInstance Exists? (2.4ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"instances\" WHERE \"instances\" (...71 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":48803,"event":"return","thread_id":9960,"parent_id":48802,"elapsed":0.003712442994583398,"elapsed_instrumentation":0.00041007203981280327,"return_value":{"class":"Integer","value":"171","object_id":343}},{"id":48804,"event":"call","thread_id":9960,"defined_class":"Instance","method_id":"refresh","path":"app/models/instance.rb","lineno":28,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":209300,"value":"Instance"}},{"id":48805,"event":"call","thread_id":9960,"sql_query":{"sql":"REFRESH MATERIALIZED VIEW CONCURRENTLY \"instances\";","database_type":"postgres"}},{"id":48806,"event":"return","thread_id":9960,"parent_id":48805,"elapsed":0.020124026,"elapsed_instrumentation":0.00013276096433401108},{"id":48807,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":613600,"value":"  \u001b[1m\u001b[35m (20.3ms)\u001b[0m  \u001b[1m\u001b[35mREFRESH MATERIALIZED VIEW CONCURRENTLY \"instances\";\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":48808,"event":"return","thread_id":9960,"parent_id":48807,"elapsed":0.0021275620092637837,"elapsed_instrumentation":0.0004883379442617297,"return_value":{"class":"Integer","value":"91","object_id":183}},{"id":48809,"event":"return","thread_id":9960,"parent_id":48804,"elapsed":0.023554973944555968,"elapsed_instrumentation":0.00027273205341771245,"return_value":{"class":"PG::Result","value":"#<PG::Result:0x00007f5e0ef517c0>","object_id":613620}},{"id":48810,"event":"call","thread_id":9960,"defined_class":"DomainMaterializable","method_id":"count_unique_subdomains!","path":"app/models/concerns/domain_materializable.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":613320,"value":"#<Account:0x00007f5e0c3d5010>"}},{"id":48811,"event":"call","thread_id":9960,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":613320,"value":"#<Account:0x00007f5e0c3d5010>"}},{"id":48812,"event":"call","thread_id":9960,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":613640,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":613660,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":27000,"value":"RedisConfiguration"}},{"id":48813,"event":"call","thread_id":9960,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":27000,"value":"RedisConfiguration"}},{"id":48814,"event":"return","thread_id":9960,"parent_id":48813,"elapsed":4.434958100318909e-06,"elapsed_instrumentation":0.00010540202492848039,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007f5e126adbb0>","object_id":209440}},{"id":48815,"event":"return","thread_id":9960,"parent_id":48812,"elapsed":0.0020567249739542603,"elapsed_instrumentation":0.00019456999143585563,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":48816,"event":"return","thread_id":9960,"parent_id":48811,"elapsed":0.002289408992510289,"elapsed_instrumentation":0.00011299498146399856,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":48817,"event":"return","thread_id":9960,"parent_id":48810,"elapsed":0.0025885420036502182,"elapsed_instrumentation":0.00011947698658332229,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":48818,"event":"return","thread_id":9960,"parent_id":48799,"elapsed":0.035087206051684916,"elapsed_instrumentation":7.504894165322185e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":48819,"event":"return","thread_id":9960,"parent_id":48798,"elapsed":0.03537777700694278,"elapsed_instrumentation":0.00022358103888109326,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e12791fe0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12791db0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12791b80 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e127919c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12791810 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12791658 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":195500,"size":6}},{"id":48820,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":613320,"value":"#<Account:0x00007f5e0c3d5010>"}},{"id":48821,"event":"return","thread_id":9960,"parent_id":48820,"elapsed":1.4365999959409237e-05,"elapsed_instrumentation":0.00028263794956728816},{"id":48822,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":215200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc5e10>"}},{"id":48823,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"local?","path":"app/models/status.rb","lineno":188,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":613700,"value":"#<Status:0x00007f5e0eed9590>"}},{"id":48824,"event":"return","thread_id":9960,"parent_id":48823,"elapsed":0.0001250439672730863,"elapsed_instrumentation":7.032300345599651e-05},{"id":48825,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"reblog?","path":"app/models/status.rb","lineno":196,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":613700,"value":"#<Status:0x00007f5e0eed9590>"}},{"id":48826,"event":"return","thread_id":9960,"parent_id":48825,"elapsed":7.237948011606932e-06,"elapsed_instrumentation":6.270804442465305e-05},{"id":48827,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"reblog?","path":"app/models/status.rb","lineno":196,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":613700,"value":"#<Status:0x00007f5e0eed9590>"}},{"id":48828,"event":"return","thread_id":9960,"parent_id":48827,"elapsed":1.0251998901367188e-05,"elapsed_instrumentation":0.00031372607918456197},{"id":48829,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"reply?","path":"app/models/status.rb","lineno":184,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":613700,"value":"#<Status:0x00007f5e0eed9590>"}},{"id":48830,"event":"return","thread_id":9960,"parent_id":48829,"elapsed":5.68820396438241e-05,"elapsed_instrumentation":8.139695273712277e-05},{"id":48831,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":613320,"value":"#<Account:0x00007f5e0c3d5010>"}},{"id":48832,"event":"return","thread_id":9960,"parent_id":48831,"elapsed":8.217000868171453e-06,"elapsed_instrumentation":8.296995656564832e-05},{"id":48833,"event":"return","thread_id":9960,"parent_id":48822,"elapsed":0.0012712889583781362,"elapsed_instrumentation":0.0003028369974344969,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e11a46e08 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11a46f98 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11a47150 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11a47290 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11a473d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11a47510 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":215320,"size":6}},{"id":48834,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":215360,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0eeaeed0>"}},{"id":48835,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"local?","path":"app/models/status.rb","lineno":188,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":613700,"value":"#<Status:0x00007f5e0eed9590>"}},{"id":48836,"event":"return","thread_id":9960,"parent_id":48835,"elapsed":5.6334014516323805e-05,"elapsed_instrumentation":7.54549982957542e-05},{"id":48837,"event":"call","thread_id":9960,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":48838,"event":"return","thread_id":9960,"parent_id":48837,"elapsed":0.000555699,"elapsed_instrumentation":0.00018627900863066316},{"id":48839,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":613740,"value":"  \u001b[1m\u001b[36mTRANSACTION (0.8ms)\u001b[0m  \u001b[1m\u001b[35mSAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":48840,"event":"return","thread_id":9960,"parent_id":48839,"elapsed":0.0020802399958483875,"elapsed_instrumentation":0.00020582100842148066,"return_value":{"class":"Integer","value":"75","object_id":151}},{"id":48841,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"statuses\" WHERE \"statuses\".\"uri\" = $1 LIMIT $2","database_type":"postgres"}},{"id":48842,"event":"return","thread_id":9960,"parent_id":48841,"elapsed":0.004561559,"elapsed_instrumentation":0.0001587460283190012},{"id":48843,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":613760,"value":"  \u001b[1m\u001b[36mStatus Exists? (4.8ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"statuses\" WHERE \"statuses\".\"ur (...114 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":48844,"event":"return","thread_id":9960,"parent_id":48843,"elapsed":0.0017581670545041561,"elapsed_instrumentation":0.00021592696430161595,"return_value":{"class":"Integer","value":"214","object_id":429}},{"id":48845,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"local?","path":"app/models/status.rb","lineno":188,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":613700,"value":"#<Status:0x00007f5e0eed9590>"}},{"id":48846,"event":"return","thread_id":9960,"parent_id":48845,"elapsed":7.512996671721339e-05,"elapsed_instrumentation":0.00011990399798378348},{"id":48847,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"with_media?","path":"app/models/status.rb","lineno":242,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":613700,"value":"#<Status:0x00007f5e0eed9590>"}},{"id":48848,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"ordered_media_attachments","path":"app/models/status.rb","lineno":271,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":613700,"value":"#<Status:0x00007f5e0eed9590>"}},{"id":48849,"event":"return","thread_id":9960,"parent_id":48848,"elapsed":0.0005674010026268661,"elapsed_instrumentation":0.00014899502275511622,"return_value":{"class":"ActiveRecord::Associations::CollectionProxy","value":"#<MediaAttachment::ActiveRecord_Associations_CollectionProxy:0x00007f5e07fc8b60>","object_id":613780}},{"id":48850,"event":"return","thread_id":9960,"parent_id":48847,"elapsed":0.0017457990325056016,"elapsed_instrumentation":8.334999438375235e-05},{"id":48851,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"reblog?","path":"app/models/status.rb","lineno":196,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":613700,"value":"#<Status:0x00007f5e0eed9590>"}},{"id":48852,"event":"return","thread_id":9960,"parent_id":48851,"elapsed":1.3368960935622454e-05,"elapsed_instrumentation":0.0001275110407732427},{"id":48853,"event":"call","thread_id":9960,"defined_class":"StatusLengthValidator","method_id":"validate","path":"app/validators/status_length_validator.rb","lineno":8,"static":false,"parameters":[{"name":"status","class":"Status","object_id":613700,"value":"#<Status:0x00007f5e0eed9590>","kind":"req"}],"receiver":{"class":"StatusLengthValidator","object_id":215720,"value":"#<StatusLengthValidator:0x00007f5e183d73e0>"}},{"id":48854,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"local?","path":"app/models/status.rb","lineno":188,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":613700,"value":"#<Status:0x00007f5e0eed9590>"}},{"id":48855,"event":"return","thread_id":9960,"parent_id":48854,"elapsed":8.377496851608157e-05,"elapsed_instrumentation":0.00014578603440895677},{"id":48856,"event":"return","thread_id":9960,"parent_id":48853,"elapsed":0.0002703439677134156,"elapsed_instrumentation":0.00024346099235117435},{"id":48857,"event":"call","thread_id":9960,"defined_class":"DisallowedHashtagsValidator","method_id":"validate","path":"app/validators/disallowed_hashtags_validator.rb","lineno":4,"static":false,"parameters":[{"name":"status","class":"Status","object_id":613700,"value":"#<Status:0x00007f5e0eed9590>","kind":"req"}],"receiver":{"class":"DisallowedHashtagsValidator","object_id":215740,"value":"#<DisallowedHashtagsValidator:0x00007f5e183d3d08>"}},{"id":48858,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"local?","path":"app/models/status.rb","lineno":188,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":613700,"value":"#<Status:0x00007f5e0eed9590>"}},{"id":48859,"event":"return","thread_id":9960,"parent_id":48858,"elapsed":5.008798325434327e-05,"elapsed_instrumentation":6.465800106525421e-05},{"id":48860,"event":"return","thread_id":9960,"parent_id":48857,"elapsed":0.00013723497977480292,"elapsed_instrumentation":0.00010986300185322762},{"id":48861,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"reblog?","path":"app/models/status.rb","lineno":196,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":613700,"value":"#<Status:0x00007f5e0eed9590>"}},{"id":48862,"event":"return","thread_id":9960,"parent_id":48861,"elapsed":1.1419993825256824e-05,"elapsed_instrumentation":0.0005145089817233384},{"id":48863,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"reblog?","path":"app/models/status.rb","lineno":196,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":613700,"value":"#<Status:0x00007f5e0eed9590>"}},{"id":48864,"event":"return","thread_id":9960,"parent_id":48863,"elapsed":1.0646996088325977e-05,"elapsed_instrumentation":9.300903184339404e-05},{"id":48865,"event":"return","thread_id":9960,"parent_id":48834,"elapsed":0.012201978010125458,"elapsed_instrumentation":0.00028824200853705406,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e119bbba0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e119bbd58 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e119bbe98 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e119bc078 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e119bc1b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e119bc2f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e119bc438 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e119bc578 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e119bc6b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e119bc7f8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...18 more items)]","object_id":215760,"size":28}},{"id":48866,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613720,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":215360,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0eeaeed0>"}},{"id":48867,"event":"return","thread_id":9960,"parent_id":48866,"elapsed":5.6380522437393665e-06,"elapsed_instrumentation":0.00016072700964286923,"return_value":{"class":"Array","value":"[]","object_id":215780,"size":0}},{"id":48868,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613680,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":215200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0edc5e10>"}},{"id":48869,"event":"return","thread_id":9960,"parent_id":48868,"elapsed":1.2327975127846003e-05,"elapsed_instrumentation":0.0003043590113520622,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e11a46ca0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":215800,"size":1}},{"id":48870,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":215840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2f88>"}},{"id":48871,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":215880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2da8>"}},{"id":48872,"event":"return","thread_id":9960,"parent_id":48871,"elapsed":1.5027006156742573e-05,"elapsed_instrumentation":0.00013704504817724228,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0f36e830 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":215900,"size":1}},{"id":48873,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":215940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2cb8>"}},{"id":48874,"event":"return","thread_id":9960,"parent_id":48873,"elapsed":5.671102553606033e-05,"elapsed_instrumentation":0.00020526099251583219,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0f36d3b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f36d570 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f36d7c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":215960,"size":3}},{"id":48875,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613840,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":215940,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2cb8>"}},{"id":48876,"event":"return","thread_id":9960,"parent_id":48875,"elapsed":6.131012924015522e-06,"elapsed_instrumentation":0.00016832095570862293,"return_value":{"class":"Array","value":"[]","object_id":215980,"size":0}},{"id":48877,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613820,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":215880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2da8>"}},{"id":48878,"event":"return","thread_id":9960,"parent_id":48877,"elapsed":1.5388010069727898e-05,"elapsed_instrumentation":0.00016153603792190552,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0f36e6f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":216000,"size":1}},{"id":48879,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216040,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2a38>"}},{"id":48880,"event":"return","thread_id":9960,"parent_id":48879,"elapsed":4.95201675221324e-06,"elapsed_instrumentation":0.00014251895481720567,"return_value":{"class":"Array","value":"[]","object_id":216060,"size":0}},{"id":48881,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216080,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2a88>"}},{"id":48882,"event":"return","thread_id":9960,"parent_id":48881,"elapsed":5.209993105381727e-06,"elapsed_instrumentation":0.00021241902140900493,"return_value":{"class":"Array","value":"[]","object_id":216100,"size":0}},{"id":48883,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2768>"}},{"id":48884,"event":"return","thread_id":9960,"parent_id":48883,"elapsed":3.3570104278624058e-06,"elapsed_instrumentation":0.00011081004049628973,"return_value":{"class":"Array","value":"[]","object_id":216160,"size":0}},{"id":48885,"event":"call","thread_id":9960,"sql_query":{"sql":"INSERT INTO \"conversations\" (\"uri\", \"created_at\", \"updated_at\") VALUES ($1, $2, $3) RETURNING \"id\"","database_type":"postgres"}},{"id":48886,"event":"return","thread_id":9960,"parent_id":48885,"elapsed":0.000995606,"elapsed_instrumentation":9.53350099734962e-05},{"id":48887,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":613900,"value":"  \u001b[1m\u001b[36mConversation Create (1.1ms)\u001b[0m  \u001b[1m\u001b[32mINSERT INTO \"conversations\" (\"uri\", \"created_at (...164 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":48888,"event":"return","thread_id":9960,"parent_id":48887,"elapsed":0.002015102014411241,"elapsed_instrumentation":0.00018422800349071622,"return_value":{"class":"Integer","value":"264","object_id":529}},{"id":48889,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613880,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216140,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2768>"}},{"id":48890,"event":"return","thread_id":9960,"parent_id":48889,"elapsed":5.1239971071481705e-05,"elapsed_instrumentation":0.00045844499254599214,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0f368840 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":216200,"size":1}},{"id":48891,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216080,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2a88>"}},{"id":48892,"event":"return","thread_id":9960,"parent_id":48891,"elapsed":3.825000021606684e-06,"elapsed_instrumentation":0.00011139607522636652,"return_value":{"class":"Array","value":"[]","object_id":216220,"size":0}},{"id":48893,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216040,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2a38>"}},{"id":48894,"event":"return","thread_id":9960,"parent_id":48893,"elapsed":2.5840126909315586e-06,"elapsed_instrumentation":7.979496149346232e-05,"return_value":{"class":"Array","value":"[]","object_id":216240,"size":0}},{"id":48895,"event":"return","thread_id":9960,"parent_id":48870,"elapsed":0.0073907540063373744,"elapsed_instrumentation":0.0002541069989092648,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e115f0160 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e115f02a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e115f03e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e115f0520 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e115f0660 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e115f07a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e115f08e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":216260,"size":7}},{"id":48896,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2fd8>"}},{"id":48897,"event":"return","thread_id":9960,"parent_id":48896,"elapsed":4.6539935283362865e-06,"elapsed_instrumentation":0.0001386079820804298,"return_value":{"class":"Array","value":"[]","object_id":216300,"size":0}},{"id":48898,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e1b88>"}},{"id":48899,"event":"return","thread_id":9960,"parent_id":48898,"elapsed":3.496999852359295e-06,"elapsed_instrumentation":0.0001318500144407153,"return_value":{"class":"Array","value":"[]","object_id":216360,"size":0}},{"id":48900,"event":"call","thread_id":9960,"defined_class":"Mastodon::Snowflake::Callbacks","method_id":"around_create","path":"lib/mastodon/snowflake.rb","lineno":7,"static":true,"parameters":[{"name":"record","class":"Status","object_id":613700,"value":"#<Status:0x00007f5e0eed9590>","kind":"req"}],"receiver":{"class":"Class","object_id":216380,"value":"Mastodon::Snowflake::Callbacks"}},{"id":48901,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e1c28>"}},{"id":48902,"event":"return","thread_id":9960,"parent_id":48901,"elapsed":5.418958608061075e-06,"elapsed_instrumentation":0.000134437985252589,"return_value":{"class":"Array","value":"[]","object_id":216420,"size":0}},{"id":48903,"event":"call","thread_id":9960,"sql_query":{"sql":"INSERT INTO \"statuses\" (\"uri\", \"text\", \"created_at\", \"updated_at\", \"in_reply_to_id\", \"reblog_of_id\", \"url\", \"sensitive\", \"visibility\", \"spoiler_text\", \"reply\", \"language\", \"conversation_id\", \"local\", \"account_id\", \"application_id\", \"in_reply_to_account_id\", \"poll_id\", \"deleted_at\", \"edited_at\", \"trendable\", \"ordered_media_attachment_ids\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22) RETURNING \"id\"","database_type":"postgres"}},{"id":48904,"event":"return","thread_id":9960,"parent_id":48903,"elapsed":0.001997877,"elapsed_instrumentation":0.0001029829727485776},{"id":48905,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":613940,"value":"  \u001b[1m\u001b[36mStatus Create (2.1ms)\u001b[0m  \u001b[1m\u001b[32mINSERT INTO \"statuses\" (\"uri\", \"text\", \"created_at\",  (...1045 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":48906,"event":"return","thread_id":9960,"parent_id":48905,"elapsed":0.0016054210136644542,"elapsed_instrumentation":0.00046021799789741635,"return_value":{"class":"Integer","value":"1145","object_id":2291}},{"id":48907,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216400,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e1c28>"}},{"id":48908,"event":"return","thread_id":9960,"parent_id":48907,"elapsed":6.6810171119868755e-06,"elapsed_instrumentation":0.000281433982308954,"return_value":{"class":"Array","value":"[]","object_id":216460,"size":0}},{"id":48909,"event":"return","thread_id":9960,"parent_id":48900,"elapsed":0.007500854029785842,"elapsed_instrumentation":0.00011591595830395818,"return_value":{"class":"Integer","value":"111362565049685871","object_id":222725130099371743}},{"id":48910,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613920,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216340,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e1b88>"}},{"id":48911,"event":"call","thread_id":9960,"defined_class":"RateLimitable","method_id":"rate_limit?","path":"app/models/concerns/rate_limitable.rb","lineno":10,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":613700,"value":"#<Status:0x00007f5e0eed9590>"}},{"id":48912,"event":"return","thread_id":9960,"parent_id":48911,"elapsed":8.48202034831047e-06,"elapsed_instrumentation":0.00011914002243429422},{"id":48913,"event":"return","thread_id":9960,"parent_id":48910,"elapsed":0.0004633179632946849,"elapsed_instrumentation":0.00023007800336927176,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0f360be0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f360a28 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f360848 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f360690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f3604d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f360320 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f360168 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f386408 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f38feb8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f38fd00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...14 more items)]","object_id":216580,"size":24}},{"id":48914,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216280,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2fd8>"}},{"id":48915,"event":"return","thread_id":9960,"parent_id":48914,"elapsed":3.951019607484341e-06,"elapsed_instrumentation":0.00022784899920225143,"return_value":{"class":"Array","value":"[]","object_id":216600,"size":0}},{"id":48916,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":613800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":215840,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f2e2f88>"}},{"id":48917,"event":"return","thread_id":9960,"parent_id":48916,"elapsed":0.0001674240338616073,"elapsed_instrumentation":0.0001464919769205153,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0f36ff78 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":216780,"size":1}},{"id":48918,"event":"call","thread_id":9960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":48919,"event":"return","thread_id":9960,"parent_id":48918,"elapsed":0.00068776,"elapsed_instrumentation":0.00010969501454383135},{"id":48920,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":613960,"value":"  \u001b[1m\u001b[36mTRANSACTION (0.8ms)\u001b[0m  \u001b[1m\u001b[35mRELEASE SAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":48921,"event":"return","thread_id":9960,"parent_id":48920,"elapsed":0.0025384000036865473,"elapsed_instrumentation":0.00018288899445906281,"return_value":{"class":"Integer","value":"83","object_id":167}},{"id":48922,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":614000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f3bc850>"}},{"id":48923,"event":"return","thread_id":9960,"parent_id":48922,"elapsed":6.7889923229813576e-06,"elapsed_instrumentation":0.00019003200577571988,"return_value":{"class":"Array","value":"[]","object_id":216880,"size":0}},{"id":48924,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":614000,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":216860,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0f3bc850>"}},{"id":48925,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"local?","path":"app/models/status.rb","lineno":188,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":613700,"value":"#<Status:0x00007f5e0eed9590>"}},{"id":48926,"event":"return","thread_id":9960,"parent_id":48925,"elapsed":0.00044243596494197845,"elapsed_instrumentation":8.02560243755579e-05},{"id":48927,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"local?","path":"app/models/status.rb","lineno":188,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":613700,"value":"#<Status:0x00007f5e0eed9590>"}},{"id":48928,"event":"return","thread_id":9960,"parent_id":48927,"elapsed":5.3055991884320974e-05,"elapsed_instrumentation":9.959697490558028e-05},{"id":48929,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"increment_count!","path":"app/models/concerns/account_counters.rb","lineno":23,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17227228,"value":":statuses_count","kind":"req"}],"receiver":{"class":"Account","object_id":613320,"value":"#<Account:0x00007f5e0c3d5010>"}},{"id":48930,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"update_count!","path":"app/models/concerns/account_counters.rb","lineno":34,"static":false,"parameters":[{"name":"key","class":"Symbol","object_id":17227228,"value":":statuses_count","kind":"req"},{"name":"value","class":"Integer","object_id":3,"value":"1","kind":"req"}],"receiver":{"class":"Account","object_id":613320,"value":"#<Account:0x00007f5e0c3d5010>"}},{"id":48931,"event":"call","thread_id":9960,"sql_query":{"sql":"INSERT INTO account_stats(account_id, statuses_count, created_at, updated_at, last_status_at) VALUES (111362565049722351, 1, now(), now(), now()) ON CONFLICT (account_id) DO UPDATE SET statuses_count = account_stats.statuses_count + 1, last_status_at = now(), updated_at = now() RETURNING id;","database_type":"postgres"}},{"id":48932,"event":"return","thread_id":9960,"parent_id":48931,"elapsed":0.001351713,"elapsed_instrumentation":0.00027141597820445895},{"id":48933,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":614020,"value":"  \u001b[1m\u001b[35mSQL (1.7ms)\u001b[0m  \u001b[1m\u001b[32mINSERT INTO account_stats(account_id, statuses_count, created_a (...234 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":48934,"event":"return","thread_id":9960,"parent_id":48933,"elapsed":0.002191408013459295,"elapsed_instrumentation":0.00024317100178450346,"return_value":{"class":"Integer","value":"334","object_id":669}},{"id":48935,"event":"return","thread_id":9960,"parent_id":48930,"elapsed":0.004952313960529864,"elapsed_instrumentation":8.808600250631571e-05},{"id":48936,"event":"return","thread_id":9960,"parent_id":48929,"elapsed":0.005065986013505608,"elapsed_instrumentation":9.899603901430964e-05},{"id":48937,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"reblog?","path":"app/models/status.rb","lineno":196,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":613700,"value":"#<Status:0x00007f5e0eed9590>"}},{"id":48938,"event":"return","thread_id":9960,"parent_id":48937,"elapsed":1.632998464629054e-05,"elapsed_instrumentation":0.00028831494273617864},{"id":48939,"event":"call","thread_id":9960,"defined_class":"Status","method_id":"local?","path":"app/models/status.rb","lineno":188,"static":false,"parameters":[],"receiver":{"class":"Status","object_id":613700,"value":"#<Status:0x00007f5e0eed9590>"}},{"id":48940,"event":"return","thread_id":9960,"parent_id":48939,"elapsed":6.269000004976988e-05,"elapsed_instrumentation":8.204701589420438e-05},{"id":48941,"event":"return","thread_id":9960,"parent_id":48924,"elapsed":0.006554233958013356,"elapsed_instrumentation":0.0001726680202409625,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0f1af030 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f1aee00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f1aec48 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f1aea90 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f1ae8d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0f1ae720 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":216920,"size":6}},{"id":48942,"event":"call","thread_id":9960,"defined_class":"JsonLdHelper","method_id":"non_matching_uri_hosts?","path":"app/helpers/jsonld_helper.rb","lineno":66,"static":false,"parameters":[{"name":"base_url","class":"String","object_id":614040,"value":"http://example.com/account","kind":"req"},{"name":"comparison_url","class":"String","object_id":614060,"value":"http://example.com/replies/1","kind":"req"}],"receiver":{"class":"ActivityPub::FetchRepliesService","object_id":614080,"value":"#<ActivityPub::FetchRepliesService:0x00007f5e0c78c910>"}},{"id":48943,"event":"call","thread_id":9960,"defined_class":"JsonLdHelper","method_id":"unsupported_uri_scheme?","path":"app/helpers/jsonld_helper.rb","lineno":62,"static":false,"parameters":[{"name":"uri","class":"String","object_id":614060,"value":"http://example.com/replies/1","kind":"req"}],"receiver":{"class":"ActivityPub::FetchRepliesService","object_id":614080,"value":"#<ActivityPub::FetchRepliesService:0x00007f5e0c78c910>"}},{"id":48944,"event":"return","thread_id":9960,"parent_id":48943,"elapsed":5.69300027564168e-06,"elapsed_instrumentation":0.00010190997272729874},{"id":48945,"event":"return","thread_id":9960,"parent_id":48942,"elapsed":0.0002725709928199649,"elapsed_instrumentation":0.00012033601524308324},{"id":48946,"event":"call","thread_id":9960,"defined_class":"JsonLdHelper","method_id":"fetch_resource_without_id_validation","path":"app/helpers/jsonld_helper.rb","lineno":171,"static":false,"parameters":[{"name":"uri","class":"String","object_id":614060,"value":"http://example.com/replies/1","kind":"req"},{"name":"on_behalf_of","class":"NilClass","object_id":4,"value":null,"kind":"opt"},{"name":"raise_on_temporary_error","class":"TrueClass","object_id":20,"value":"true","kind":"opt"}],"receiver":{"class":"ActivityPub::FetchRepliesService","object_id":614080,"value":"#<ActivityPub::FetchRepliesService:0x00007f5e0c78c910>"}},{"id":48947,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":48948,"event":"return","thread_id":9960,"parent_id":48947,"elapsed":0.001501021,"elapsed_instrumentation":9.576196316629648e-05},{"id":48949,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":614100,"value":"  \u001b[1m\u001b[36mAccount Load (1.6ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accoun (...1349 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":48950,"event":"return","thread_id":9960,"parent_id":48949,"elapsed":0.0027670920244418085,"elapsed_instrumentation":0.00019036495359614491,"return_value":{"class":"Integer","value":"1449","object_id":2899}},{"id":48951,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"ensure_keys!","path":"app/models/account.rb","lineno":478,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":614120,"value":"#<Account:0x00007f5e0c3d35d0>"}},{"id":48952,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":614120,"value":"#<Account:0x00007f5e0c3d35d0>"}},{"id":48953,"event":"return","thread_id":9960,"parent_id":48952,"elapsed":2.7982983738183975e-05,"elapsed_instrumentation":0.000316446996293962,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":48954,"event":"return","thread_id":9960,"parent_id":48951,"elapsed":0.00039291102439165115,"elapsed_instrumentation":0.00014117202954366803},{"id":48955,"event":"call","thread_id":9960,"defined_class":"JsonLdHelper","method_id":"build_request","path":"app/helpers/jsonld_helper.rb","lineno":207,"static":false,"parameters":[{"name":"uri","class":"String","object_id":614060,"value":"http://example.com/replies/1","kind":"req"},{"name":"on_behalf_of","class":"Account","object_id":614120,"value":"#<Account:0x00007f5e0c3d35d0>","kind":"opt"}],"receiver":{"class":"ActivityPub::FetchRepliesService","object_id":614080,"value":"#<ActivityPub::FetchRepliesService:0x00007f5e0c78c910>"}},{"id":48956,"event":"call","thread_id":9960,"defined_class":"Mastodon::Version","method_id":"user_agent","path":"lib/mastodon/version.rb","lineno":67,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":172680,"value":"4.3.0-alpha.0"}},{"id":48957,"event":"return","thread_id":9960,"parent_id":48956,"elapsed":3.0410010367631912e-06,"elapsed_instrumentation":0.00025400699814781547,"return_value":{"class":"String","value":"http.rb/5.1.1 (Mastodon/4.3.0-alpha.0; +https://cb6e6126.ngrok.io/)","object_id":172740}},{"id":48958,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"on_behalf_of","path":"app/lib/request.rb","lineno":91,"static":false,"parameters":[{"name":"actor","class":"Account","object_id":614120,"value":"#<Account:0x00007f5e0c3d35d0>","kind":"req"},{"name":"sign_with","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Request","object_id":614140,"value":"#<Request:0x00007f5e0c780570>"}},{"id":48959,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"keypair","path":"app/models/account.rb","lineno":293,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":614120,"value":"#<Account:0x00007f5e0c3d35d0>"}},{"id":48960,"event":"return","thread_id":9960,"parent_id":48959,"elapsed":0.0001375370193272829,"elapsed_instrumentation":0.00012695795157924294,"return_value":{"class":"OpenSSL::PKey::RSA","value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEAwOoRZ/kKHE6l6rFVXMcYXjVHGdSO42IN8MpouM+PkpAAieMD\nz6t","object_id":614160}},{"id":48961,"event":"return","thread_id":9960,"parent_id":48958,"elapsed":0.0002910909825004637,"elapsed_instrumentation":0.00012769404565915465,"return_value":{"class":"Request","value":"#<Request:0x00007f5e0c780570>","object_id":614140}},{"id":48962,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"add_headers","path":"app/lib/request.rb","lineno":100,"static":false,"parameters":[{"name":"new_headers","class":"Hash","object_id":614180,"value":"{Accept=>application/activity+json, application/ld+json}","kind":"req","size":1}],"receiver":{"class":"Request","object_id":614140,"value":"#<Request:0x00007f5e0c780570>"}},{"id":48963,"event":"return","thread_id":9960,"parent_id":48962,"elapsed":5.353009328246117e-06,"elapsed_instrumentation":0.00012442597653716803,"return_value":{"class":"Request","value":"#<Request:0x00007f5e0c780570>","object_id":614140}},{"id":48964,"event":"return","thread_id":9960,"parent_id":48955,"elapsed":0.00132605095859617,"elapsed_instrumentation":0.0006057979771867394,"return_value":{"class":"Request","value":"#<Request:0x00007f5e0c780570>","object_id":614140}},{"id":48965,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"perform","path":"app/lib/request.rb","lineno":105,"static":false,"parameters":[],"receiver":{"class":"Request","object_id":614140,"value":"#<Request:0x00007f5e0c780570>"}},{"id":48966,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"http_client","path":"app/lib/request.rb","lineno":141,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":33060,"value":"Request"}},{"id":48967,"event":"return","thread_id":9960,"parent_id":48966,"elapsed":6.286898860707879e-05,"elapsed_instrumentation":0.0001202900311909616,"return_value":{"class":"HTTP::Client","value":"#<HTTP::Client:0x00007f5e0ed5b268>","object_id":614200}},{"id":48968,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"headers","path":"app/lib/request.rb","lineno":126,"static":false,"parameters":[],"receiver":{"class":"Request","object_id":614140,"value":"#<Request:0x00007f5e0c780570>"}},{"id":48969,"event":"call","thread_id":9960,"defined_class":"OpenSSL::PKey::PKey","method_id":"sign","path":"OpenSSL::PKey::PKey#sign","static":false,"parameters":[{"name":"arg","class":"Array","object_id":614220,"value":"[e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855, (request-target): get /replies/1\nhost: example.com\ndate: Mon, 06 Nov 2023 08:04:49 GMT\naccept: appli (...41 more characters)]","kind":"rest","size":2}],"receiver":{"class":"OpenSSL::PKey::RSA","object_id":614160,"value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEAwOoRZ/kKHE6l6rFVXMcYXjVHGdSO42IN8MpouM+PkpAAieMD\nz6t"}},{"id":48970,"event":"return","thread_id":9960,"parent_id":48969,"elapsed":0.0017165339668281376,"elapsed_instrumentation":0.00021205103257670999,"return_value":{"class":"String","value":"\u0007\"z_OiVZ___\u0017_[_/#______t_G__\u001a__\u0004p\"_J*_A_I_____g_\u001d______T______f)____]t&__\u0010__\r_N\u0006r&M_\u001e_8Z+__[_\u0016____& (...156 more characters)","object_id":614240}},{"id":48971,"event":"call","thread_id":9960,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":207640,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":614260,"value":"[\u0007\"z_OiVZ___\u0017_[_/#______t_G__\u001a__\u0004p\"_J*_A_I_____g_\u001d______T______f)____]t&__\u0010__\r_N\u0006r&M_\u001e_8Z+__[_\u0016____& (...156 more characters)]"}},{"id":48972,"event":"return","thread_id":9960,"parent_id":48971,"elapsed":8.322997018694878e-06,"elapsed_instrumentation":0.00013048900291323662,"return_value":{"class":"String","value":"ByJ6iU9pVlqM+KMXwlu1LyPcpOGxyeh0+0eW6BrtwwRwIr1KKsBBvEneyM1/m/hn9B3vru7d0LNUmo7JnPfgZinO7/OdXXQmuYwQ (...244 more characters)","object_id":614280}},{"id":48973,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"key_uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":53,"static":false,"parameters":[{"name":"target","class":"Account","object_id":614120,"value":"#<Account:0x00007f5e0c3d35d0>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":48974,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":614120,"value":"#<Account:0x00007f5e0c3d35d0>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":48975,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":614120,"value":"#<Account:0x00007f5e0c3d35d0>"}},{"id":48976,"event":"return","thread_id":9960,"parent_id":48975,"elapsed":9.748036973178387e-06,"elapsed_instrumentation":7.197697414085269e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":48977,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":614120,"value":"#<Account:0x00007f5e0c3d35d0>"}},{"id":48978,"event":"return","thread_id":9960,"parent_id":48977,"elapsed":3.2730167731642723e-06,"elapsed_instrumentation":6.764900172129273e-05,"return_value":{"class":"Symbol","value":":person","object_id":20695068}},{"id":48979,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":614120,"value":"#<Account:0x00007f5e0c3d35d0>"}},{"id":48980,"event":"return","thread_id":9960,"parent_id":48979,"elapsed":0.00015841005370020866,"elapsed_instrumentation":8.9749984908849e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":48981,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":48982,"event":"return","thread_id":9960,"parent_id":48981,"elapsed":5.892012268304825e-06,"elapsed_instrumentation":0.00023025699192658067,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":48983,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":48984,"event":"return","thread_id":9960,"parent_id":48983,"elapsed":5.862035322934389e-06,"elapsed_instrumentation":0.00020739599131047726,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":48985,"event":"return","thread_id":9960,"parent_id":48974,"elapsed":0.0011935580405406654,"elapsed_instrumentation":0.0002192029496654868,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/actor","object_id":614300}},{"id":48986,"event":"return","thread_id":9960,"parent_id":48973,"elapsed":0.0014573130174539983,"elapsed_instrumentation":0.00014424894470721483,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/actor#main-key","object_id":614320}},{"id":48987,"event":"return","thread_id":9960,"parent_id":48968,"elapsed":0.0038131180335767567,"elapsed_instrumentation":0.00024128000950440764,"return_value":{"class":"Hash","value":"{User-Agent=>http.rb/5.1.1 (Mastodon/4.3.0-alpha.0; +https://cb6e6126.ngrok.io/), Host=>example.com, Date=>Mon, 06 Nov 2023 08:04:49 GMT, Accept-Encoding=>gzip, Accept=>application/activity+json, application/ld+json, Signature=>keyId=\"https://cb6e6126.ngrok.io/actor#main-key\",algorithm=\"rsa-sha256\",headers=\"(request-target) ho (...372 more characters)}","object_id":614340,"size":6}},{"id":48988,"event":"call","thread_id":9960,"defined_class":"JsonLdHelper","method_id":"response_successful?","path":"app/helpers/jsonld_helper.rb","lineno":199,"static":false,"parameters":[{"name":"response","class":"HTTP::Response","object_id":614400,"value":"{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"type\":\"OrderedCollection\",\"id\":\"http://example.","kind":"req"}],"receiver":{"class":"ActivityPub::FetchRepliesService","object_id":614080,"value":"#<ActivityPub::FetchRepliesService:0x00007f5e0c78c910>"}},{"id":48989,"event":"return","thread_id":9960,"parent_id":48988,"elapsed":9.934010449796915e-06,"elapsed_instrumentation":0.00021123996702954173,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":48990,"event":"call","thread_id":9960,"defined_class":"Request::ClientLimit","method_id":"body_with_limit","path":"app/lib/request.rb","lineno":227,"static":false,"parameters":[{"name":"limit","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"HTTP::Response","object_id":614400,"value":"{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"type\":\"OrderedCollection\",\"id\":\"http://example."}},{"id":48991,"event":"call","thread_id":9960,"defined_class":"Request::ClientLimit","method_id":"truncated_body","path":"app/lib/request.rb","lineno":204,"static":false,"parameters":[{"name":"limit","class":"Integer","object_id":2097153,"value":"1048576","kind":"opt"}],"receiver":{"class":"HTTP::Response","object_id":614400,"value":"{\"@context\":\"https://www.w3.org/ns/activitystreams\",\"type\":\"OrderedCollection\",\"id\":\"http://example."}},{"id":48992,"event":"return","thread_id":9960,"parent_id":48991,"elapsed":0.00016699801199138165,"elapsed_instrumentation":0.00036185700446367264,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":614420,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":48993,"event":"return","thread_id":9960,"parent_id":48990,"elapsed":0.0005895349895581603,"elapsed_instrumentation":0.00012030400102958083,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":614420,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":48994,"event":"return","thread_id":9960,"parent_id":48965,"elapsed":0.00916406698524952,"elapsed_instrumentation":0.000211825012229383,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":614420,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":48995,"event":"return","thread_id":9960,"parent_id":48946,"elapsed":0.017916999000590295,"elapsed_instrumentation":0.00017598399426788092,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":614420,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]}]}