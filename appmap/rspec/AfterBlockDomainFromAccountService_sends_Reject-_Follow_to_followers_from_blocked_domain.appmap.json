{
  "events": [
    {
      "id": 1,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "AccountInteractions",
      "method_id": "follow!",
      "path": "app/models/concerns/account_interactions.rb",
      "lineno": 115,
      "static": false,
      "parameters": [
        {
          "name": "other_account",
          "class": "Account",
          "object_id": 1463540,
          "value": "#<Account:0x00007fc930fe2580>",
          "kind": "req"
        },
        {
          "name": "reblogs",
          "class": "NilClass",
          "object_id": 4,
          "value": null,
          "kind": "key"
        },
        {
          "name": "notify",
          "class": "NilClass",
          "object_id": 4,
          "value": null,
          "kind": "key"
        },
        {
          "name": "languages",
          "class": "NilClass",
          "object_id": 4,
          "value": null,
          "kind": "key"
        },
        {
          "name": "uri",
          "class": "NilClass",
          "object_id": 4,
          "value": null,
          "kind": "key"
        },
        {
          "name": "rate_limit",
          "class": "NilClass",
          "object_id": 4,
          "value": null,
          "kind": "key"
        },
        {
          "name": "bypass_limit",
          "class": "NilClass",
          "object_id": 4,
          "value": null,
          "kind": "key"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 1463520,
        "value": "#<Account:0x00007fc930fe2e40>"
      }
    },
    {
      "id": 2,
      "event": "call",
      "thread_id": 9160,
      "sql_query": {
        "sql": "SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3",
        "database_type": "postgres"
      }
    },
    {
      "id": 3,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 2,
      "elapsed": 0.00053308,
      "elapsed_instrumentation": 0.00007955601904541254
    },
    {
      "id": 4,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "RateLimitable",
      "method_id": "rate_limit=",
      "path": "app/models/concerns/rate_limitable.rb",
      "lineno": 6,
      "static": false,
      "parameters": [
        {
          "name": "value",
          "class": "FalseClass",
          "object_id": 0,
          "value": "false",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Follow",
        "object_id": 1463580,
        "value": "#<Follow:0x00007fc93287b1a0>"
      }
    },
    {
      "id": 5,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 4,
      "elapsed": 0.000005501031409949064,
      "elapsed_instrumentation": 0.0004244539886713028
    },
    {
      "id": 6,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "FollowLimitable",
      "method_id": "bypass_follow_limit=",
      "path": "app/models/concerns/follow_limitable.rb",
      "lineno": 10,
      "static": false,
      "parameters": [
        {
          "name": "value",
          "class": "FalseClass",
          "object_id": 0,
          "value": "false",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Follow",
        "object_id": 1463580,
        "value": "#<Follow:0x00007fc93287b1a0>"
      }
    },
    {
      "id": 7,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 6,
      "elapsed": 0.000003783963620662689,
      "elapsed_instrumentation": 0.00006120302714407444
    },
    {
      "id": 8,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "RateLimitable",
      "method_id": "rate_limit=",
      "path": "app/models/concerns/rate_limitable.rb",
      "lineno": 6,
      "static": false,
      "parameters": [
        {
          "name": "value",
          "class": "FalseClass",
          "object_id": 0,
          "value": "false",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Follow",
        "object_id": 1463580,
        "value": "#<Follow:0x00007fc93287b1a0>"
      }
    },
    {
      "id": 9,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 8,
      "elapsed": 0.000003222026862204075,
      "elapsed_instrumentation": 0.00007700792048126459
    },
    {
      "id": 10,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "FollowLimitable",
      "method_id": "bypass_follow_limit=",
      "path": "app/models/concerns/follow_limitable.rb",
      "lineno": 10,
      "static": false,
      "parameters": [
        {
          "name": "value",
          "class": "FalseClass",
          "object_id": 0,
          "value": "false",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Follow",
        "object_id": 1463580,
        "value": "#<Follow:0x00007fc93287b1a0>"
      }
    },
    {
      "id": 11,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 10,
      "elapsed": 0.000002563989255577326,
      "elapsed_instrumentation": 0.000055983022321015596
    },
    {
      "id": 12,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActiveSupport::Callbacks::CallbackSequence",
      "method_id": "invoke_before",
      "path": "vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb",
      "lineno": 597,
      "static": false,
      "parameters": [
        {
          "name": "arg",
          "class": "ActiveSupport::Callbacks::Filters::Environment",
          "object_id": 1463600,
          "value": null,
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "ActiveSupport::Callbacks::CallbackSequence",
        "object_id": 1342060,
        "value": "#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931931ff0>"
      }
    },
    {
      "id": 13,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::TagManager",
      "method_id": "generate_uri_for",
      "path": "app/lib/activitypub/tag_manager.rb",
      "lineno": 61,
      "static": false,
      "parameters": [
        {
          "name": "_target",
          "class": "Follow",
          "object_id": 1463580,
          "value": "#<Follow:0x00007fc93287b1a0>",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "ActivityPub::TagManager",
        "object_id": 325700,
        "value": "#<ActivityPub::TagManager:0x00007fc937c92608>"
      }
    },
    {
      "id": 14,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::TagManager",
      "method_id": "default_url_options",
      "path": "app/helpers/routing_helper.rb",
      "lineno": 12,
      "static": false,
      "receiver": {
        "class": "ActivityPub::TagManager",
        "object_id": 325700,
        "value": "#<ActivityPub::TagManager:0x00007fc937c92608>"
      }
    },
    {
      "id": 15,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 14,
      "elapsed": 0.0000036829733289778233,
      "elapsed_instrumentation": 0.00016079400666058064,
      "return_value": {
        "class": "Hash",
        "value": "{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}",
        "object_id": 325720,
        "size": 3
      }
    },
    {
      "id": 16,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::TagManager",
      "method_id": "default_url_options",
      "path": "app/helpers/routing_helper.rb",
      "lineno": 12,
      "static": false,
      "receiver": {
        "class": "ActivityPub::TagManager",
        "object_id": 325700,
        "value": "#<ActivityPub::TagManager:0x00007fc937c92608>"
      }
    },
    {
      "id": 17,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 16,
      "elapsed": 0.000003985944204032421,
      "elapsed_instrumentation": 0.00011135602835565805,
      "return_value": {
        "class": "Hash",
        "value": "{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}",
        "object_id": 325720,
        "size": 3
      }
    },
    {
      "id": 18,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "String",
      "method_id": "unpack",
      "path": "<internal:pack>",
      "lineno": 19,
      "static": false,
      "parameters": [
        {
          "name": "fmt",
          "class": "String",
          "object_id": 344180,
          "value": "NnnnnN",
          "kind": "req"
        },
        {
          "name": "offset",
          "class": "NilClass",
          "object_id": 4,
          "value": null,
          "kind": "key"
        }
      ],
      "receiver": {
        "class": "String",
        "object_id": 1463620,
        "value": "_I__\u0003_)X__._\u000e)_x"
      }
    },
    {
      "id": 19,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 18,
      "elapsed": 0.000005926995072513819,
      "elapsed_instrumentation": 0.00013211503392085433,
      "return_value": {
        "class": "Array",
        "value": "[3494491028, 1018, 10584, 55027, 11960, 237618552]",
        "object_id": 1463640,
        "size": 6
      }
    },
    {
      "id": 20,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 13,
      "elapsed": 0.000709607033059001,
      "elapsed_instrumentation": 0.00009421398863196373,
      "return_value": {
        "class": "URI::HTTPS",
        "value": "https://cb6e6126.ngrok.io/d049b394-03fa-4958-96f3-2eb80e29c578",
        "object_id": 1463660
      }
    },
    {
      "id": 21,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 12,
      "elapsed": 0.000856496044434607,
      "elapsed_instrumentation": 0.00010674598161131144,
      "return_value": {
        "class": "Array",
        "value": "[#<Proc:0x00007fc9324c9278 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c93b8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]",
        "object_id": 1342160,
        "size": 2
      }
    },
    {
      "id": 22,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActiveSupport::Callbacks::CallbackSequence",
      "method_id": "invoke_before",
      "path": "vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb",
      "lineno": 597,
      "static": false,
      "parameters": [
        {
          "name": "arg",
          "class": "ActiveSupport::Callbacks::Filters::Environment",
          "object_id": 1463680,
          "value": null,
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "ActiveSupport::Callbacks::CallbackSequence",
        "object_id": 1342200,
        "value": "#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931931d70>"
      }
    },
    {
      "id": 23,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "FollowLimitable",
      "method_id": "bypass_follow_limit?",
      "path": "app/models/concerns/follow_limitable.rb",
      "lineno": 14,
      "static": false,
      "receiver": {
        "class": "Follow",
        "object_id": 1463580,
        "value": "#<Follow:0x00007fc93287b1a0>"
      }
    },
    {
      "id": 24,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 23,
      "elapsed": 0.000003502005711197853,
      "elapsed_instrumentation": 0.000047866953536868095
    },
    {
      "id": 25,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "FollowLimitValidator",
      "method_id": "validate",
      "path": "app/validators/follow_limit_validator.rb",
      "lineno": 7,
      "static": false,
      "parameters": [
        {
          "name": "follow",
          "class": "Follow",
          "object_id": 1463580,
          "value": "#<Follow:0x00007fc93287b1a0>",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "FollowLimitValidator",
        "object_id": 1342220,
        "value": "#<FollowLimitValidator:0x00007fc93955dc50>"
      }
    },
    {
      "id": 26,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Account",
      "method_id": "local?",
      "path": "app/models/account.rb",
      "lineno": 163,
      "static": false,
      "receiver": {
        "class": "Account",
        "object_id": 1463520,
        "value": "#<Account:0x00007fc930fe2e40>"
      }
    },
    {
      "id": 27,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 26,
      "elapsed": 0.000008158967830240726,
      "elapsed_instrumentation": 0.0000641730148345232
    },
    {
      "id": 28,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 25,
      "elapsed": 0.00015851703938096762,
      "elapsed_instrumentation": 0.00008379796054214239
    },
    {
      "id": 29,
      "event": "call",
      "thread_id": 9160,
      "sql_query": {
        "sql": "SAVEPOINT active_record_1",
        "database_type": "postgres"
      }
    },
    {
      "id": 30,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 29,
      "elapsed": 0.000326711,
      "elapsed_instrumentation": 0.00006345298606902361
    },
    {
      "id": 31,
      "event": "call",
      "thread_id": 9160,
      "sql_query": {
        "sql": "SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3",
        "database_type": "postgres"
      }
    },
    {
      "id": 32,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 31,
      "elapsed": 0.000927303,
      "elapsed_instrumentation": 0.00006222899537533522
    },
    {
      "id": 33,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "LanguageValidator",
      "method_id": "validate_each",
      "path": "app/validators/language_validator.rb",
      "lineno": 6,
      "static": false,
      "parameters": [
        {
          "name": "record",
          "class": "Follow",
          "object_id": 1463580,
          "value": "#<Follow:0x00007fc93287b1a0>",
          "kind": "req"
        },
        {
          "name": "attribute",
          "class": "Symbol",
          "object_id": 9806428,
          "value": ":languages",
          "kind": "req"
        },
        {
          "name": "value",
          "class": "NilClass",
          "object_id": 4,
          "value": null,
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "LanguageValidator",
        "object_id": 1342240,
        "value": "#<LanguageValidator:0x00007fc939554bc8>"
      }
    },
    {
      "id": 34,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 33,
      "elapsed": 0.000005005975253880024,
      "elapsed_instrumentation": 0.00020697899162769318
    },
    {
      "id": 35,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 22,
      "elapsed": 0.0022632050095126033,
      "elapsed_instrumentation": 0.00014487298903986812,
      "return_value": {
        "class": "Array",
        "value": "[#<Proc:0x00007fc9324c6320 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c64d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c67a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c6988 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c6b68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324c6d48 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]",
        "object_id": 1342260,
        "size": 6
      }
    },
    {
      "id": 36,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActiveSupport::Callbacks::CallbackSequence",
      "method_id": "invoke_after",
      "path": "vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb",
      "lineno": 601,
      "static": false,
      "parameters": [
        {
          "name": "arg",
          "class": "ActiveSupport::Callbacks::Filters::Environment",
          "object_id": 1463680,
          "value": null,
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "ActiveSupport::Callbacks::CallbackSequence",
        "object_id": 1342200,
        "value": "#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931931d70>"
      }
    },
    {
      "id": 37,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 36,
      "elapsed": 0.0000039199949242174625,
      "elapsed_instrumentation": 0.00007863197242841125,
      "return_value": {
        "class": "Array",
        "value": "[]",
        "object_id": 1342280,
        "size": 0
      }
    },
    {
      "id": 38,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActiveSupport::Callbacks::CallbackSequence",
      "method_id": "invoke_after",
      "path": "vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb",
      "lineno": 601,
      "static": false,
      "parameters": [
        {
          "name": "arg",
          "class": "ActiveSupport::Callbacks::Filters::Environment",
          "object_id": 1463600,
          "value": null,
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "ActiveSupport::Callbacks::CallbackSequence",
        "object_id": 1342060,
        "value": "#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931931ff0>"
      }
    },
    {
      "id": 39,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 38,
      "elapsed": 0.000007388007361441851,
      "elapsed_instrumentation": 0.00009443098679184914,
      "return_value": {
        "class": "Array",
        "value": "[]",
        "object_id": 1342300,
        "size": 0
      }
    },
    {
      "id": 40,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActiveSupport::Callbacks::CallbackSequence",
      "method_id": "invoke_before",
      "path": "vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb",
      "lineno": 597,
      "static": false,
      "parameters": [
        {
          "name": "arg",
          "class": "ActiveSupport::Callbacks::Filters::Environment",
          "object_id": 1463700,
          "value": null,
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "ActiveSupport::Callbacks::CallbackSequence",
        "object_id": 1342340,
        "value": "#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931930ec0>"
      }
    },
    {
      "id": 41,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 40,
      "elapsed": 0.00008558400440961123,
      "elapsed_instrumentation": 0.00012089801020920277,
      "return_value": {
        "class": "Array",
        "value": "[#<Proc:0x00007fc9324fc1c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324fc308 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]",
        "object_id": 1342360,
        "size": 2
      }
    },
    {
      "id": 42,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActiveSupport::Callbacks::CallbackSequence",
      "method_id": "invoke_before",
      "path": "vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb",
      "lineno": 597,
      "static": false,
      "parameters": [
        {
          "name": "arg",
          "class": "ActiveSupport::Callbacks::Filters::Environment",
          "object_id": 1463720,
          "value": null,
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "ActiveSupport::Callbacks::CallbackSequence",
        "object_id": 1342400,
        "value": "#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931930c40>"
      }
    },
    {
      "id": 43,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 42,
      "elapsed": 0.0000029529910534620285,
      "elapsed_instrumentation": 0.00013683992438018322,
      "return_value": {
        "class": "Array",
        "value": "[]",
        "object_id": 1342420,
        "size": 0
      }
    },
    {
      "id": 44,
      "event": "call",
      "thread_id": 9160,
      "sql_query": {
        "sql": "INSERT INTO \"follows\" (\"created_at\", \"updated_at\", \"account_id\", \"target_account_id\", \"show_reblogs\", \"uri\", \"notify\", \"languages\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING \"id\"",
        "database_type": "postgres"
      }
    },
    {
      "id": 45,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 44,
      "elapsed": 0.001097268,
      "elapsed_instrumentation": 0.00009401998249813914
    },
    {
      "id": 46,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActiveSupport::Callbacks::CallbackSequence",
      "method_id": "invoke_after",
      "path": "vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb",
      "lineno": 601,
      "static": false,
      "parameters": [
        {
          "name": "arg",
          "class": "ActiveSupport::Callbacks::Filters::Environment",
          "object_id": 1463720,
          "value": null,
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "ActiveSupport::Callbacks::CallbackSequence",
        "object_id": 1342400,
        "value": "#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931930c40>"
      }
    },
    {
      "id": 47,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "RateLimitable",
      "method_id": "rate_limit?",
      "path": "app/models/concerns/rate_limitable.rb",
      "lineno": 10,
      "static": false,
      "receiver": {
        "class": "Follow",
        "object_id": 1463580,
        "value": "#<Follow:0x00007fc93287b1a0>"
      }
    },
    {
      "id": 48,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 47,
      "elapsed": 0.000004919013008475304,
      "elapsed_instrumentation": 0.0001746320049278438
    },
    {
      "id": 49,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "AccountCounters",
      "method_id": "increment_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 23,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 19193628,
          "value": ":following_count",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 1463520,
        "value": "#<Account:0x00007fc930fe2e40>"
      }
    },
    {
      "id": 50,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "AccountCounters",
      "method_id": "update_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 34,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 19193628,
          "value": ":following_count",
          "kind": "req"
        },
        {
          "name": "value",
          "class": "Integer",
          "object_id": 3,
          "value": "1",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 1463520,
        "value": "#<Account:0x00007fc930fe2e40>"
      }
    },
    {
      "id": 51,
      "event": "call",
      "thread_id": 9160,
      "sql_query": {
        "sql": "INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361329180377342, 1, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + 1, updated_at = now() RETURNING id;",
        "database_type": "postgres"
      }
    },
    {
      "id": 52,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 51,
      "elapsed": 0.000953407,
      "elapsed_instrumentation": 0.00009082903852686286
    },
    {
      "id": 53,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 50,
      "elapsed": 0.0015005759778432548,
      "elapsed_instrumentation": 0.0000777409877628088
    },
    {
      "id": 54,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 49,
      "elapsed": 0.0016168190049938858,
      "elapsed_instrumentation": 0.00009386998135596514
    },
    {
      "id": 55,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "AccountCounters",
      "method_id": "increment_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 23,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17344988,
          "value": ":followers_count",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 1463540,
        "value": "#<Account:0x00007fc930fe2580>"
      }
    },
    {
      "id": 56,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "AccountCounters",
      "method_id": "update_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 34,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17344988,
          "value": ":followers_count",
          "kind": "req"
        },
        {
          "name": "value",
          "class": "Integer",
          "object_id": 3,
          "value": "1",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 1463540,
        "value": "#<Account:0x00007fc930fe2580>"
      }
    },
    {
      "id": 57,
      "event": "call",
      "thread_id": 9160,
      "sql_query": {
        "sql": "INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361329180377343, 1, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + 1, updated_at = now() RETURNING id;",
        "database_type": "postgres"
      }
    },
    {
      "id": 58,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 57,
      "elapsed": 0.001050393,
      "elapsed_instrumentation": 0.0002298119943588972
    },
    {
      "id": 59,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 56,
      "elapsed": 0.0018343820120207965,
      "elapsed_instrumentation": 0.00013420195318758488
    },
    {
      "id": 60,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 55,
      "elapsed": 0.0020024640252813697,
      "elapsed_instrumentation": 0.0004071759758517146
    },
    {
      "id": 61,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Account",
      "method_id": "local?",
      "path": "app/models/account.rb",
      "lineno": 163,
      "static": false,
      "receiver": {
        "class": "Account",
        "object_id": 1463520,
        "value": "#<Account:0x00007fc930fe2e40>"
      }
    },
    {
      "id": 62,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 61,
      "elapsed": 0.000010427029337733984,
      "elapsed_instrumentation": 0.00008556497050449252
    },
    {
      "id": 63,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Account",
      "method_id": "synchronization_uri_prefix",
      "path": "app/models/account.rb",
      "lineno": 409,
      "static": false,
      "receiver": {
        "class": "Account",
        "object_id": 1463520,
        "value": "#<Account:0x00007fc930fe2e40>"
      }
    },
    {
      "id": 64,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Account",
      "method_id": "local?",
      "path": "app/models/account.rb",
      "lineno": 163,
      "static": false,
      "receiver": {
        "class": "Account",
        "object_id": 1463520,
        "value": "#<Account:0x00007fc930fe2e40>"
      }
    },
    {
      "id": 65,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 64,
      "elapsed": 0.000009116018190979958,
      "elapsed_instrumentation": 0.0000860680011101067
    },
    {
      "id": 66,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 63,
      "elapsed": 0.0001465650275349617,
      "elapsed_instrumentation": 0.00018913898384198546,
      "return_value": {
        "class": "String",
        "value": "https://evil.org/",
        "object_id": 1463740
      }
    },
    {
      "id": 67,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Logger::LogDevice",
      "method_id": "write",
      "path": "/usr/local/lib/ruby/3.2.0/logger/log_device.rb",
      "lineno": 31,
      "static": false,
      "parameters": [
        {
          "name": "message",
          "class": "String",
          "object_id": 1463760,
          "value": "Cache delete: followers_hash:111361329180377343:https://evil.org/\n",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Logger::LogDevice",
        "object_id": 19780,
        "value": "#<Logger::LogDevice:0x00007fc942103e80>"
      }
    },
    {
      "id": 68,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 67,
      "elapsed": 0.00044295500265434384,
      "elapsed_instrumentation": 0.0001942790113389492,
      "return_value": {
        "class": "Integer",
        "value": "66",
        "object_id": 133
      }
    },
    {
      "id": 69,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 46,
      "elapsed": 0.00579482497414574,
      "elapsed_instrumentation": 0.0001753969700075686,
      "return_value": {
        "class": "Array",
        "value": "[#<Proc:0x00007fc9324fb390 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324fb1d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324fb020 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc9324fae68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]",
        "object_id": 1342480,
        "size": 4
      }
    },
    {
      "id": 70,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActiveSupport::Callbacks::CallbackSequence",
      "method_id": "invoke_after",
      "path": "vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb",
      "lineno": 601,
      "static": false,
      "parameters": [
        {
          "name": "arg",
          "class": "ActiveSupport::Callbacks::Filters::Environment",
          "object_id": 1463700,
          "value": null,
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "ActiveSupport::Callbacks::CallbackSequence",
        "object_id": 1342340,
        "value": "#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931930ec0>"
      }
    },
    {
      "id": 71,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 70,
      "elapsed": 0.0000038009602576494217,
      "elapsed_instrumentation": 0.00008221302414312959,
      "return_value": {
        "class": "Array",
        "value": "[]",
        "object_id": 1342500,
        "size": 0
      }
    },
    {
      "id": 72,
      "event": "call",
      "thread_id": 9160,
      "sql_query": {
        "sql": "RELEASE SAVEPOINT active_record_1",
        "database_type": "postgres"
      }
    },
    {
      "id": 73,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 72,
      "elapsed": 0.000344754,
      "elapsed_instrumentation": 0.00008422299288213253
    },
    {
      "id": 74,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActiveSupport::Callbacks::CallbackSequence",
      "method_id": "invoke_before",
      "path": "vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb",
      "lineno": 597,
      "static": false,
      "parameters": [
        {
          "name": "arg",
          "class": "ActiveSupport::Callbacks::Filters::Environment",
          "object_id": 1463780,
          "value": null,
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "ActiveSupport::Callbacks::CallbackSequence",
        "object_id": 1342540,
        "value": "#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"
      }
    },
    {
      "id": 75,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 74,
      "elapsed": 0.00000454997643828392,
      "elapsed_instrumentation": 0.00010227598249912262,
      "return_value": {
        "class": "Array",
        "value": "[]",
        "object_id": 1342560,
        "size": 0
      }
    },
    {
      "id": 76,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActiveSupport::Callbacks::CallbackSequence",
      "method_id": "invoke_after",
      "path": "vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb",
      "lineno": 601,
      "static": false,
      "parameters": [
        {
          "name": "arg",
          "class": "ActiveSupport::Callbacks::Filters::Environment",
          "object_id": 1463780,
          "value": null,
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "ActiveSupport::Callbacks::CallbackSequence",
        "object_id": 1342540,
        "value": "#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"
      }
    },
    {
      "id": 77,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Logger::LogDevice",
      "method_id": "write",
      "path": "/usr/local/lib/ruby/3.2.0/logger/log_device.rb",
      "lineno": 31,
      "static": false,
      "parameters": [
        {
          "name": "message",
          "class": "String",
          "object_id": 1463800,
          "value": "Cache delete: relationship:111361329180377342:111361329180377343\n",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Logger::LogDevice",
        "object_id": 19780,
        "value": "#<Logger::LogDevice:0x00007fc942103e80>"
      }
    },
    {
      "id": 78,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 77,
      "elapsed": 0.0004519560025073588,
      "elapsed_instrumentation": 0.0003293990157544613,
      "return_value": {
        "class": "Integer",
        "value": "65",
        "object_id": 131
      }
    },
    {
      "id": 79,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Logger::LogDevice",
      "method_id": "write",
      "path": "/usr/local/lib/ruby/3.2.0/logger/log_device.rb",
      "lineno": 31,
      "static": false,
      "parameters": [
        {
          "name": "message",
          "class": "String",
          "object_id": 1463820,
          "value": "Cache delete: relationship:111361329180377343:111361329180377342\n",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Logger::LogDevice",
        "object_id": 19780,
        "value": "#<Logger::LogDevice:0x00007fc942103e80>"
      }
    },
    {
      "id": 80,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 79,
      "elapsed": 0.0005676579894497991,
      "elapsed_instrumentation": 0.00028759503038600087,
      "return_value": {
        "class": "Integer",
        "value": "65",
        "object_id": 131
      }
    },
    {
      "id": 81,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 76,
      "elapsed": 0.0018797950469888747,
      "elapsed_instrumentation": 0.00009705603588372469,
      "return_value": {
        "class": "Array",
        "value": "[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]",
        "object_id": 1342620,
        "size": 1
      }
    },
    {
      "id": 82,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "PotentialFriendshipTracker",
      "method_id": "remove",
      "path": "app/lib/potential_friendship_tracker.rb",
      "lineno": 27,
      "static": true,
      "parameters": [
        {
          "name": "account_id",
          "class": "Integer",
          "object_id": 222722658360754700,
          "value": "111361329180377342",
          "kind": "req"
        },
        {
          "name": "target_account_id",
          "class": "Integer",
          "object_id": 222722658360754700,
          "value": "111361329180377343",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Class",
        "object_id": 319780,
        "value": "PotentialFriendshipTracker"
      }
    },
    {
      "id": 83,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Redisable",
      "method_id": "redis",
      "path": "app/models/concerns/redisable.rb",
      "lineno": 4,
      "static": false,
      "receiver": {
        "class": "Class",
        "object_id": 319780,
        "value": "PotentialFriendshipTracker"
      }
    },
    {
      "id": 84,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 83,
      "elapsed": 0.000004581001121550798,
      "elapsed_instrumentation": 0.00007057504262775183,
      "return_value": {
        "class": "Redis::Namespace",
        "value": "#<Redis::Namespace:0x00007fc934c37e90>",
        "object_id": 319760
      }
    },
    {
      "id": 85,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 82,
      "elapsed": 0.00045557302655652165,
      "elapsed_instrumentation": 0.00011423998512327671
    },
    {
      "id": 86,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 1,
      "elapsed": 0.020201677980367094,
      "elapsed_instrumentation": 0.00018192501738667488,
      "return_value": {
        "class": "Follow",
        "value": "#<Follow:0x00007fc93287b1a0>",
        "object_id": 1463580
      }
    },
    {
      "id": 87,
      "event": "call",
      "thread_id": 9160,
      "sql_query": {
        "sql": "SELECT \"notifications\".\"id\" FROM \"notifications\" WHERE \"notifications\".\"account_id\" = $1 AND \"notifications\".\"from_account_id\" IN (SELECT \"accounts\".\"id\" FROM \"accounts\" WHERE \"accounts\".\"domain\" = $2) ORDER BY \"notifications\".\"id\" ASC LIMIT $3",
        "database_type": "postgres"
      }
    },
    {
      "id": 88,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 87,
      "elapsed": 0.000989382,
      "elapsed_instrumentation": 0.00009422202128916979
    },
    {
      "id": 89,
      "event": "call",
      "thread_id": 9160,
      "sql_query": {
        "sql": "SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" IN (SELECT \"accounts\".\"id\" FROM \"accounts\" WHERE \"accounts\".\"domain\" = $2) ORDER BY \"follows\".\"id\" ASC LIMIT $3",
        "database_type": "postgres"
      }
    },
    {
      "id": 90,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 89,
      "elapsed": 0.000727611,
      "elapsed_instrumentation": 0.00009226001566275954
    },
    {
      "id": 91,
      "event": "call",
      "thread_id": 9160,
      "sql_query": {
        "sql": "SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1 AND \"follows\".\"account_id\" IN (SELECT \"accounts\".\"id\" FROM \"accounts\" WHERE \"accounts\".\"domain\" = $2) ORDER BY \"follows\".\"id\" ASC LIMIT $3",
        "database_type": "postgres"
      }
    },
    {
      "id": 92,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 91,
      "elapsed": 0.000784576,
      "elapsed_instrumentation": 0.00007222301792353392
    },
    {
      "id": 93,
      "event": "call",
      "thread_id": 9160,
      "sql_query": {
        "sql": "SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1",
        "database_type": "postgres"
      }
    },
    {
      "id": 94,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 93,
      "elapsed": 0.00073138,
      "elapsed_instrumentation": 0.00008017598884180188
    },
    {
      "id": 95,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActiveSupport::Callbacks::CallbackSequence",
      "method_id": "invoke_before",
      "path": "vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb",
      "lineno": 597,
      "static": false,
      "parameters": [
        {
          "name": "arg",
          "class": "ActiveSupport::Callbacks::Filters::Environment",
          "object_id": 1463840,
          "value": null,
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "ActiveSupport::Callbacks::CallbackSequence",
        "object_id": 1462400,
        "value": "#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"
      }
    },
    {
      "id": 96,
      "event": "call",
      "thread_id": 9160,
      "sql_query": {
        "sql": "SAVEPOINT active_record_1",
        "database_type": "postgres"
      }
    },
    {
      "id": 97,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 96,
      "elapsed": 0.000339932,
      "elapsed_instrumentation": 0.00006336800288408995
    },
    {
      "id": 98,
      "event": "call",
      "thread_id": 9160,
      "sql_query": {
        "sql": "SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3",
        "database_type": "postgres"
      }
    },
    {
      "id": 99,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 98,
      "elapsed": 0.000427728,
      "elapsed_instrumentation": 0.00006045401096343994
    },
    {
      "id": 100,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 95,
      "elapsed": 0.0019913180149160326,
      "elapsed_instrumentation": 0.00017369695706292987,
      "return_value": {
        "class": "Array",
        "value": "[#<Proc:0x00007fc933a9e5d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]",
        "object_id": 1462440,
        "size": 1
      }
    },
    {
      "id": 101,
      "event": "call",
      "thread_id": 9160,
      "sql_query": {
        "sql": "DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1",
        "database_type": "postgres"
      }
    },
    {
      "id": 102,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 101,
      "elapsed": 0.00053921,
      "elapsed_instrumentation": 0.00005816301563754678
    },
    {
      "id": 103,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActiveSupport::Callbacks::CallbackSequence",
      "method_id": "invoke_after",
      "path": "vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb",
      "lineno": 601,
      "static": false,
      "parameters": [
        {
          "name": "arg",
          "class": "ActiveSupport::Callbacks::Filters::Environment",
          "object_id": 1463840,
          "value": null,
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "ActiveSupport::Callbacks::CallbackSequence",
        "object_id": 1462400,
        "value": "#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc932731830>"
      }
    },
    {
      "id": 104,
      "event": "call",
      "thread_id": 9160,
      "sql_query": {
        "sql": "DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2",
        "database_type": "postgres"
      }
    },
    {
      "id": 105,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 104,
      "elapsed": 0.000446562,
      "elapsed_instrumentation": 0.00005785300163552165
    },
    {
      "id": 106,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "AccountCounters",
      "method_id": "decrement_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 28,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 19193628,
          "value": ":following_count",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 1463860,
        "value": "#<Account:0x00007fc9328784a0>"
      }
    },
    {
      "id": 107,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "AccountCounters",
      "method_id": "update_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 34,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 19193628,
          "value": ":following_count",
          "kind": "req"
        },
        {
          "name": "value",
          "class": "Integer",
          "object_id": -1,
          "value": "-1",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 1463860,
        "value": "#<Account:0x00007fc9328784a0>"
      }
    },
    {
      "id": 108,
      "event": "call",
      "thread_id": 9160,
      "sql_query": {
        "sql": "INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361329180377342, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;",
        "database_type": "postgres"
      }
    },
    {
      "id": 109,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 108,
      "elapsed": 0.000651237,
      "elapsed_instrumentation": 0.00005808600690215826
    },
    {
      "id": 110,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 107,
      "elapsed": 0.0010360389715060592,
      "elapsed_instrumentation": 0.00007626600563526154
    },
    {
      "id": 111,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 106,
      "elapsed": 0.001210892980452627,
      "elapsed_instrumentation": 0.00009222002699971199
    },
    {
      "id": 112,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "AccountCounters",
      "method_id": "decrement_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 28,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17344988,
          "value": ":followers_count",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 1463540,
        "value": "#<Account:0x00007fc930fe2580>"
      }
    },
    {
      "id": 113,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "AccountCounters",
      "method_id": "update_count!",
      "path": "app/models/concerns/account_counters.rb",
      "lineno": 34,
      "static": false,
      "parameters": [
        {
          "name": "key",
          "class": "Symbol",
          "object_id": 17344988,
          "value": ":followers_count",
          "kind": "req"
        },
        {
          "name": "value",
          "class": "Integer",
          "object_id": -1,
          "value": "-1",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Account",
        "object_id": 1463540,
        "value": "#<Account:0x00007fc930fe2580>"
      }
    },
    {
      "id": 114,
      "event": "call",
      "thread_id": 9160,
      "sql_query": {
        "sql": "INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361329180377343, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;",
        "database_type": "postgres"
      }
    },
    {
      "id": 115,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 114,
      "elapsed": 0.000579395,
      "elapsed_instrumentation": 0.00005630304804071784
    },
    {
      "id": 116,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 113,
      "elapsed": 0.0009213620214723051,
      "elapsed_instrumentation": 0.00006754702189937234
    },
    {
      "id": 117,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 112,
      "elapsed": 0.0010076109902001917,
      "elapsed_instrumentation": 0.00008141604484990239
    },
    {
      "id": 118,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Account",
      "method_id": "local?",
      "path": "app/models/account.rb",
      "lineno": 163,
      "static": false,
      "receiver": {
        "class": "Account",
        "object_id": 1463860,
        "value": "#<Account:0x00007fc9328784a0>"
      }
    },
    {
      "id": 119,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 118,
      "elapsed": 0.000017234007827937603,
      "elapsed_instrumentation": 0.00006475101690739393
    },
    {
      "id": 120,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Account",
      "method_id": "synchronization_uri_prefix",
      "path": "app/models/account.rb",
      "lineno": 409,
      "static": false,
      "receiver": {
        "class": "Account",
        "object_id": 1463860,
        "value": "#<Account:0x00007fc9328784a0>"
      }
    },
    {
      "id": 121,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Account",
      "method_id": "local?",
      "path": "app/models/account.rb",
      "lineno": 163,
      "static": false,
      "receiver": {
        "class": "Account",
        "object_id": 1463860,
        "value": "#<Account:0x00007fc9328784a0>"
      }
    },
    {
      "id": 122,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 121,
      "elapsed": 0.000005164009053260088,
      "elapsed_instrumentation": 0.0000606600078754127
    },
    {
      "id": 123,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 120,
      "elapsed": 0.0004607670125551522,
      "elapsed_instrumentation": 0.0000666150008328259,
      "return_value": {
        "class": "String",
        "value": "https://evil.org/",
        "object_id": 1463880
      }
    },
    {
      "id": 124,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Logger::LogDevice",
      "method_id": "write",
      "path": "/usr/local/lib/ruby/3.2.0/logger/log_device.rb",
      "lineno": 31,
      "static": false,
      "parameters": [
        {
          "name": "message",
          "class": "String",
          "object_id": 1463900,
          "value": "Cache delete: followers_hash:111361329180377343:https://evil.org/\n",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Logger::LogDevice",
        "object_id": 19780,
        "value": "#<Logger::LogDevice:0x00007fc942103e80>"
      }
    },
    {
      "id": 125,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 124,
      "elapsed": 0.0005466740112751722,
      "elapsed_instrumentation": 0.0001035189488902688,
      "return_value": {
        "class": "Integer",
        "value": "66",
        "object_id": 133
      }
    },
    {
      "id": 126,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 103,
      "elapsed": 0.0051000359817408025,
      "elapsed_instrumentation": 0.0001458859769627452,
      "return_value": {
        "class": "Array",
        "value": "[#<Proc:0x00007fc933a9e3c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e210 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007fc933a9e008 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]",
        "object_id": 1462520,
        "size": 3
      }
    },
    {
      "id": 127,
      "event": "call",
      "thread_id": 9160,
      "sql_query": {
        "sql": "RELEASE SAVEPOINT active_record_1",
        "database_type": "postgres"
      }
    },
    {
      "id": 128,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 127,
      "elapsed": 0.000372781,
      "elapsed_instrumentation": 0.00006483402103185654
    },
    {
      "id": 129,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActiveSupport::Callbacks::CallbackSequence",
      "method_id": "invoke_before",
      "path": "vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb",
      "lineno": 597,
      "static": false,
      "parameters": [
        {
          "name": "arg",
          "class": "ActiveSupport::Callbacks::Filters::Environment",
          "object_id": 1463940,
          "value": null,
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "ActiveSupport::Callbacks::CallbackSequence",
        "object_id": 1342540,
        "value": "#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"
      }
    },
    {
      "id": 130,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 129,
      "elapsed": 0.0000037559657357633114,
      "elapsed_instrumentation": 0.00010585004929453135,
      "return_value": {
        "class": "Array",
        "value": "[]",
        "object_id": 1342560,
        "size": 0
      }
    },
    {
      "id": 131,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActiveSupport::Callbacks::CallbackSequence",
      "method_id": "invoke_after",
      "path": "vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb",
      "lineno": 601,
      "static": false,
      "parameters": [
        {
          "name": "arg",
          "class": "ActiveSupport::Callbacks::Filters::Environment",
          "object_id": 1463940,
          "value": null,
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "ActiveSupport::Callbacks::CallbackSequence",
        "object_id": 1342540,
        "value": "#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc931aefa68>"
      }
    },
    {
      "id": 132,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Logger::LogDevice",
      "method_id": "write",
      "path": "/usr/local/lib/ruby/3.2.0/logger/log_device.rb",
      "lineno": 31,
      "static": false,
      "parameters": [
        {
          "name": "message",
          "class": "String",
          "object_id": 1463960,
          "value": "Cache delete: relationship:111361329180377342:111361329180377343\n",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Logger::LogDevice",
        "object_id": 19780,
        "value": "#<Logger::LogDevice:0x00007fc942103e80>"
      }
    },
    {
      "id": 133,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 132,
      "elapsed": 0.0004579880042001605,
      "elapsed_instrumentation": 0.00010381394531577826,
      "return_value": {
        "class": "Integer",
        "value": "65",
        "object_id": 131
      }
    },
    {
      "id": 134,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Logger::LogDevice",
      "method_id": "write",
      "path": "/usr/local/lib/ruby/3.2.0/logger/log_device.rb",
      "lineno": 31,
      "static": false,
      "parameters": [
        {
          "name": "message",
          "class": "String",
          "object_id": 1463980,
          "value": "Cache delete: relationship:111361329180377343:111361329180377342\n",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Logger::LogDevice",
        "object_id": 19780,
        "value": "#<Logger::LogDevice:0x00007fc942103e80>"
      }
    },
    {
      "id": 135,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 134,
      "elapsed": 0.0004103659885004163,
      "elapsed_instrumentation": 0.00011479901149868965,
      "return_value": {
        "class": "Integer",
        "value": "65",
        "object_id": 131
      }
    },
    {
      "id": 136,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 131,
      "elapsed": 0.0013046960229985416,
      "elapsed_instrumentation": 0.00009179097833111882,
      "return_value": {
        "class": "Array",
        "value": "[#<Proc:0x00007fc93252f690 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]",
        "object_id": 1342620,
        "size": 1
      }
    },
    {
      "id": 137,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Payloadable",
      "method_id": "serialize_payload",
      "path": "app/services/concerns/payloadable.rb",
      "lineno": 13,
      "static": false,
      "parameters": [
        {
          "name": "record",
          "class": "Follow",
          "object_id": 1463920,
          "value": "#<Follow:0x00007fc9328785e0>",
          "kind": "req"
        },
        {
          "name": "serializer",
          "class": "Class",
          "object_id": 1462620,
          "value": "ActivityPub::RejectFollowSerializer",
          "kind": "req"
        },
        {
          "name": "options",
          "class": "NilClass",
          "object_id": 4,
          "value": null,
          "kind": "opt"
        }
      ],
      "receiver": {
        "class": "AfterBlockDomainFromAccountService",
        "object_id": 1464000,
        "value": "#<AfterBlockDomainFromAccountService:0x00007fc9383ffb98>"
      }
    },
    {
      "id": 138,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActiveSupport::Callbacks::CallbackSequence",
      "method_id": "invoke_before",
      "path": "vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb",
      "lineno": 597,
      "static": false,
      "parameters": [
        {
          "name": "arg",
          "class": "ActiveSupport::Callbacks::Filters::Environment",
          "object_id": 1464020,
          "value": null,
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "ActiveSupport::Callbacks::CallbackSequence",
        "object_id": 326180,
        "value": "#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"
      }
    },
    {
      "id": 139,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 138,
      "elapsed": 0.0000026329653337597847,
      "elapsed_instrumentation": 0.00007079506758600473,
      "return_value": {
        "class": "Array",
        "value": "[]",
        "object_id": 326200,
        "size": 0
      }
    },
    {
      "id": 140,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActiveSupport::Callbacks::CallbackSequence",
      "method_id": "invoke_before",
      "path": "vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb",
      "lineno": 597,
      "static": false,
      "parameters": [
        {
          "name": "arg",
          "class": "ActiveSupport::Callbacks::Filters::Environment",
          "object_id": 1464020,
          "value": null,
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "ActiveSupport::Callbacks::CallbackSequence",
        "object_id": 326220,
        "value": "#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"
      }
    },
    {
      "id": 141,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 140,
      "elapsed": 0.0000022900057956576347,
      "elapsed_instrumentation": 0.00007017195457592607,
      "return_value": {
        "class": "Array",
        "value": "[]",
        "object_id": 326240,
        "size": 0
      }
    },
    {
      "id": 142,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::Adapter",
      "method_id": "serializable_hash",
      "path": "app/lib/activitypub/adapter.rb",
      "lineno": 14,
      "static": false,
      "parameters": [
        {
          "name": "options",
          "class": "NilClass",
          "object_id": 4,
          "value": null,
          "kind": "opt"
        }
      ],
      "receiver": {
        "class": "ActivityPub::Adapter",
        "object_id": 1464040,
        "value": "#<ActivityPub::Adapter:0x00007fc937eb4df0>"
      }
    },
    {
      "id": 143,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::Serializer",
      "method_id": "serializable_hash",
      "path": "app/lib/activitypub/serializer.rb",
      "lineno": 31,
      "static": false,
      "parameters": [
        {
          "name": "adapter_options",
          "class": "Hash",
          "object_id": 1464060,
          "value": "{:named_contexts=>{:activitystreams=>}, :context_extensions=>{}}",
          "kind": "opt",
          "size": 2
        },
        {
          "name": "options",
          "class": "NilClass",
          "object_id": 4,
          "value": null,
          "kind": "opt"
        },
        {
          "name": "adapter_instance",
          "class": "NilClass",
          "object_id": 4,
          "value": null,
          "kind": "opt"
        }
      ],
      "receiver": {
        "class": "ActivityPub::RejectFollowSerializer",
        "object_id": 1464080,
        "value": "#<ActivityPub::RejectFollowSerializer:0x00007fc934d7c8a0>"
      }
    },
    {
      "id": 144,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::RejectFollowSerializer",
      "method_id": "id",
      "path": "app/serializers/activitypub/reject_follow_serializer.rb",
      "lineno": 8,
      "static": false,
      "receiver": {
        "class": "ActivityPub::RejectFollowSerializer",
        "object_id": 1464080,
        "value": "#<ActivityPub::RejectFollowSerializer:0x00007fc934d7c8a0>"
      }
    },
    {
      "id": 145,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::TagManager",
      "method_id": "uri_for",
      "path": "app/lib/activitypub/tag_manager.rb",
      "lineno": 36,
      "static": false,
      "parameters": [
        {
          "name": "target",
          "class": "Account",
          "object_id": 1463540,
          "value": "#<Account:0x00007fc930fe2580>",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "ActivityPub::TagManager",
        "object_id": 325700,
        "value": "#<ActivityPub::TagManager:0x00007fc937c92608>"
      }
    },
    {
      "id": 146,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Account",
      "method_id": "local?",
      "path": "app/models/account.rb",
      "lineno": 163,
      "static": false,
      "receiver": {
        "class": "Account",
        "object_id": 1463540,
        "value": "#<Account:0x00007fc930fe2580>"
      }
    },
    {
      "id": 147,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 146,
      "elapsed": 0.00000917096622288227,
      "elapsed_instrumentation": 0.00005639804294332862,
      "return_value": {
        "class": "TrueClass",
        "value": "true",
        "object_id": 20
      }
    },
    {
      "id": 148,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Account",
      "method_id": "object_type",
      "path": "app/models/account.rb",
      "lineno": 385,
      "static": false,
      "receiver": {
        "class": "Account",
        "object_id": 1463540,
        "value": "#<Account:0x00007fc930fe2580>"
      }
    },
    {
      "id": 149,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 148,
      "elapsed": 0.0000030539813451468945,
      "elapsed_instrumentation": 0.000053723983000963926,
      "return_value": {
        "class": "Symbol",
        "value": ":person",
        "object_id": 20438108
      }
    },
    {
      "id": 150,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Account",
      "method_id": "instance_actor?",
      "path": "app/models/account.rb",
      "lineno": 175,
      "static": false,
      "receiver": {
        "class": "Account",
        "object_id": 1463540,
        "value": "#<Account:0x00007fc930fe2580>"
      }
    },
    {
      "id": 151,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 150,
      "elapsed": 0.00000715599162504077,
      "elapsed_instrumentation": 0.00004284601891413331
    },
    {
      "id": 152,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::TagManager",
      "method_id": "default_url_options",
      "path": "app/helpers/routing_helper.rb",
      "lineno": 12,
      "static": false,
      "receiver": {
        "class": "ActivityPub::TagManager",
        "object_id": 325700,
        "value": "#<ActivityPub::TagManager:0x00007fc937c92608>"
      }
    },
    {
      "id": 153,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 152,
      "elapsed": 0.000004984030965715647,
      "elapsed_instrumentation": 0.00011485395953059196,
      "return_value": {
        "class": "Hash",
        "value": "{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}",
        "object_id": 325720,
        "size": 3
      }
    },
    {
      "id": 154,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::TagManager",
      "method_id": "default_url_options",
      "path": "app/helpers/routing_helper.rb",
      "lineno": 12,
      "static": false,
      "receiver": {
        "class": "ActivityPub::TagManager",
        "object_id": 325700,
        "value": "#<ActivityPub::TagManager:0x00007fc937c92608>"
      }
    },
    {
      "id": 155,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 154,
      "elapsed": 0.0000022269668988883495,
      "elapsed_instrumentation": 0.00008125195745378733,
      "return_value": {
        "class": "Hash",
        "value": "{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}",
        "object_id": 325720,
        "size": 3
      }
    },
    {
      "id": 156,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Account",
      "method_id": "to_param",
      "path": "app/models/account.rb",
      "lineno": 389,
      "static": false,
      "receiver": {
        "class": "Account",
        "object_id": 1463540,
        "value": "#<Account:0x00007fc930fe2580>"
      }
    },
    {
      "id": 157,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 156,
      "elapsed": 0.000013580021914094687,
      "elapsed_instrumentation": 0.00007167598232626915,
      "return_value": {
        "class": "String",
        "value": "alice",
        "object_id": 1464100
      }
    },
    {
      "id": 158,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 145,
      "elapsed": 0.0007875680457800627,
      "elapsed_instrumentation": 0.00008309591794386506,
      "return_value": {
        "class": "String",
        "value": "https://cb6e6126.ngrok.io/users/alice",
        "object_id": 1464120
      }
    },
    {
      "id": 159,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 144,
      "elapsed": 0.000911568000447005,
      "elapsed_instrumentation": 0.00005515397060662508,
      "return_value": {
        "class": "String",
        "value": "https://cb6e6126.ngrok.io/users/alice#rejects/follows/5346",
        "object_id": 1464140
      }
    },
    {
      "id": 160,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::RejectFollowSerializer",
      "method_id": "type",
      "path": "app/serializers/activitypub/reject_follow_serializer.rb",
      "lineno": 12,
      "static": false,
      "receiver": {
        "class": "ActivityPub::RejectFollowSerializer",
        "object_id": 1464080,
        "value": "#<ActivityPub::RejectFollowSerializer:0x00007fc934d7c8a0>"
      }
    },
    {
      "id": 161,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 160,
      "elapsed": 0.000003101013135164976,
      "elapsed_instrumentation": 0.00005922600394114852,
      "return_value": {
        "class": "String",
        "value": "Reject",
        "object_id": 1462900
      }
    },
    {
      "id": 162,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::RejectFollowSerializer",
      "method_id": "actor",
      "path": "app/serializers/activitypub/reject_follow_serializer.rb",
      "lineno": 16,
      "static": false,
      "receiver": {
        "class": "ActivityPub::RejectFollowSerializer",
        "object_id": 1464080,
        "value": "#<ActivityPub::RejectFollowSerializer:0x00007fc934d7c8a0>"
      }
    },
    {
      "id": 163,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::TagManager",
      "method_id": "uri_for",
      "path": "app/lib/activitypub/tag_manager.rb",
      "lineno": 36,
      "static": false,
      "parameters": [
        {
          "name": "target",
          "class": "Account",
          "object_id": 1463540,
          "value": "#<Account:0x00007fc930fe2580>",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "ActivityPub::TagManager",
        "object_id": 325700,
        "value": "#<ActivityPub::TagManager:0x00007fc937c92608>"
      }
    },
    {
      "id": 164,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Account",
      "method_id": "local?",
      "path": "app/models/account.rb",
      "lineno": 163,
      "static": false,
      "receiver": {
        "class": "Account",
        "object_id": 1463540,
        "value": "#<Account:0x00007fc930fe2580>"
      }
    },
    {
      "id": 165,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 164,
      "elapsed": 0.000005669018719345331,
      "elapsed_instrumentation": 0.00005187996430322528,
      "return_value": {
        "class": "TrueClass",
        "value": "true",
        "object_id": 20
      }
    },
    {
      "id": 166,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Account",
      "method_id": "object_type",
      "path": "app/models/account.rb",
      "lineno": 385,
      "static": false,
      "receiver": {
        "class": "Account",
        "object_id": 1463540,
        "value": "#<Account:0x00007fc930fe2580>"
      }
    },
    {
      "id": 167,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 166,
      "elapsed": 0.000005508947651833296,
      "elapsed_instrumentation": 0.00010309607023373246,
      "return_value": {
        "class": "Symbol",
        "value": ":person",
        "object_id": 20438108
      }
    },
    {
      "id": 168,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Account",
      "method_id": "instance_actor?",
      "path": "app/models/account.rb",
      "lineno": 175,
      "static": false,
      "receiver": {
        "class": "Account",
        "object_id": 1463540,
        "value": "#<Account:0x00007fc930fe2580>"
      }
    },
    {
      "id": 169,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 168,
      "elapsed": 0.000006183981895446777,
      "elapsed_instrumentation": 0.00005330500425770879
    },
    {
      "id": 170,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::TagManager",
      "method_id": "default_url_options",
      "path": "app/helpers/routing_helper.rb",
      "lineno": 12,
      "static": false,
      "receiver": {
        "class": "ActivityPub::TagManager",
        "object_id": 325700,
        "value": "#<ActivityPub::TagManager:0x00007fc937c92608>"
      }
    },
    {
      "id": 171,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 170,
      "elapsed": 0.0000028909998945891857,
      "elapsed_instrumentation": 0.00008929299656301737,
      "return_value": {
        "class": "Hash",
        "value": "{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}",
        "object_id": 325720,
        "size": 3
      }
    },
    {
      "id": 172,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::TagManager",
      "method_id": "default_url_options",
      "path": "app/helpers/routing_helper.rb",
      "lineno": 12,
      "static": false,
      "receiver": {
        "class": "ActivityPub::TagManager",
        "object_id": 325700,
        "value": "#<ActivityPub::TagManager:0x00007fc937c92608>"
      }
    },
    {
      "id": 173,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 172,
      "elapsed": 0.000002338958438485861,
      "elapsed_instrumentation": 0.00007967907004058361,
      "return_value": {
        "class": "Hash",
        "value": "{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}",
        "object_id": 325720,
        "size": 3
      }
    },
    {
      "id": 174,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Account",
      "method_id": "to_param",
      "path": "app/models/account.rb",
      "lineno": 389,
      "static": false,
      "receiver": {
        "class": "Account",
        "object_id": 1463540,
        "value": "#<Account:0x00007fc930fe2580>"
      }
    },
    {
      "id": 175,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 174,
      "elapsed": 0.000005066976882517338,
      "elapsed_instrumentation": 0.00006258301436901093,
      "return_value": {
        "class": "String",
        "value": "alice",
        "object_id": 1464100
      }
    },
    {
      "id": 176,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 163,
      "elapsed": 0.0006658639758825302,
      "elapsed_instrumentation": 0.00007757398998364806,
      "return_value": {
        "class": "String",
        "value": "https://cb6e6126.ngrok.io/users/alice",
        "object_id": 1464160
      }
    },
    {
      "id": 177,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 162,
      "elapsed": 0.0007700119749642909,
      "elapsed_instrumentation": 0.00004972500028088689,
      "return_value": {
        "class": "String",
        "value": "https://cb6e6126.ngrok.io/users/alice",
        "object_id": 1464160
      }
    },
    {
      "id": 178,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::Serializer",
      "method_id": "serializable_hash",
      "path": "app/lib/activitypub/serializer.rb",
      "lineno": 31,
      "static": false,
      "parameters": [
        {
          "name": "adapter_options",
          "class": "Hash",
          "object_id": 1464180,
          "value": "{:named_contexts=>{:activitystreams=>}, :context_extensions=>{}, :include_directive=>#<JSONAPI::IncludeDirective:0x00007fc937f20bb8>, :adapter_instance=>ActiveModelSerializers::Adapter::Attributes}",
          "kind": "opt",
          "size": 4
        },
        {
          "name": "options",
          "class": "Hash",
          "object_id": 1464200,
          "value": "{}",
          "kind": "opt",
          "size": 0
        },
        {
          "name": "adapter_instance",
          "class": "Class",
          "object_id": 1462980,
          "value": "ActiveModelSerializers::Adapter::Attributes",
          "kind": "opt"
        }
      ],
      "receiver": {
        "class": "ActivityPub::FollowSerializer",
        "object_id": 1464220,
        "value": "#<ActivityPub::FollowSerializer:0x00007fc934d783e0>"
      }
    },
    {
      "id": 179,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::FollowSerializer",
      "method_id": "id",
      "path": "app/serializers/activitypub/follow_serializer.rb",
      "lineno": 7,
      "static": false,
      "receiver": {
        "class": "ActivityPub::FollowSerializer",
        "object_id": 1464220,
        "value": "#<ActivityPub::FollowSerializer:0x00007fc934d783e0>"
      }
    },
    {
      "id": 180,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::TagManager",
      "method_id": "uri_for",
      "path": "app/lib/activitypub/tag_manager.rb",
      "lineno": 36,
      "static": false,
      "parameters": [
        {
          "name": "target",
          "class": "Follow",
          "object_id": 1463920,
          "value": "#<Follow:0x00007fc9328785e0>",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "ActivityPub::TagManager",
        "object_id": 325700,
        "value": "#<ActivityPub::TagManager:0x00007fc937c92608>"
      }
    },
    {
      "id": 181,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Follow",
      "method_id": "local?",
      "path": "app/models/follow.rb",
      "lineno": 36,
      "static": false,
      "receiver": {
        "class": "Follow",
        "object_id": 1463920,
        "value": "#<Follow:0x00007fc9328785e0>"
      }
    },
    {
      "id": 182,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 181,
      "elapsed": 0.000003163993824273348,
      "elapsed_instrumentation": 0.000045659951865673065
    },
    {
      "id": 183,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 180,
      "elapsed": 0.00008294195868074894,
      "elapsed_instrumentation": 0.00009426602628082037,
      "return_value": {
        "class": "String",
        "value": "https://cb6e6126.ngrok.io/d049b394-03fa-4958-96f3-2eb80e29c578",
        "object_id": 1464240
      }
    },
    {
      "id": 184,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 179,
      "elapsed": 0.00019706995226442814,
      "elapsed_instrumentation": 0.00006828899495303631,
      "return_value": {
        "class": "String",
        "value": "https://cb6e6126.ngrok.io/d049b394-03fa-4958-96f3-2eb80e29c578",
        "object_id": 1464240
      }
    },
    {
      "id": 185,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::FollowSerializer",
      "method_id": "type",
      "path": "app/serializers/activitypub/follow_serializer.rb",
      "lineno": 11,
      "static": false,
      "receiver": {
        "class": "ActivityPub::FollowSerializer",
        "object_id": 1464220,
        "value": "#<ActivityPub::FollowSerializer:0x00007fc934d783e0>"
      }
    },
    {
      "id": 186,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 185,
      "elapsed": 0.0000026399502530694008,
      "elapsed_instrumentation": 0.00009106204379349947,
      "return_value": {
        "class": "String",
        "value": "Follow",
        "object_id": 1463040
      }
    },
    {
      "id": 187,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::FollowSerializer",
      "method_id": "actor",
      "path": "app/serializers/activitypub/follow_serializer.rb",
      "lineno": 15,
      "static": false,
      "receiver": {
        "class": "ActivityPub::FollowSerializer",
        "object_id": 1464220,
        "value": "#<ActivityPub::FollowSerializer:0x00007fc934d783e0>"
      }
    },
    {
      "id": 188,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::TagManager",
      "method_id": "uri_for",
      "path": "app/lib/activitypub/tag_manager.rb",
      "lineno": 36,
      "static": false,
      "parameters": [
        {
          "name": "target",
          "class": "Account",
          "object_id": 1463860,
          "value": "#<Account:0x00007fc9328784a0>",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "ActivityPub::TagManager",
        "object_id": 325700,
        "value": "#<ActivityPub::TagManager:0x00007fc937c92608>"
      }
    },
    {
      "id": 189,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Account",
      "method_id": "local?",
      "path": "app/models/account.rb",
      "lineno": 163,
      "static": false,
      "receiver": {
        "class": "Account",
        "object_id": 1463860,
        "value": "#<Account:0x00007fc9328784a0>"
      }
    },
    {
      "id": 190,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 189,
      "elapsed": 0.000005845038685947657,
      "elapsed_instrumentation": 0.00004635791992768645
    },
    {
      "id": 191,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 188,
      "elapsed": 0.00012375600636005402,
      "elapsed_instrumentation": 0.00009200198110193014,
      "return_value": {
        "class": "String",
        "value": "https://evil.org/users/wolf",
        "object_id": 1464260
      }
    },
    {
      "id": 192,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 187,
      "elapsed": 0.0002460150280967355,
      "elapsed_instrumentation": 0.00005190301453694701,
      "return_value": {
        "class": "String",
        "value": "https://evil.org/users/wolf",
        "object_id": 1464260
      }
    },
    {
      "id": 193,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::FollowSerializer",
      "method_id": "virtual_object",
      "path": "app/serializers/activitypub/follow_serializer.rb",
      "lineno": 19,
      "static": false,
      "receiver": {
        "class": "ActivityPub::FollowSerializer",
        "object_id": 1464220,
        "value": "#<ActivityPub::FollowSerializer:0x00007fc934d783e0>"
      }
    },
    {
      "id": 194,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::TagManager",
      "method_id": "uri_for",
      "path": "app/lib/activitypub/tag_manager.rb",
      "lineno": 36,
      "static": false,
      "parameters": [
        {
          "name": "target",
          "class": "Account",
          "object_id": 1463540,
          "value": "#<Account:0x00007fc930fe2580>",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "ActivityPub::TagManager",
        "object_id": 325700,
        "value": "#<ActivityPub::TagManager:0x00007fc937c92608>"
      }
    },
    {
      "id": 195,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Account",
      "method_id": "local?",
      "path": "app/models/account.rb",
      "lineno": 163,
      "static": false,
      "receiver": {
        "class": "Account",
        "object_id": 1463540,
        "value": "#<Account:0x00007fc930fe2580>"
      }
    },
    {
      "id": 196,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 195,
      "elapsed": 0.0000062569743022322655,
      "elapsed_instrumentation": 0.000052546034567058086,
      "return_value": {
        "class": "TrueClass",
        "value": "true",
        "object_id": 20
      }
    },
    {
      "id": 197,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Account",
      "method_id": "object_type",
      "path": "app/models/account.rb",
      "lineno": 385,
      "static": false,
      "receiver": {
        "class": "Account",
        "object_id": 1463540,
        "value": "#<Account:0x00007fc930fe2580>"
      }
    },
    {
      "id": 198,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 197,
      "elapsed": 0.0000021780142560601234,
      "elapsed_instrumentation": 0.00005351100116968155,
      "return_value": {
        "class": "Symbol",
        "value": ":person",
        "object_id": 20438108
      }
    },
    {
      "id": 199,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Account",
      "method_id": "instance_actor?",
      "path": "app/models/account.rb",
      "lineno": 175,
      "static": false,
      "receiver": {
        "class": "Account",
        "object_id": 1463540,
        "value": "#<Account:0x00007fc930fe2580>"
      }
    },
    {
      "id": 200,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 199,
      "elapsed": 0.000005438982043415308,
      "elapsed_instrumentation": 0.00004199001705273986
    },
    {
      "id": 201,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::TagManager",
      "method_id": "default_url_options",
      "path": "app/helpers/routing_helper.rb",
      "lineno": 12,
      "static": false,
      "receiver": {
        "class": "ActivityPub::TagManager",
        "object_id": 325700,
        "value": "#<ActivityPub::TagManager:0x00007fc937c92608>"
      }
    },
    {
      "id": 202,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 201,
      "elapsed": 0.000004059984348714352,
      "elapsed_instrumentation": 0.0000866129994392395,
      "return_value": {
        "class": "Hash",
        "value": "{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}",
        "object_id": 325720,
        "size": 3
      }
    },
    {
      "id": 203,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::TagManager",
      "method_id": "default_url_options",
      "path": "app/helpers/routing_helper.rb",
      "lineno": 12,
      "static": false,
      "receiver": {
        "class": "ActivityPub::TagManager",
        "object_id": 325700,
        "value": "#<ActivityPub::TagManager:0x00007fc937c92608>"
      }
    },
    {
      "id": 204,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 203,
      "elapsed": 0.000002261018380522728,
      "elapsed_instrumentation": 0.00007822999032214284,
      "return_value": {
        "class": "Hash",
        "value": "{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}",
        "object_id": 325720,
        "size": 3
      }
    },
    {
      "id": 205,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "Account",
      "method_id": "to_param",
      "path": "app/models/account.rb",
      "lineno": 389,
      "static": false,
      "receiver": {
        "class": "Account",
        "object_id": 1463540,
        "value": "#<Account:0x00007fc930fe2580>"
      }
    },
    {
      "id": 206,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 205,
      "elapsed": 0.000005650043021887541,
      "elapsed_instrumentation": 0.0001314929686486721,
      "return_value": {
        "class": "String",
        "value": "alice",
        "object_id": 1464100
      }
    },
    {
      "id": 207,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 194,
      "elapsed": 0.0006826499593444169,
      "elapsed_instrumentation": 0.00008498906390741467,
      "return_value": {
        "class": "String",
        "value": "https://cb6e6126.ngrok.io/users/alice",
        "object_id": 1464280
      }
    },
    {
      "id": 208,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 193,
      "elapsed": 0.000795177009422332,
      "elapsed_instrumentation": 0.00005823996616527438,
      "return_value": {
        "class": "String",
        "value": "https://cb6e6126.ngrok.io/users/alice",
        "object_id": 1464280
      }
    },
    {
      "id": 209,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 178,
      "elapsed": 0.0016258179675787687,
      "elapsed_instrumentation": 0.00024682708317413926,
      "return_value": {
        "class": "Hash",
        "value": "{:id=>https://cb6e6126.ngrok.io/d049b394-03fa-4958-96f3-2eb80e29c578, :type=>Follow, :actor=>https://evil.org/users/wolf, :object=>https://cb6e6126.ngrok.io/users/alice}",
        "object_id": 1464300,
        "size": 4
      }
    },
    {
      "id": 210,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 143,
      "elapsed": 0.004600013024173677,
      "elapsed_instrumentation": 0.00017592200310900807,
      "return_value": {
        "class": "Hash",
        "value": "{:id=>https://cb6e6126.ngrok.io/users/alice#rejects/follows/5346, :type=>Reject, :actor=>https://cb6e6126.ngrok.io/users/alice, :object=>{:id=>https://cb6e6126.ngrok.io/d049b394-03fa-4958-96f3-2eb80e29c578, :type=>Follow, :actor=>https://evil.org/users/wolf, :object=>https://cb6e6126.ngrok.io/users/alice}}",
        "object_id": 1464320,
        "size": 4
      }
    },
    {
      "id": 211,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::Adapter",
      "method_id": "transform_key_casing!",
      "path": "app/lib/activitypub/adapter.rb",
      "lineno": 10,
      "static": true,
      "parameters": [
        {
          "name": "value",
          "class": "Hash",
          "object_id": 1464320,
          "value": "{:id=>https://cb6e6126.ngrok.io/users/alice#rejects/follows/5346, :type=>Reject, :actor=>https://cb6e6126.ngrok.io/users/alice, :object=>{:id=>https://cb6e6126.ngrok.io/d049b394-03fa-4958-96f3-2eb80e29c578, :type=>Follow, :actor=>https://evil.org/users/wolf, :object=>https://cb6e6126.ngrok.io/users/alice}}",
          "kind": "req",
          "size": 4
        },
        {
          "name": "_options",
          "class": "Hash",
          "object_id": 1464340,
          "value": "{}",
          "kind": "req",
          "size": 0
        }
      ],
      "receiver": {
        "class": "Class",
        "object_id": 51220,
        "value": "ActivityPub::Adapter"
      }
    },
    {
      "id": 212,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 9,
      "static": true,
      "parameters": [
        {
          "name": "value",
          "class": "Hash",
          "object_id": 1464320,
          "value": "{:id=>https://cb6e6126.ngrok.io/users/alice#rejects/follows/5346, :type=>Reject, :actor=>https://cb6e6126.ngrok.io/users/alice, :object=>{:id=>https://cb6e6126.ngrok.io/d049b394-03fa-4958-96f3-2eb80e29c578, :type=>Follow, :actor=>https://evil.org/users/wolf, :object=>https://cb6e6126.ngrok.io/users/alice}}",
          "kind": "req",
          "size": 4
        }
      ],
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 213,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 9,
      "static": true,
      "parameters": [
        {
          "name": "value",
          "class": "Symbol",
          "object_id": 679388,
          "value": ":id",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 214,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 9,
      "static": true,
      "parameters": [
        {
          "name": "value",
          "class": "String",
          "object_id": 1464360,
          "value": "id",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 215,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower_cache",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 5,
      "static": true,
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 216,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 215,
      "elapsed": 0.0000024819746613502502,
      "elapsed_instrumentation": 0.00014683400513604283,
      "return_value": {
        "class": "Hash",
        "value": "{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...31 more entries)}",
        "object_id": 1463200,
        "size": 41
      }
    },
    {
      "id": 217,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 214,
      "elapsed": 0.00016481196507811546,
      "elapsed_instrumentation": 0.000057428027503192425,
      "return_value": {
        "class": "String",
        "value": "id",
        "object_id": 1463220
      }
    },
    {
      "id": 218,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 213,
      "elapsed": 0.00023612001677975059,
      "elapsed_instrumentation": 0.00005512003554031253,
      "return_value": {
        "class": "Symbol",
        "value": ":id",
        "object_id": 679388
      }
    },
    {
      "id": 219,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 9,
      "static": true,
      "parameters": [
        {
          "name": "value",
          "class": "Symbol",
          "object_id": 688668,
          "value": ":type",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 220,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 9,
      "static": true,
      "parameters": [
        {
          "name": "value",
          "class": "String",
          "object_id": 1464380,
          "value": "type",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 221,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower_cache",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 5,
      "static": true,
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 222,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 221,
      "elapsed": 0.000002143962774425745,
      "elapsed_instrumentation": 0.0005631810054183006,
      "return_value": {
        "class": "Hash",
        "value": "{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...31 more entries)}",
        "object_id": 1463200,
        "size": 41
      }
    },
    {
      "id": 223,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 220,
      "elapsed": 0.0005826809792779386,
      "elapsed_instrumentation": 0.00006028497591614723,
      "return_value": {
        "class": "String",
        "value": "type",
        "object_id": 1463260
      }
    },
    {
      "id": 224,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 219,
      "elapsed": 0.0006577770109288394,
      "elapsed_instrumentation": 0.000057537981774657965,
      "return_value": {
        "class": "Symbol",
        "value": ":type",
        "object_id": 688668
      }
    },
    {
      "id": 225,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 9,
      "static": true,
      "parameters": [
        {
          "name": "value",
          "class": "Symbol",
          "object_id": 17461788,
          "value": ":actor",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 226,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 9,
      "static": true,
      "parameters": [
        {
          "name": "value",
          "class": "String",
          "object_id": 1464400,
          "value": "actor",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 227,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower_cache",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 5,
      "static": true,
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 228,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 227,
      "elapsed": 0.000001934997271746397,
      "elapsed_instrumentation": 0.00014057796215638518,
      "return_value": {
        "class": "Hash",
        "value": "{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...31 more entries)}",
        "object_id": 1463200,
        "size": 41
      }
    },
    {
      "id": 229,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 226,
      "elapsed": 0.00015787099255248904,
      "elapsed_instrumentation": 0.00005995604442432523,
      "return_value": {
        "class": "String",
        "value": "actor",
        "object_id": 1463300
      }
    },
    {
      "id": 230,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 225,
      "elapsed": 0.00023259298177435994,
      "elapsed_instrumentation": 0.00006829400081187487,
      "return_value": {
        "class": "Symbol",
        "value": ":actor",
        "object_id": 17461788
      }
    },
    {
      "id": 231,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 9,
      "static": true,
      "parameters": [
        {
          "name": "value",
          "class": "Symbol",
          "object_id": 703388,
          "value": ":object",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 232,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 9,
      "static": true,
      "parameters": [
        {
          "name": "value",
          "class": "String",
          "object_id": 1464420,
          "value": "object",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 233,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower_cache",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 5,
      "static": true,
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 234,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 233,
      "elapsed": 0.000002362998202443123,
      "elapsed_instrumentation": 0.00020005699479952455,
      "return_value": {
        "class": "Hash",
        "value": "{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...31 more entries)}",
        "object_id": 1463200,
        "size": 41
      }
    },
    {
      "id": 235,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 232,
      "elapsed": 0.0002192439860664308,
      "elapsed_instrumentation": 0.000056743971072137356,
      "return_value": {
        "class": "String",
        "value": "object",
        "object_id": 1463340
      }
    },
    {
      "id": 236,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 231,
      "elapsed": 0.00029041501693427563,
      "elapsed_instrumentation": 0.000055379990953952074,
      "return_value": {
        "class": "Symbol",
        "value": ":object",
        "object_id": 703388
      }
    },
    {
      "id": 237,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 9,
      "static": true,
      "parameters": [
        {
          "name": "value",
          "class": "Symbol",
          "object_id": 679388,
          "value": ":id",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 238,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 9,
      "static": true,
      "parameters": [
        {
          "name": "value",
          "class": "String",
          "object_id": 1464440,
          "value": "id",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 239,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower_cache",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 5,
      "static": true,
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 240,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 239,
      "elapsed": 0.0000019859871827065945,
      "elapsed_instrumentation": 0.00014049606397747993,
      "return_value": {
        "class": "Hash",
        "value": "{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...31 more entries)}",
        "object_id": 1463200,
        "size": 41
      }
    },
    {
      "id": 241,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 238,
      "elapsed": 0.00015667802654206753,
      "elapsed_instrumentation": 0.00005820096703246236,
      "return_value": {
        "class": "String",
        "value": "id",
        "object_id": 1463220
      }
    },
    {
      "id": 242,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 237,
      "elapsed": 0.00022901402553543448,
      "elapsed_instrumentation": 0.00005828897701576352,
      "return_value": {
        "class": "Symbol",
        "value": ":id",
        "object_id": 679388
      }
    },
    {
      "id": 243,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 9,
      "static": true,
      "parameters": [
        {
          "name": "value",
          "class": "Symbol",
          "object_id": 688668,
          "value": ":type",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 244,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 9,
      "static": true,
      "parameters": [
        {
          "name": "value",
          "class": "String",
          "object_id": 1464460,
          "value": "type",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 245,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower_cache",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 5,
      "static": true,
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 246,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 245,
      "elapsed": 0.0000018550199456512928,
      "elapsed_instrumentation": 0.00013995298650115728,
      "return_value": {
        "class": "Hash",
        "value": "{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...31 more entries)}",
        "object_id": 1463200,
        "size": 41
      }
    },
    {
      "id": 247,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 244,
      "elapsed": 0.00015595601871609688,
      "elapsed_instrumentation": 0.000056722958106547594,
      "return_value": {
        "class": "String",
        "value": "type",
        "object_id": 1463260
      }
    },
    {
      "id": 248,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 243,
      "elapsed": 0.00022645702119916677,
      "elapsed_instrumentation": 0.00005477102240547538,
      "return_value": {
        "class": "Symbol",
        "value": ":type",
        "object_id": 688668
      }
    },
    {
      "id": 249,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 9,
      "static": true,
      "parameters": [
        {
          "name": "value",
          "class": "Symbol",
          "object_id": 17461788,
          "value": ":actor",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 250,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 9,
      "static": true,
      "parameters": [
        {
          "name": "value",
          "class": "String",
          "object_id": 1464480,
          "value": "actor",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 251,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower_cache",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 5,
      "static": true,
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 252,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 251,
      "elapsed": 0.000001960026565939188,
      "elapsed_instrumentation": 0.00022529502166435122,
      "return_value": {
        "class": "Hash",
        "value": "{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...31 more entries)}",
        "object_id": 1463200,
        "size": 41
      }
    },
    {
      "id": 253,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 250,
      "elapsed": 0.00024364900309592485,
      "elapsed_instrumentation": 0.00005699496250599623,
      "return_value": {
        "class": "String",
        "value": "actor",
        "object_id": 1463300
      }
    },
    {
      "id": 254,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 249,
      "elapsed": 0.0003144890069961548,
      "elapsed_instrumentation": 0.00005538598634302616,
      "return_value": {
        "class": "Symbol",
        "value": ":actor",
        "object_id": 17461788
      }
    },
    {
      "id": 255,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 9,
      "static": true,
      "parameters": [
        {
          "name": "value",
          "class": "Symbol",
          "object_id": 703388,
          "value": ":object",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 256,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 9,
      "static": true,
      "parameters": [
        {
          "name": "value",
          "class": "String",
          "object_id": 1464500,
          "value": "object",
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 257,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActivityPub::CaseTransform",
      "method_id": "camel_lower_cache",
      "path": "app/lib/activitypub/case_transform.rb",
      "lineno": 5,
      "static": true,
      "receiver": {
        "class": "Module",
        "object_id": 1463160,
        "value": "ActivityPub::CaseTransform"
      }
    },
    {
      "id": 258,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 257,
      "elapsed": 0.0000023809843696653843,
      "elapsed_instrumentation": 0.00014873198233544827,
      "return_value": {
        "class": "Hash",
        "value": "{id=>id, type=>type, actor=>actor, object=>object, inbox=>inbox, outbox=>outbox, preferred_username=>preferredUsername, url=>url, manually_approves_followers=>manuallyApprovesFollowers, public_key=>publicKey (...31 more entries)}",
        "object_id": 1463200,
        "size": 41
      }
    },
    {
      "id": 259,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 256,
      "elapsed": 0.0001669810153543949,
      "elapsed_instrumentation": 0.00008402694948017597,
      "return_value": {
        "class": "String",
        "value": "object",
        "object_id": 1463340
      }
    },
    {
      "id": 260,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 255,
      "elapsed": 0.0005906189908273518,
      "elapsed_instrumentation": 0.00006163801299408078,
      "return_value": {
        "class": "Symbol",
        "value": ":object",
        "object_id": 703388
      }
    },
    {
      "id": 261,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 212,
      "elapsed": 0.0033671369892545044,
      "elapsed_instrumentation": 0.00024311605375260115,
      "return_value": {
        "class": "Hash",
        "value": "{:id=>https://cb6e6126.ngrok.io/users/alice#rejects/follows/5346, :type=>Reject, :actor=>https://cb6e6126.ngrok.io/users/alice, :object=>{:id=>https://cb6e6126.ngrok.io/d049b394-03fa-4958-96f3-2eb80e29c578, :type=>Follow, :actor=>https://evil.org/users/wolf, :object=>https://cb6e6126.ngrok.io/users/alice}}",
        "object_id": 1464320,
        "size": 4
      }
    },
    {
      "id": 262,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 211,
      "elapsed": 0.003629815997555852,
      "elapsed_instrumentation": 0.00023081700783222914,
      "return_value": {
        "class": "Hash",
        "value": "{:id=>https://cb6e6126.ngrok.io/users/alice#rejects/follows/5346, :type=>Reject, :actor=>https://cb6e6126.ngrok.io/users/alice, :object=>{:id=>https://cb6e6126.ngrok.io/d049b394-03fa-4958-96f3-2eb80e29c578, :type=>Follow, :actor=>https://evil.org/users/wolf, :object=>https://cb6e6126.ngrok.io/users/alice}}",
        "object_id": 1464320,
        "size": 4
      }
    },
    {
      "id": 263,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ContextHelper",
      "method_id": "serialized_context",
      "path": "app/helpers/context_helper.rb",
      "lineno": 41,
      "static": false,
      "parameters": [
        {
          "name": "named_contexts_map",
          "class": "Hash",
          "object_id": 1464520,
          "value": "{:activitystreams=>}",
          "kind": "req",
          "size": 1
        },
        {
          "name": "context_extensions_map",
          "class": "Hash",
          "object_id": 1464540,
          "value": "{}",
          "kind": "req",
          "size": 0
        }
      ],
      "receiver": {
        "class": "ActivityPub::Adapter",
        "object_id": 1464040,
        "value": "#<ActivityPub::Adapter:0x00007fc937eb4df0>"
      }
    },
    {
      "id": 264,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 263,
      "elapsed": 0.000008089002221822739,
      "elapsed_instrumentation": 0.00009585201041772962,
      "return_value": {
        "class": "String",
        "value": "https://www.w3.org/ns/activitystreams",
        "object_id": 1463480
      }
    },
    {
      "id": 265,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 142,
      "elapsed": 0.008795669011306018,
      "elapsed_instrumentation": 0.00014208396896719933,
      "return_value": {
        "class": "Hash",
        "value": "{@context=>https://www.w3.org/ns/activitystreams, :id=>https://cb6e6126.ngrok.io/users/alice#rejects/follows/5346, :type=>Reject, :actor=>https://cb6e6126.ngrok.io/users/alice, :object=>{:id=>https://cb6e6126.ngrok.io/d049b394-03fa-4958-96f3-2eb80e29c578, :type=>Follow, :actor=>https://evil.org/users/wolf, :object=>https://cb6e6126.ngrok.io/users/alice}}",
        "object_id": 1464560,
        "size": 5
      }
    },
    {
      "id": 266,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActiveSupport::Callbacks::CallbackSequence",
      "method_id": "invoke_after",
      "path": "vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb",
      "lineno": 601,
      "static": false,
      "parameters": [
        {
          "name": "arg",
          "class": "ActiveSupport::Callbacks::Filters::Environment",
          "object_id": 1464020,
          "value": null,
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "ActiveSupport::Callbacks::CallbackSequence",
        "object_id": 326220,
        "value": "#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f0c0>"
      }
    },
    {
      "id": 267,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 266,
      "elapsed": 0.000003390014171600342,
      "elapsed_instrumentation": 0.00007127202115952969,
      "return_value": {
        "class": "Array",
        "value": "[]",
        "object_id": 328060,
        "size": 0
      }
    },
    {
      "id": 268,
      "event": "call",
      "thread_id": 9160,
      "defined_class": "ActiveSupport::Callbacks::CallbackSequence",
      "method_id": "invoke_after",
      "path": "vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb",
      "lineno": 601,
      "static": false,
      "parameters": [
        {
          "name": "arg",
          "class": "ActiveSupport::Callbacks::Filters::Environment",
          "object_id": 1464020,
          "value": null,
          "kind": "req"
        }
      ],
      "receiver": {
        "class": "ActiveSupport::Callbacks::CallbackSequence",
        "object_id": 326180,
        "value": "#<ActiveSupport::Callbacks::CallbackSequence:0x00007fc934e9f070>"
      }
    },
    {
      "id": 269,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 268,
      "elapsed": 0.000002344953827559948,
      "elapsed_instrumentation": 0.00005935598164796829,
      "return_value": {
        "class": "Array",
        "value": "[]",
        "object_id": 328080,
        "size": 0
      }
    },
    {
      "id": 270,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 137,
      "elapsed": 0.009439904999453574,
      "elapsed_instrumentation": 0.00023075903300195932,
      "return_value": {
        "class": "Hash",
        "value": "{@context=>https://www.w3.org/ns/activitystreams, :id=>https://cb6e6126.ngrok.io/users/alice#rejects/follows/5346, :type=>Reject, :actor=>https://cb6e6126.ngrok.io/users/alice, :object=>{:id=>https://cb6e6126.ngrok.io/d049b394-03fa-4958-96f3-2eb80e29c578, :type=>Follow, :actor=>https://evil.org/users/wolf, :object=>https://cb6e6126.ngrok.io/users/alice}}",
        "object_id": 1464560,
        "size": 5
      }
    },
    {
      "id": 271,
      "event": "call",
      "thread_id": 9160,
      "sql_query": {
        "sql": "SELECT \"follow_requests\".* FROM \"follow_requests\" WHERE \"follow_requests\".\"target_account_id\" = $1 AND \"follow_requests\".\"account_id\" IN (SELECT \"accounts\".\"id\" FROM \"accounts\" WHERE \"accounts\".\"domain\" = $2) ORDER BY \"follow_requests\".\"id\" ASC LIMIT $3",
        "database_type": "postgres"
      }
    },
    {
      "id": 272,
      "event": "return",
      "thread_id": 9160,
      "parent_id": 271,
      "elapsed": 0.001147159,
      "elapsed_instrumentation": 0.00007728202035650611
    }
  ],
  "version": "1.12.0",
  "metadata": {
    "app": "mastodon",
    "language": {
      "name": "ruby",
      "engine": "ruby",
      "version": "3.2.2"
    },
    "client": {
      "name": "appmap",
      "url": "https://github.com/applandinc/appmap-ruby",
      "version": "0.102.1"
    },
    "frameworks": [
      {
        "name": "rails",
        "version": "7.1.1"
      },
      {
        "name": "rspec",
        "version": "3.12.2"
      }
    ],
    "git": {
      "repository": "https://github.com/sgrigson/mastodon.git",
      "branch": "appmap-config",
      "commit": "2c1ae2317e8741caf25b51e9b3b2c15776c54ae3",
      "git_last_annotated_tag": "0.1.2-14608-g2c1ae2317e8741caf25b51e9b3b2c15776c54ae3",
      "git_last_tag": "v4.2.0",
      "git_commits_since_last_annotated_tag": 0,
      "git_commits_since_last_tag": 0
    },
    "name": "AfterBlockDomainFromAccountService sends Reject->Follow to followers from blocked domain",
    "source_location": "spec/services/after_block_domain_from_account_service_spec.rb",
    "recorder": {
      "name": "rspec",
      "type": "tests"
    },
    "test_status": "succeeded"
  },
  "classMap": [
    {
      "name": "app",
      "type": "package",
      "children": [
        {
          "name": "models",
          "type": "package",
          "children": [
            {
              "name": "concerns",
              "type": "package",
              "children": [
                {
                  "name": "AccountInteractions",
                  "type": "class",
                  "children": [
                    {
                      "name": "follow!",
                      "type": "function",
                      "static": false,
                      "location": "app/models/concerns/account_interactions.rb:115"
                    }
                  ]
                },
                {
                  "name": "RateLimitable",
                  "type": "class",
                  "children": [
                    {
                      "name": "rate_limit=",
                      "type": "function",
                      "static": false,
                      "location": "app/models/concerns/rate_limitable.rb:6"
                    },
                    {
                      "name": "rate_limit?",
                      "type": "function",
                      "static": false,
                      "location": "app/models/concerns/rate_limitable.rb:10"
                    }
                  ]
                },
                {
                  "name": "FollowLimitable",
                  "type": "class",
                  "children": [
                    {
                      "name": "bypass_follow_limit=",
                      "type": "function",
                      "static": false,
                      "location": "app/models/concerns/follow_limitable.rb:10"
                    },
                    {
                      "name": "bypass_follow_limit?",
                      "type": "function",
                      "static": false,
                      "location": "app/models/concerns/follow_limitable.rb:14"
                    }
                  ]
                },
                {
                  "name": "AccountCounters",
                  "type": "class",
                  "children": [
                    {
                      "name": "increment_count!",
                      "type": "function",
                      "static": false,
                      "location": "app/models/concerns/account_counters.rb:23"
                    },
                    {
                      "name": "update_count!",
                      "type": "function",
                      "static": false,
                      "location": "app/models/concerns/account_counters.rb:34"
                    },
                    {
                      "name": "decrement_count!",
                      "type": "function",
                      "static": false,
                      "location": "app/models/concerns/account_counters.rb:28"
                    }
                  ]
                },
                {
                  "name": "Redisable",
                  "type": "class",
                  "children": [
                    {
                      "name": "redis",
                      "type": "function",
                      "static": false,
                      "location": "app/models/concerns/redisable.rb:4"
                    }
                  ]
                }
              ]
            },
            {
              "name": "Account",
              "type": "class",
              "children": [
                {
                  "name": "local?",
                  "type": "function",
                  "static": false,
                  "location": "app/models/account.rb:163"
                },
                {
                  "name": "synchronization_uri_prefix",
                  "type": "function",
                  "static": false,
                  "location": "app/models/account.rb:409"
                },
                {
                  "name": "object_type",
                  "type": "function",
                  "static": false,
                  "location": "app/models/account.rb:385"
                },
                {
                  "name": "instance_actor?",
                  "type": "function",
                  "static": false,
                  "location": "app/models/account.rb:175"
                },
                {
                  "name": "to_param",
                  "type": "function",
                  "static": false,
                  "location": "app/models/account.rb:389"
                }
              ]
            },
            {
              "name": "Follow",
              "type": "class",
              "children": [
                {
                  "name": "local?",
                  "type": "function",
                  "static": false,
                  "location": "app/models/follow.rb:36"
                }
              ]
            }
          ]
        },
        {
          "name": "lib",
          "type": "package",
          "children": [
            {
              "name": "activitypub",
              "type": "package",
              "children": [
                {
                  "name": "ActivityPub",
                  "type": "class",
                  "children": [
                    {
                      "name": "TagManager",
                      "type": "class",
                      "children": [
                        {
                          "name": "generate_uri_for",
                          "type": "function",
                          "static": false,
                          "location": "app/lib/activitypub/tag_manager.rb:61"
                        },
                        {
                          "name": "uri_for",
                          "type": "function",
                          "static": false,
                          "location": "app/lib/activitypub/tag_manager.rb:36"
                        }
                      ]
                    },
                    {
                      "name": "Adapter",
                      "type": "class",
                      "children": [
                        {
                          "name": "serializable_hash",
                          "type": "function",
                          "static": false,
                          "location": "app/lib/activitypub/adapter.rb:14"
                        },
                        {
                          "name": "transform_key_casing!",
                          "type": "function",
                          "static": true,
                          "location": "app/lib/activitypub/adapter.rb:10"
                        }
                      ]
                    },
                    {
                      "name": "Serializer",
                      "type": "class",
                      "children": [
                        {
                          "name": "serializable_hash",
                          "type": "function",
                          "static": false,
                          "location": "app/lib/activitypub/serializer.rb:31"
                        }
                      ]
                    },
                    {
                      "name": "CaseTransform",
                      "type": "class",
                      "children": [
                        {
                          "name": "camel_lower",
                          "type": "function",
                          "static": true,
                          "location": "app/lib/activitypub/case_transform.rb:9"
                        },
                        {
                          "name": "camel_lower_cache",
                          "type": "function",
                          "static": true,
                          "location": "app/lib/activitypub/case_transform.rb:5"
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "name": "PotentialFriendshipTracker",
              "type": "class",
              "children": [
                {
                  "name": "remove",
                  "type": "function",
                  "static": true,
                  "location": "app/lib/potential_friendship_tracker.rb:27"
                }
              ]
            }
          ]
        },
        {
          "name": "helpers",
          "type": "package",
          "children": [
            {
              "name": "ActivityPub",
              "type": "class",
              "children": [
                {
                  "name": "TagManager",
                  "type": "class",
                  "children": [
                    {
                      "name": "default_url_options",
                      "type": "function",
                      "static": false,
                      "location": "app/helpers/routing_helper.rb:12"
                    }
                  ]
                }
              ]
            },
            {
              "name": "ContextHelper",
              "type": "class",
              "children": [
                {
                  "name": "serialized_context",
                  "type": "function",
                  "static": false,
                  "location": "app/helpers/context_helper.rb:41"
                }
              ]
            }
          ]
        },
        {
          "name": "validators",
          "type": "package",
          "children": [
            {
              "name": "FollowLimitValidator",
              "type": "class",
              "children": [
                {
                  "name": "validate",
                  "type": "function",
                  "static": false,
                  "location": "app/validators/follow_limit_validator.rb:7"
                }
              ]
            },
            {
              "name": "LanguageValidator",
              "type": "class",
              "children": [
                {
                  "name": "validate_each",
                  "type": "function",
                  "static": false,
                  "location": "app/validators/language_validator.rb:6"
                }
              ]
            }
          ]
        },
        {
          "name": "services/concerns",
          "type": "package",
          "children": [
            {
              "name": "Payloadable",
              "type": "class",
              "children": [
                {
                  "name": "serialize_payload",
                  "type": "function",
                  "static": false,
                  "location": "app/services/concerns/payloadable.rb:13"
                }
              ]
            }
          ]
        },
        {
          "name": "serializers/activitypub",
          "type": "package",
          "children": [
            {
              "name": "ActivityPub",
              "type": "class",
              "children": [
                {
                  "name": "RejectFollowSerializer",
                  "type": "class",
                  "children": [
                    {
                      "name": "id",
                      "type": "function",
                      "static": false,
                      "location": "app/serializers/activitypub/reject_follow_serializer.rb:8"
                    },
                    {
                      "name": "type",
                      "type": "function",
                      "static": false,
                      "location": "app/serializers/activitypub/reject_follow_serializer.rb:12"
                    },
                    {
                      "name": "actor",
                      "type": "function",
                      "static": false,
                      "location": "app/serializers/activitypub/reject_follow_serializer.rb:16"
                    }
                  ]
                },
                {
                  "name": "FollowSerializer",
                  "type": "class",
                  "children": [
                    {
                      "name": "id",
                      "type": "function",
                      "static": false,
                      "location": "app/serializers/activitypub/follow_serializer.rb:7"
                    },
                    {
                      "name": "type",
                      "type": "function",
                      "static": false,
                      "location": "app/serializers/activitypub/follow_serializer.rb:11"
                    },
                    {
                      "name": "actor",
                      "type": "function",
                      "static": false,
                      "location": "app/serializers/activitypub/follow_serializer.rb:15"
                    },
                    {
                      "name": "virtual_object",
                      "type": "function",
                      "static": false,
                      "location": "app/serializers/activitypub/follow_serializer.rb:19"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "activesupport",
      "type": "package",
      "children": [
        {
          "name": "ActiveSupport",
          "type": "class",
          "children": [
            {
              "name": "Callbacks",
              "type": "class",
              "children": [
                {
                  "name": "CallbackSequence",
                  "type": "class",
                  "children": [
                    {
                      "name": "invoke_before",
                      "type": "function",
                      "labels": [
                        "mvc.before_action"
                      ],
                      "static": false,
                      "location": "vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597"
                    },
                    {
                      "name": "invoke_after",
                      "type": "function",
                      "labels": [
                        "mvc.after_action"
                      ],
                      "static": false,
                      "location": "vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "ruby",
      "type": "package",
      "children": [
        {
          "name": "String",
          "type": "class",
          "children": [
            {
              "name": "unpack",
              "type": "function",
              "labels": [
                "string.unpack"
              ],
              "static": false,
              "location": "<internal:pack>:19"
            }
          ]
        }
      ]
    },
    {
      "name": "logger",
      "type": "package",
      "children": [
        {
          "name": "Logger",
          "type": "class",
          "children": [
            {
              "name": "LogDevice",
              "type": "class",
              "children": [
                {
                  "name": "write",
                  "type": "function",
                  "labels": [
                    "log"
                  ],
                  "static": false,
                  "location": "/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "database",
      "name": "Database",
      "children": [
        {
          "type": "query",
          "name": "SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3"
        },
        {
          "type": "query",
          "name": "SAVEPOINT active_record_1"
        },
        {
          "type": "query",
          "name": "SELECT 1 AS one FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" = $2 LIMIT $3"
        },
        {
          "type": "query",
          "name": "INSERT INTO \"follows\" (\"created_at\", \"updated_at\", \"account_id\", \"target_account_id\", \"show_reblogs\", \"uri\", \"notify\", \"languages\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING \"id\""
        },
        {
          "type": "query",
          "name": "INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361329180377342, 1, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + 1, updated_at = now() RETURNING id;"
        },
        {
          "type": "query",
          "name": "INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361329180377343, 1, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + 1, updated_at = now() RETURNING id;"
        },
        {
          "type": "query",
          "name": "RELEASE SAVEPOINT active_record_1"
        },
        {
          "type": "query",
          "name": "SELECT \"notifications\".\"id\" FROM \"notifications\" WHERE \"notifications\".\"account_id\" = $1 AND \"notifications\".\"from_account_id\" IN (SELECT \"accounts\".\"id\" FROM \"accounts\" WHERE \"accounts\".\"domain\" = $2) ORDER BY \"notifications\".\"id\" ASC LIMIT $3"
        },
        {
          "type": "query",
          "name": "SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"account_id\" = $1 AND \"follows\".\"target_account_id\" IN (SELECT \"accounts\".\"id\" FROM \"accounts\" WHERE \"accounts\".\"domain\" = $2) ORDER BY \"follows\".\"id\" ASC LIMIT $3"
        },
        {
          "type": "query",
          "name": "SELECT \"follows\".* FROM \"follows\" WHERE \"follows\".\"target_account_id\" = $1 AND \"follows\".\"account_id\" IN (SELECT \"accounts\".\"id\" FROM \"accounts\" WHERE \"accounts\".\"domain\" = $2) ORDER BY \"follows\".\"id\" ASC LIMIT $3"
        },
        {
          "type": "query",
          "name": "SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1"
        },
        {
          "type": "query",
          "name": "SELECT \"notifications\".* FROM \"notifications\" WHERE \"notifications\".\"activity_id\" = $1 AND \"notifications\".\"activity_type\" = $2 LIMIT $3"
        },
        {
          "type": "query",
          "name": "DELETE FROM \"follows\" WHERE \"follows\".\"id\" = $1"
        },
        {
          "type": "query",
          "name": "DELETE FROM \"account_pins\" WHERE \"account_pins\".\"target_account_id\" = $1 AND \"account_pins\".\"account_id\" = $2"
        },
        {
          "type": "query",
          "name": "INSERT INTO account_stats(account_id, following_count, created_at, updated_at) VALUES (111361329180377342, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET following_count = account_stats.following_count + -1, updated_at = now() RETURNING id;"
        },
        {
          "type": "query",
          "name": "INSERT INTO account_stats(account_id, followers_count, created_at, updated_at) VALUES (111361329180377343, 0, now(), now()) ON CONFLICT (account_id) DO UPDATE SET followers_count = account_stats.followers_count + -1, updated_at = now() RETURNING id;"
        },
        {
          "type": "query",
          "name": "SELECT \"follow_requests\".* FROM \"follow_requests\" WHERE \"follow_requests\".\"target_account_id\" = $1 AND \"follow_requests\".\"account_id\" IN (SELECT \"accounts\".\"id\" FROM \"accounts\" WHERE \"accounts\".\"domain\" = $2) ORDER BY \"follow_requests\".\"id\" ASC LIMIT $3"
        }
      ]
    }
  ]
}