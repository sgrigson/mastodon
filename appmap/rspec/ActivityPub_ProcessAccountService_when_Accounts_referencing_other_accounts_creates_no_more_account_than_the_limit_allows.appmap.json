{"version":"1.12.0","metadata":{"app":"mastodon","language":{"name":"ruby","engine":"ruby","version":"3.2.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.102.1"},"frameworks":[{"name":"rails","version":"7.1.1"},{"name":"rspec","version":"3.12.2"}],"git":{"repository":"https://github.com/sgrigson/mastodon.git","branch":"appmap-config","commit":"50d0a0445fe1bf0ac82032f1958ae8e614b2ebd3","status":["M .env.test","M .husky/pre-commit","M appmap/rspec/API_routes_Account_routes_routes_to_followers/appmap-findings.json","M appmap/rspec/API_routes_Account_routes_routes_to_search/appmap-findings.json","M appmap/rspec/API_routes_Account_routes_routes_to_statuses/appmap-findings.json","M appmap/rspec/API_routes_Credentials_routes_routes_to_update_credentials/appmap-findings.json","M appmap/rspec/API_routes_Credentials_routes_routes_to_verify_credentials/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_favourite/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_favourited_by/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_mute/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_reblog/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_reblogged_by/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_unfavourite/appmap-findings.json","M appmap/rspec/API_routes_Statuses_routes_routes_unmute/appmap-findings.json","M appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_name_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_redirect_uris_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_website_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_an_unsupported_scope_returns_http_unprocessable_entity.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_many_duplicate_scopes_only_saves_the_scope_once.appmap.json","M appmap/rspec/Apps_POST_api_v1_apps_with_valid_params_creates_an_OAuth_app.appmap.json","?? appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_name_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_redirect_uris_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_a_too-long_website_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_an_unsupported_scope_returns_http_unprocessable_entity/","?? appmap/rspec/Apps_POST_api_v1_apps_with_many_duplicate_scopes_only_saves_the_scope_once/","?? appmap/rspec/Apps_POST_api_v1_apps_with_valid_params_creates_an_OAuth_app/","?? appmap/rspec/Apps_POST_api_v1_apps_without_required_params_returns_http_unprocessable_entity/","?? appmap/rspec/Auth_ChallengesController_POST_create_with_correct_password_redirects_back/"],"git_last_annotated_tag":"0.1.2-14643-g50d0a0445fe1bf0ac82032f1958ae8e614b2ebd3","git_last_tag":"v4.2.0","git_commits_since_last_annotated_tag":0,"git_commits_since_last_tag":0},"name":"ActivityPub::ProcessAccountService when Accounts referencing other accounts creates no more account than the limit allows","source_location":"spec/services/activitypub/process_account_service_spec.rb","recorder":{"name":"rspec","type":"tests"},"test_status":"failed","test_failure":{"message":"body has already been consumed","location":"app/lib/request.rb:217"},"exception":{"class":"HTTP::StateError","message":"body has already been consumed"}},"classMap":[{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb:31","static":false,"labels":["log"]}]}]}]},{"name":"app","type":"package","children":[{"name":"helpers","type":"package","children":[{"name":"JsonLdHelper","type":"class","children":[{"name":"unsupported_uri_scheme?","type":"function","location":"app/helpers/jsonld_helper.rb:62","static":false},{"name":"first_of_value","type":"function","location":"app/helpers/jsonld_helper.rb:14","static":false},{"name":"as_array","type":"function","location":"app/helpers/jsonld_helper.rb:44","static":false},{"name":"fetch_resource","type":"function","location":"app/helpers/jsonld_helper.rb:158","static":false},{"name":"fetch_resource_without_id_validation","type":"function","location":"app/helpers/jsonld_helper.rb:171","static":false},{"name":"build_request","type":"function","location":"app/helpers/jsonld_helper.rb:207","static":false},{"name":"response_successful?","type":"function","location":"app/helpers/jsonld_helper.rb:199","static":false}]},{"name":"DomainControlHelper","type":"class","children":[{"name":"domain_not_allowed?","type":"function","location":"app/helpers/domain_control_helper.rb:4","static":false},{"name":"limited_federation_mode?","type":"function","location":"app/helpers/domain_control_helper.rb:20","static":false}]},{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"default_url_options","type":"function","location":"app/helpers/routing_helper.rb:12","static":false}]}]}]},{"name":"models","type":"package","children":[{"name":"DomainBlock","type":"class","children":[{"name":"blocked?","type":"function","location":"app/models/domain_block.rb:49","static":true},{"name":"rule_for","type":"function","location":"app/models/domain_block.rb:67","static":true}]},{"name":"concerns","type":"package","children":[{"name":"Lockable","type":"class","children":[{"name":"with_redis_lock","type":"function","location":"app/models/concerns/lockable.rb:8","static":false}]},{"name":"Redisable","type":"class","children":[{"name":"with_redis","type":"function","location":"app/models/concerns/redisable.rb:8","static":false}]},{"name":"AccountFinderConcern","type":"class","children":[{"name":"AccountFinder","type":"class","children":[{"name":"account","type":"function","location":"app/models/concerns/account_finder_concern.rb:40","static":false}]}]},{"name":"DomainMaterializable","type":"class","children":[{"name":"refresh_instances_view","type":"function","location":"app/models/concerns/domain_materializable.rb:12","static":false},{"name":"count_unique_subdomains!","type":"function","location":"app/models/concerns/domain_materializable.rb:19","static":false}]},{"name":"Account","type":"class","children":[{"name":"avatar_remote_url=","type":"function","location":"app/models/concerns/remotable.rb:41","static":false},{"name":"download_avatar!","type":"function","location":"app/models/concerns/remotable.rb:10","static":false},{"name":"header_remote_url=","type":"function","location":"app/models/concerns/remotable.rb:41","static":false},{"name":"download_header!","type":"function","location":"app/models/concerns/remotable.rb:10","static":false}]},{"name":"AccountCounters","type":"class","children":[{"name":"account_stat","type":"function","location":"app/models/concerns/account_counters.rb:76","static":false}]}]},{"name":"Account","type":"class","children":[{"name":"local?","type":"function","location":"app/models/account.rb:163","static":false},{"name":"suspended?","type":"function","location":"app/models/account.rb:237","static":false},{"name":"save_with_optional_media!","type":"function","location":"app/models/account.rb:362","static":false},{"name":"ensure_keys!","type":"function","location":"app/models/account.rb:478","static":false},{"name":"keypair","type":"function","location":"app/models/account.rb:293","static":false},{"name":"object_type","type":"function","location":"app/models/account.rb:385","static":false},{"name":"instance_actor?","type":"function","location":"app/models/account.rb:175","static":false}]},{"name":"Instance","type":"class","children":[{"name":"refresh","type":"function","location":"app/models/instance.rb:28","static":true}]}]},{"name":"lib","type":"package","children":[{"name":"TagManager","type":"class","children":[{"name":"normalize_domain","type":"function","location":"app/lib/tag_manager.rb:17","static":false}]},{"name":"RedisConfiguration","type":"class","children":[{"name":"with","type":"function","location":"app/lib/redis_configuration.rb:10","static":true},{"name":"pool","type":"function","location":"app/lib/redis_configuration.rb:12","static":true}]},{"name":"Request","type":"class","children":[{"name":"on_behalf_of","type":"function","location":"app/lib/request.rb:91","static":false},{"name":"add_headers","type":"function","location":"app/lib/request.rb:100","static":false},{"name":"perform","type":"function","location":"app/lib/request.rb:105","static":false},{"name":"http_client","type":"function","location":"app/lib/request.rb:141","static":true},{"name":"headers","type":"function","location":"app/lib/request.rb:126","static":false},{"name":"ClientLimit","type":"class","children":[{"name":"body_with_limit","type":"function","location":"app/lib/request.rb:227","static":false},{"name":"truncated_body","type":"function","location":"app/lib/request.rb:204","static":false}]}]},{"name":"activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"TagManager","type":"class","children":[{"name":"key_uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:53","static":false},{"name":"uri_for","type":"function","location":"app/lib/activitypub/tag_manager.rb:36","static":false}]}]}]}]},{"name":"validators","type":"package","children":[{"name":"UniqueUsernameValidator","type":"class","children":[{"name":"validate","type":"function","location":"app/validators/unique_username_validator.rb:6","static":false}]}]},{"name":"workers/activitypub","type":"package","children":[{"name":"ActivityPub","type":"class","children":[{"name":"SynchronizeFeaturedCollectionWorker","type":"class","children":[{"name":"perform","type":"function","location":"app/workers/activitypub/synchronize_featured_collection_worker.rb:8","static":false}]}]}]}]},{"name":"ruby","type":"package","children":[{"name":"String","type":"class","children":[{"name":"unpack","type":"function","location":"<internal:pack>:19","static":false,"labels":["string.unpack"]},{"name":"unpack1","type":"function","location":"<internal:pack>:28","static":false,"labels":["string.unpack"]}]},{"name":"ERB","type":"class","children":[{"name":"result","type":"function","location":"/usr/local/lib/ruby/3.2.0/erb.rb:425","static":false}]},{"name":"Kernel","type":"class","children":[{"name":"eval","type":"function","location":"Kernel.eval","static":true,"labels":["lang.eval"]}]},{"name":"Array","type":"class","children":[{"name":"pack","type":"function","location":"<internal:pack>:7","static":false,"labels":["array.pack"]}]}]},{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:597","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb:601","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"lib","type":"package","children":[{"name":"paperclip","type":"package","children":[{"name":"Paperclip","type":"class","children":[{"name":"AttachmentExtensions","type":"class","children":[{"name":"save","type":"function","location":"lib/paperclip/attachment_extensions.rb:83","static":false}]}]}]},{"name":"mastodon","type":"package","children":[{"name":"Mastodon","type":"class","children":[{"name":"Version","type":"class","children":[{"name":"user_agent","type":"function","location":"lib/mastodon/version.rb:67","static":true}]}]}]}]},{"name":"json","type":"package","children":[{"name":"JSON","type":"class","children":[{"name":"Ext","type":"class","children":[{"name":"Generator","type":"class","children":[{"name":"State","type":"class","children":[{"name":"generate","type":"function","location":"JSON::Ext::Generator::State#generate","static":false,"labels":["format.json.generate","serialize"]}]}]},{"name":"Parser","type":"class","children":[{"name":"parse","type":"function","location":"JSON::Ext::Parser#parse","static":false,"labels":["format.json.parse","deserialize.safe"]}]}]}]}]},{"name":"openssl","type":"package","children":[{"name":"OpenSSL","type":"class","children":[{"name":"PKey","type":"class","children":[{"name":"PKey","type":"class","children":[{"name":"sign","type":"function","location":"OpenSSL::PKey::PKey#sign","static":false,"labels":["crypto.pkey"]}]}]}]}]}],"events":[{"id":4691,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"domain\" IS NOT NULL","database_type":"postgres"}},{"id":4692,"event":"return","thread_id":9960,"parent_id":4691,"elapsed":0.001532341,"elapsed_instrumentation":0.0001627089804969728},{"id":4693,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":244800,"value":"  \u001b[1m\u001b[36mAccount Count (1.7ms)\u001b[0m  \u001b[1m\u001b[34mSELECT COUNT(*) FROM \"accounts\" WHERE \"accounts\".\"dom (...21 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":4694,"event":"return","thread_id":9960,"parent_id":4693,"elapsed":0.0016093929880298674,"elapsed_instrumentation":0.0003954090061597526,"return_value":{"class":"Integer","value":"121","object_id":243}},{"id":4695,"event":"call","thread_id":9960,"defined_class":"JsonLdHelper","method_id":"unsupported_uri_scheme?","path":"app/helpers/jsonld_helper.rb","lineno":62,"static":false,"parameters":[{"name":"uri","class":"String","object_id":244820,"value":"https://foo.test/users/1","kind":"req"}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":244840,"value":"#<ActivityPub::ProcessAccountService:0x00007f5e11e0c538>"}},{"id":4696,"event":"return","thread_id":9960,"parent_id":4695,"elapsed":8.024973794817924e-06,"elapsed_instrumentation":0.00036866299342364073},{"id":4697,"event":"call","thread_id":9960,"defined_class":"DomainControlHelper","method_id":"domain_not_allowed?","path":"app/helpers/domain_control_helper.rb","lineno":4,"static":false,"parameters":[{"name":"uri_or_domain","class":"String","object_id":244860,"value":"foo.test","kind":"req"}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":244840,"value":"#<ActivityPub::ProcessAccountService:0x00007f5e11e0c538>"}},{"id":4698,"event":"call","thread_id":9960,"defined_class":"DomainControlHelper","method_id":"limited_federation_mode?","path":"app/helpers/domain_control_helper.rb","lineno":20,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":244840,"value":"#<ActivityPub::ProcessAccountService:0x00007f5e11e0c538>"}},{"id":4699,"event":"return","thread_id":9960,"parent_id":4698,"elapsed":1.577299553900957e-05,"elapsed_instrumentation":5.37930172868073e-05},{"id":4700,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT a.attname, format_type(a.atttypid, a.atttypmod),\n       pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod,\n       c.collname, col_description(a.attrelid, a.attnum) AS comment,\n       a.attidentity AS identity,\n       attgenerated as attgenerated\n  FROM pg_attribute a\n  LEFT JOIN pg_attrdef d ON a.attrelid = d.adrelid AND a.attnum = d.adnum\n  LEFT JOIN pg_type t ON a.atttypid = t.oid\n  LEFT JOIN pg_collation c ON a.attcollation = c.oid AND a.attcollation <> t.typcollation\n WHERE a.attrelid = '\"domain_blocks\"'::regclass\n   AND a.attnum > 0 AND NOT a.attisdropped\n ORDER BY a.attnum\n","database_type":"postgres"}},{"id":4701,"event":"return","thread_id":9960,"parent_id":4700,"elapsed":0.004389933,"elapsed_instrumentation":0.00010860100155696273},{"id":4702,"event":"call","thread_id":9960,"defined_class":"DomainBlock","method_id":"blocked?","path":"app/models/domain_block.rb","lineno":49,"static":true,"parameters":[{"name":"domain","class":"String","object_id":244860,"value":"foo.test","kind":"req"}],"receiver":{"class":"Class","object_id":244900,"value":"DomainBlock"}},{"id":4703,"event":"call","thread_id":9960,"defined_class":"DomainBlock","method_id":"rule_for","path":"app/models/domain_block.rb","lineno":67,"static":true,"parameters":[{"name":"domain","class":"String","object_id":244860,"value":"foo.test","kind":"req"}],"receiver":{"class":"Class","object_id":244900,"value":"DomainBlock"}},{"id":4704,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"domain_blocks\".* FROM \"domain_blocks\" WHERE \"domain_blocks\".\"domain\" IN ($1, $2) ORDER BY char_length(domain) desc LIMIT $3","database_type":"postgres"}},{"id":4705,"event":"return","thread_id":9960,"parent_id":4704,"elapsed":0.001389982,"elapsed_instrumentation":9.047298226505518e-05},{"id":4706,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":244920,"value":"  \u001b[1m\u001b[36mDomainBlock Load (1.5ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"domain_blocks\".* FROM \"domain_blocks\" WHER (...146 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":4707,"event":"return","thread_id":9960,"parent_id":4706,"elapsed":0.0019269699696451426,"elapsed_instrumentation":0.00027315900661051273,"return_value":{"class":"Integer","value":"246","object_id":493}},{"id":4708,"event":"return","thread_id":9960,"parent_id":4703,"elapsed":0.005711566016543657,"elapsed_instrumentation":0.00012069393415004015},{"id":4709,"event":"return","thread_id":9960,"parent_id":4702,"elapsed":0.005870929977390915,"elapsed_instrumentation":0.00023580703418701887},{"id":4710,"event":"return","thread_id":9960,"parent_id":4697,"elapsed":0.10690069902921095,"elapsed_instrumentation":0.00012617302127182484},{"id":4711,"event":"call","thread_id":9960,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":244860,"value":"foo.test","kind":"req"}],"receiver":{"class":"TagManager","object_id":199560,"value":"#<TagManager:0x00007f5e1188f740>"}},{"id":4712,"event":"return","thread_id":9960,"parent_id":4711,"elapsed":0.0001113640028052032,"elapsed_instrumentation":0.0001815779833123088,"return_value":{"class":"String","value":"foo.test","object_id":244940}},{"id":4713,"event":"call","thread_id":9960,"defined_class":"Lockable","method_id":"with_redis_lock","path":"app/models/concerns/lockable.rb","lineno":8,"static":false,"parameters":[{"name":"lock_name","class":"String","object_id":244960,"value":"process_account:https://foo.test/users/1","kind":"req"},{"name":"autorelease","class":"NilClass","object_id":4,"value":null,"kind":"key"},{"name":"raise_on_failure","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":244840,"value":"#<ActivityPub::ProcessAccountService:0x00007f5e11e0c538>"}},{"id":4714,"event":"call","thread_id":9960,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":244840,"value":"#<ActivityPub::ProcessAccountService:0x00007f5e11e0c538>"}},{"id":4715,"event":"call","thread_id":9960,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":244980,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":245000,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":27000,"value":"RedisConfiguration"}},{"id":4716,"event":"call","thread_id":9960,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":27000,"value":"RedisConfiguration"}},{"id":4717,"event":"return","thread_id":9960,"parent_id":4716,"elapsed":3.9969454519450665e-06,"elapsed_instrumentation":7.69440084695816e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007f5e126adbb0>","object_id":209440}},{"id":4718,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack","path":"<internal:pack>","lineno":19,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":245020,"value":"NnnnnN","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":245040,"value":"\u0015__c\b__3__vi__7g"}},{"id":4719,"event":"return","thread_id":9960,"parent_id":4718,"elapsed":6.593996658921242e-06,"elapsed_instrumentation":0.00017542100977152586,"return_value":{"class":"Array","value":"[361874275, 2272, 50227, 49566, 30313, 2832873319]","object_id":245060,"size":6}},{"id":4720,"event":"call","thread_id":9960,"defined_class":"AccountFinderConcern::AccountFinder","method_id":"account","path":"app/models/concerns/account_finder_concern.rb","lineno":40,"static":false,"parameters":[],"receiver":{"class":"AccountFinderConcern::AccountFinder","object_id":245080,"value":"#<AccountFinderConcern::AccountFinder:0x00007f5e11bdd820>"}},{"id":4721,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") != '' AND LOWER(\"accounts\".\"username\") = 'user1' AND LOWER(\"accounts\".\"domain\") = 'foo.test' ORDER BY \"accounts\".\"id\" ASC LIMIT $1","database_type":"postgres"}},{"id":4722,"event":"return","thread_id":9960,"parent_id":4721,"elapsed":0.001316613,"elapsed_instrumentation":0.0001785909989848733},{"id":4723,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":245100,"value":"  \u001b[1m\u001b[36mAccount Load (1.5ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accoun (...1466 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":4724,"event":"return","thread_id":9960,"parent_id":4723,"elapsed":0.0034166370169259608,"elapsed_instrumentation":0.0002598190330900252,"return_value":{"class":"Integer","value":"1566","object_id":3133}},{"id":4725,"event":"return","thread_id":9960,"parent_id":4720,"elapsed":0.009709503967314959,"elapsed_instrumentation":0.00015057303244248033},{"id":4726,"event":"call","thread_id":9960,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":244840,"value":"#<ActivityPub::ProcessAccountService:0x00007f5e11e0c538>"}},{"id":4727,"event":"call","thread_id":9960,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":245120,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":245140,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":27000,"value":"RedisConfiguration"}},{"id":4728,"event":"call","thread_id":9960,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":27000,"value":"RedisConfiguration"}},{"id":4729,"event":"return","thread_id":9960,"parent_id":4728,"elapsed":3.7800054997205734e-06,"elapsed_instrumentation":8.079595863819122e-05,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007f5e126adbb0>","object_id":209440}},{"id":4730,"event":"return","thread_id":9960,"parent_id":4727,"elapsed":0.0026958350208587945,"elapsed_instrumentation":0.00014021294191479683},{"id":4731,"event":"return","thread_id":9960,"parent_id":4726,"elapsed":0.002874250989407301,"elapsed_instrumentation":0.00013788300566375256},{"id":4732,"event":"call","thread_id":9960,"defined_class":"DomainBlock","method_id":"rule_for","path":"app/models/domain_block.rb","lineno":67,"static":true,"parameters":[{"name":"domain","class":"String","object_id":244940,"value":"foo.test","kind":"req"}],"receiver":{"class":"Class","object_id":244900,"value":"DomainBlock"}},{"id":4733,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"domain_blocks\".* FROM \"domain_blocks\" WHERE \"domain_blocks\".\"domain\" IN ($1, $2) ORDER BY char_length(domain) desc LIMIT $3","database_type":"postgres"}},{"id":4734,"event":"return","thread_id":9960,"parent_id":4733,"elapsed":0.00117932,"elapsed_instrumentation":0.0001548349973745644},{"id":4735,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":245160,"value":"  \u001b[1m\u001b[36mDomainBlock Load (1.4ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"domain_blocks\".* FROM \"domain_blocks\" WHER (...146 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":4736,"event":"return","thread_id":9960,"parent_id":4735,"elapsed":0.0020554529619403183,"elapsed_instrumentation":0.00023611797951161861,"return_value":{"class":"Integer","value":"246","object_id":493}},{"id":4737,"event":"return","thread_id":9960,"parent_id":4732,"elapsed":0.005759841995313764,"elapsed_instrumentation":0.0005506520392373204},{"id":4738,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":245180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12869170>"}},{"id":4739,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4740,"event":"return","thread_id":9960,"parent_id":4739,"elapsed":2.7796952053904533e-05,"elapsed_instrumentation":0.00040926702786237},{"id":4741,"event":"call","thread_id":9960,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":245220,"value":"foo.test","kind":"req"}],"receiver":{"class":"TagManager","object_id":199560,"value":"#<TagManager:0x00007f5e1188f740>"}},{"id":4742,"event":"return","thread_id":9960,"parent_id":4741,"elapsed":0.0001388730015605688,"elapsed_instrumentation":0.00021065905457362533,"return_value":{"class":"String","value":"foo.test","object_id":245240}},{"id":4743,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4744,"event":"return","thread_id":9960,"parent_id":4743,"elapsed":1.777196303009987e-05,"elapsed_instrumentation":0.00012320000678300858},{"id":4745,"event":"return","thread_id":9960,"parent_id":4738,"elapsed":0.0013512670411728323,"elapsed_instrumentation":0.00027723400853574276,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e12852218 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12852358 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12852498 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12852650 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":191160,"size":4}},{"id":4746,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":245260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e128690d0>"}},{"id":4747,"event":"call","thread_id":9960,"defined_class":"UniqueUsernameValidator","method_id":"validate","path":"app/validators/unique_username_validator.rb","lineno":6,"static":false,"parameters":[{"name":"account","class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>","kind":"req"}],"receiver":{"class":"UniqueUsernameValidator","object_id":191220,"value":"#<UniqueUsernameValidator:0x00007f5e13f10590>"}},{"id":4748,"event":"call","thread_id":9960,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":4749,"event":"return","thread_id":9960,"parent_id":4748,"elapsed":0.000878116,"elapsed_instrumentation":0.00010119203943759203},{"id":4750,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":245280,"value":"  \u001b[1m\u001b[36mTRANSACTION (1.0ms)\u001b[0m  \u001b[1m\u001b[35mSAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":4751,"event":"return","thread_id":9960,"parent_id":4750,"elapsed":0.0017246640054509044,"elapsed_instrumentation":0.00019850803073495626,"return_value":{"class":"Integer","value":"75","object_id":151}},{"id":4752,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"accounts\" WHERE LOWER(\"accounts\".\"username\") = 'user1' AND LOWER(\"accounts\".\"domain\") = 'foo.test' LIMIT $1","database_type":"postgres"}},{"id":4753,"event":"return","thread_id":9960,"parent_id":4752,"elapsed":0.004081763,"elapsed_instrumentation":0.0001762579777278006},{"id":4754,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":245300,"value":"  \u001b[1m\u001b[36mAccount Exists? (4.3ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"accounts\" WHERE LOWER(\"accoun (...99 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":4755,"event":"return","thread_id":9960,"parent_id":4754,"elapsed":0.0016217310330830514,"elapsed_instrumentation":0.00017000397201627493,"return_value":{"class":"Integer","value":"199","object_id":399}},{"id":4756,"event":"return","thread_id":9960,"parent_id":4747,"elapsed":0.007742454006802291,"elapsed_instrumentation":0.0005529919872060418},{"id":4757,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4758,"event":"return","thread_id":9960,"parent_id":4757,"elapsed":1.2664997484534979e-05,"elapsed_instrumentation":0.00010009401012212038},{"id":4759,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4760,"event":"return","thread_id":9960,"parent_id":4759,"elapsed":5.037989467382431e-06,"elapsed_instrumentation":6.665399996563792e-05},{"id":4761,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4762,"event":"return","thread_id":9960,"parent_id":4761,"elapsed":4.536006599664688e-06,"elapsed_instrumentation":5.61870401725173e-05},{"id":4763,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4764,"event":"return","thread_id":9960,"parent_id":4763,"elapsed":4.6470086090266705e-06,"elapsed_instrumentation":5.054200300946832e-05},{"id":4765,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4766,"event":"return","thread_id":9960,"parent_id":4765,"elapsed":4.427973181009293e-06,"elapsed_instrumentation":4.9899041187018156e-05},{"id":4767,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4768,"event":"return","thread_id":9960,"parent_id":4767,"elapsed":4.10998472943902e-06,"elapsed_instrumentation":4.879303742200136e-05},{"id":4769,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4770,"event":"return","thread_id":9960,"parent_id":4769,"elapsed":4.134955815970898e-06,"elapsed_instrumentation":4.940503276884556e-05},{"id":4771,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4772,"event":"return","thread_id":9960,"parent_id":4771,"elapsed":4.3470063246786594e-06,"elapsed_instrumentation":0.00013225304428488016},{"id":4773,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4774,"event":"return","thread_id":9960,"parent_id":4773,"elapsed":5.909998435527086e-06,"elapsed_instrumentation":7.55349756218493e-05},{"id":4775,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4776,"event":"return","thread_id":9960,"parent_id":4775,"elapsed":4.559988155961037e-06,"elapsed_instrumentation":5.369097925722599e-05},{"id":4777,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4778,"event":"return","thread_id":9960,"parent_id":4777,"elapsed":4.269997589290142e-06,"elapsed_instrumentation":5.088397301733494e-05},{"id":4779,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4780,"event":"return","thread_id":9960,"parent_id":4779,"elapsed":4.999979864805937e-06,"elapsed_instrumentation":5.0190952606499195e-05},{"id":4781,"event":"return","thread_id":9960,"parent_id":4746,"elapsed":0.010885277995839715,"elapsed_instrumentation":0.00022150500444695354,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e12839e20 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12839fd8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a118 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a258 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a398 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a4d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a640 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a780 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a8c0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283aa00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...61 more items)]","object_id":191520,"size":71}},{"id":4782,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":245260,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e128690d0>"}},{"id":4783,"event":"return","thread_id":9960,"parent_id":4782,"elapsed":3.4659751690924168e-06,"elapsed_instrumentation":9.12800314836204e-05,"return_value":{"class":"Array","value":"[]","object_id":191540,"size":0}},{"id":4784,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":245180,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12869170>"}},{"id":4785,"event":"return","thread_id":9960,"parent_id":4784,"elapsed":1.115299528464675e-05,"elapsed_instrumentation":9.177095489576459e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e128520d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":191560,"size":1}},{"id":4786,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":245320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12868360>"}},{"id":4787,"event":"return","thread_id":9960,"parent_id":4786,"elapsed":2.3603031877428293e-05,"elapsed_instrumentation":9.891093941405416e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e1282d120 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":191800,"size":1}},{"id":4788,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":245320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12868400>"}},{"id":4789,"event":"return","thread_id":9960,"parent_id":4788,"elapsed":3.31696355715394e-06,"elapsed_instrumentation":0.00010536203626543283,"return_value":{"class":"Array","value":"[]","object_id":191840,"size":0}},{"id":4790,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":245340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12868270>"}},{"id":4791,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4792,"event":"return","thread_id":9960,"parent_id":4791,"elapsed":6.428977940231562e-06,"elapsed_instrumentation":6.022199522703886e-05},{"id":4793,"event":"return","thread_id":9960,"parent_id":4790,"elapsed":9.529199451208115e-05,"elapsed_instrumentation":0.0001056860201060772,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e1282b988 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":191900,"size":1}},{"id":4794,"event":"call","thread_id":9960,"sql_query":{"sql":"INSERT INTO \"accounts\" (\"username\", \"domain\", \"private_key\", \"public_key\", \"created_at\", \"updated_at\", \"note\", \"display_name\", \"uri\", \"url\", \"avatar_file_name\", \"avatar_content_type\", \"avatar_file_size\", \"avatar_updated_at\", \"header_file_name\", \"header_content_type\", \"header_file_size\", \"header_updated_at\", \"avatar_remote_url\", \"locked\", \"header_remote_url\", \"last_webfingered_at\", \"inbox_url\", \"outbox_url\", \"shared_inbox_url\", \"followers_url\", \"protocol\", \"memorial\", \"moved_to_account_id\", \"featured_collection_url\", \"fields\", \"actor_type\", \"discoverable\", \"also_known_as\", \"silenced_at\", \"suspended_at\", \"hide_collections\", \"avatar_storage_schema_version\", \"header_storage_schema_version\", \"devices_url\", \"suspension_origin\", \"sensitized_at\", \"trendable\", \"reviewed_at\", \"requested_review_at\", \"indexable\") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23, $24, $25, $26, $27, $28, $29, $30, $31, $32, $33, $34, $35, $36, $37, $38, $39, $40, $41, $42, $43, $44, $45, $46) RETURNING \"id\"","database_type":"postgres"}},{"id":4795,"event":"return","thread_id":9960,"parent_id":4794,"elapsed":0.003296083,"elapsed_instrumentation":0.00013209698954597116},{"id":4796,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":245360,"value":"  \u001b[1m\u001b[36mAccount Create (3.5ms)\u001b[0m  \u001b[1m\u001b[32mINSERT INTO \"accounts\" (\"username\", \"domain\", \"priva (...2252 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":4797,"event":"return","thread_id":9960,"parent_id":4796,"elapsed":0.002256189996842295,"elapsed_instrumentation":0.0003321149852126837,"return_value":{"class":"Integer","value":"2352","object_id":4705}},{"id":4798,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":245340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12868270>"}},{"id":4799,"event":"return","thread_id":9960,"parent_id":4798,"elapsed":0.0006036499980837107,"elapsed_instrumentation":0.00026767695089802146,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e1282b7d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282b618 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282b460 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282b2a8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282b0f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282af38 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282ad80 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282abc8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282aa10 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282a858 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...43 more items)]","object_id":192600,"size":53}},{"id":4800,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":245320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12868400>"}},{"id":4801,"event":"return","thread_id":9960,"parent_id":4800,"elapsed":3.196008037775755e-06,"elapsed_instrumentation":9.526102803647518e-05,"return_value":{"class":"Array","value":"[]","object_id":192620,"size":0}},{"id":4802,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":245320,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12868360>"}},{"id":4803,"event":"call","thread_id":9960,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":245380,"value":"/avatars/original/missing.png"}},{"id":4804,"event":"return","thread_id":9960,"parent_id":4803,"elapsed":3.4514989238232374e-05,"elapsed_instrumentation":0.00021430000197142363,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":4805,"event":"call","thread_id":9960,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":245400,"value":"/headers/original/missing.png"}},{"id":4806,"event":"return","thread_id":9960,"parent_id":4805,"elapsed":2.5886984076350927e-05,"elapsed_instrumentation":0.000241610046941787,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":4807,"event":"return","thread_id":9960,"parent_id":4802,"elapsed":0.0007496990147046745,"elapsed_instrumentation":0.00013118097558617592,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e1282cf68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282cdb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282cbf8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282ca40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":192680,"size":4}},{"id":4808,"event":"call","thread_id":9960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":4809,"event":"return","thread_id":9960,"parent_id":4808,"elapsed":0.000619164,"elapsed_instrumentation":9.654200403019786e-05},{"id":4810,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":245420,"value":"  \u001b[1m\u001b[36mTRANSACTION (0.7ms)\u001b[0m  \u001b[1m\u001b[35mRELEASE SAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":4811,"event":"return","thread_id":9960,"parent_id":4810,"elapsed":0.001961256959475577,"elapsed_instrumentation":0.0001612770138308406,"return_value":{"class":"Integer","value":"83","object_id":167}},{"id":4812,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":245440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":195460,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e127a7728>"}},{"id":4813,"event":"return","thread_id":9960,"parent_id":4812,"elapsed":4.0879822336137295e-06,"elapsed_instrumentation":0.0002201679744757712,"return_value":{"class":"Array","value":"[]","object_id":195480,"size":0}},{"id":4814,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":245440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":195460,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e127a7728>"}},{"id":4815,"event":"call","thread_id":9960,"defined_class":"DomainMaterializable","method_id":"refresh_instances_view","path":"app/models/concerns/domain_materializable.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4816,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT 1 AS one FROM \"instances\" WHERE \"instances\".\"domain\" = $1 LIMIT $2","database_type":"postgres"}},{"id":4817,"event":"return","thread_id":9960,"parent_id":4816,"elapsed":0.001355858,"elapsed_instrumentation":9.286700515076518e-05},{"id":4818,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":245460,"value":"  \u001b[1m\u001b[36mInstance Exists? (1.5ms)\u001b[0m  \u001b[1m\u001b[34mSELECT 1 AS one FROM \"instances\" WHERE \"instances\" (...68 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":4819,"event":"return","thread_id":9960,"parent_id":4818,"elapsed":0.002204360964242369,"elapsed_instrumentation":0.00015851401258260012,"return_value":{"class":"Integer","value":"168","object_id":337}},{"id":4820,"event":"call","thread_id":9960,"defined_class":"Instance","method_id":"refresh","path":"app/models/instance.rb","lineno":28,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":209300,"value":"Instance"}},{"id":4821,"event":"call","thread_id":9960,"sql_query":{"sql":"REFRESH MATERIALIZED VIEW CONCURRENTLY \"instances\";","database_type":"postgres"}},{"id":4822,"event":"return","thread_id":9960,"parent_id":4821,"elapsed":0.017699033,"elapsed_instrumentation":0.00016753800446167588},{"id":4823,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":245480,"value":"  \u001b[1m\u001b[35m (17.9ms)\u001b[0m  \u001b[1m\u001b[35mREFRESH MATERIALIZED VIEW CONCURRENTLY \"instances\";\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":4824,"event":"return","thread_id":9960,"parent_id":4823,"elapsed":0.0020485969725996256,"elapsed_instrumentation":0.00026908802101388574,"return_value":{"class":"Integer","value":"91","object_id":183}},{"id":4825,"event":"return","thread_id":9960,"parent_id":4820,"elapsed":0.02064880996476859,"elapsed_instrumentation":0.00016104604583233595,"return_value":{"class":"PG::Result","value":"#<PG::Result:0x00007f5e11b8c510>","object_id":245500}},{"id":4826,"event":"call","thread_id":9960,"defined_class":"DomainMaterializable","method_id":"count_unique_subdomains!","path":"app/models/concerns/domain_materializable.rb","lineno":19,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4827,"event":"call","thread_id":9960,"defined_class":"Redisable","method_id":"with_redis","path":"app/models/concerns/redisable.rb","lineno":8,"static":false,"parameters":[{"name":"block","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4828,"event":"call","thread_id":9960,"defined_class":"RedisConfiguration","method_id":"with","path":"app/lib/redis_configuration.rb","lineno":10,"static":true,"parameters":[{"name":"*","class":"Array","object_id":245520,"value":"[]","kind":"rest","size":0},{"name":"**","class":"Hash","object_id":245540,"value":"{}","kind":"keyrest","size":0},{"name":"&","class":"NilClass","object_id":4,"value":null,"kind":"block"}],"receiver":{"class":"Class","object_id":27000,"value":"RedisConfiguration"}},{"id":4829,"event":"call","thread_id":9960,"defined_class":"RedisConfiguration","method_id":"pool","path":"app/lib/redis_configuration.rb","lineno":12,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":27000,"value":"RedisConfiguration"}},{"id":4830,"event":"return","thread_id":9960,"parent_id":4829,"elapsed":6.065994966775179e-06,"elapsed_instrumentation":0.00013284198939800262,"return_value":{"class":"ConnectionPool","value":"#<ConnectionPool:0x00007f5e126adbb0>","object_id":209440}},{"id":4831,"event":"return","thread_id":9960,"parent_id":4828,"elapsed":0.002385095984209329,"elapsed_instrumentation":0.00021890399511903524,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":4832,"event":"return","thread_id":9960,"parent_id":4827,"elapsed":0.002648916037287563,"elapsed_instrumentation":0.00014849501894786954,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":4833,"event":"return","thread_id":9960,"parent_id":4826,"elapsed":0.002992719004396349,"elapsed_instrumentation":0.0003749449970200658,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":4834,"event":"return","thread_id":9960,"parent_id":4815,"elapsed":0.029142242041416466,"elapsed_instrumentation":9.15739219635725e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":4835,"event":"return","thread_id":9960,"parent_id":4814,"elapsed":0.029365375987254083,"elapsed_instrumentation":0.0001798630109988153,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e12791fe0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12791db0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12791b80 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e127919c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12791810 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12791658 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":195500,"size":6}},{"id":4836,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4837,"event":"return","thread_id":9960,"parent_id":4836,"elapsed":3.1977950129657984e-05,"elapsed_instrumentation":0.00019212201004847884},{"id":4838,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4839,"event":"return","thread_id":9960,"parent_id":4838,"elapsed":1.0395015124231577e-05,"elapsed_instrumentation":0.00010216096416115761},{"id":4840,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4841,"event":"return","thread_id":9960,"parent_id":4840,"elapsed":1.609395258128643e-05,"elapsed_instrumentation":0.00035396404564380646},{"id":4842,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4843,"event":"return","thread_id":9960,"parent_id":4842,"elapsed":5.638983566313982e-06,"elapsed_instrumentation":7.51909683458507e-05},{"id":4844,"event":"call","thread_id":9960,"defined_class":"JsonLdHelper","method_id":"first_of_value","path":"app/helpers/jsonld_helper.rb","lineno":14,"static":false,"parameters":[{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":244840,"value":"#<ActivityPub::ProcessAccountService:0x00007f5e11e0c538>"}},{"id":4845,"event":"return","thread_id":9960,"parent_id":4844,"elapsed":6.606976967304945e-06,"elapsed_instrumentation":0.00012183305807411671},{"id":4846,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4847,"event":"return","thread_id":9960,"parent_id":4846,"elapsed":9.502982720732689e-06,"elapsed_instrumentation":0.00023572699865326285},{"id":4848,"event":"call","thread_id":9960,"defined_class":"JsonLdHelper","method_id":"as_array","path":"app/helpers/jsonld_helper.rb","lineno":44,"static":false,"parameters":[{"name":"value","class":"Array","object_id":245560,"value":"[]","kind":"req","size":0}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":244840,"value":"#<ActivityPub::ProcessAccountService:0x00007f5e11e0c538>"}},{"id":4849,"event":"return","thread_id":9960,"parent_id":4848,"elapsed":5.9140147641301155e-06,"elapsed_instrumentation":0.0001585969584994018,"return_value":{"class":"Array","value":"[]","object_id":245560,"size":0}},{"id":4850,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4851,"event":"return","thread_id":9960,"parent_id":4850,"elapsed":6.261980161070824e-06,"elapsed_instrumentation":6.468710489571095e-05},{"id":4852,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4853,"event":"return","thread_id":9960,"parent_id":4852,"elapsed":5.3140101954340935e-06,"elapsed_instrumentation":5.2897026762366295e-05},{"id":4854,"event":"call","thread_id":9960,"defined_class":"JsonLdHelper","method_id":"first_of_value","path":"app/helpers/jsonld_helper.rb","lineno":14,"static":false,"parameters":[{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":244840,"value":"#<ActivityPub::ProcessAccountService:0x00007f5e11e0c538>"}},{"id":4855,"event":"return","thread_id":9960,"parent_id":4854,"elapsed":3.3499673008918762e-06,"elapsed_instrumentation":6.27160188741982e-05},{"id":4856,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"avatar_remote_url=","path":"app/models/concerns/remotable.rb","lineno":41,"static":false,"parameters":[{"name":"url","class":"String","object_id":232600,"value":"","kind":"req"}],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4857,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"download_avatar!","path":"app/models/concerns/remotable.rb","lineno":10,"static":false,"parameters":[{"name":"url","class":"String","object_id":232600,"value":"","kind":"opt"}],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4858,"event":"return","thread_id":9960,"parent_id":4857,"elapsed":8.838018402457237e-06,"elapsed_instrumentation":0.00016611098544672132},{"id":4859,"event":"return","thread_id":9960,"parent_id":4856,"elapsed":0.0005443200352601707,"elapsed_instrumentation":9.870401117950678e-05},{"id":4860,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4861,"event":"return","thread_id":9960,"parent_id":4860,"elapsed":6.692018359899521e-06,"elapsed_instrumentation":9.15160053409636e-05},{"id":4862,"event":"call","thread_id":9960,"defined_class":"JsonLdHelper","method_id":"first_of_value","path":"app/helpers/jsonld_helper.rb","lineno":14,"static":false,"parameters":[{"name":"value","class":"NilClass","object_id":4,"value":null,"kind":"req"}],"receiver":{"class":"ActivityPub::ProcessAccountService","object_id":244840,"value":"#<ActivityPub::ProcessAccountService:0x00007f5e11e0c538>"}},{"id":4863,"event":"return","thread_id":9960,"parent_id":4862,"elapsed":7.1579706855118275e-06,"elapsed_instrumentation":0.00016368500655516982},{"id":4864,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"header_remote_url=","path":"app/models/concerns/remotable.rb","lineno":41,"static":false,"parameters":[{"name":"url","class":"String","object_id":232600,"value":"","kind":"req"}],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4865,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"download_header!","path":"app/models/concerns/remotable.rb","lineno":10,"static":false,"parameters":[{"name":"url","class":"String","object_id":232600,"value":"","kind":"opt"}],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4866,"event":"return","thread_id":9960,"parent_id":4865,"elapsed":5.684967618435621e-06,"elapsed_instrumentation":9.750307071954012e-05},{"id":4867,"event":"return","thread_id":9960,"parent_id":4864,"elapsed":0.00016075896564871073,"elapsed_instrumentation":0.00013095501344650984},{"id":4868,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"save_with_optional_media!","path":"app/models/account.rb","lineno":362,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4869,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":246340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12869170>"}},{"id":4870,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4871,"event":"return","thread_id":9960,"parent_id":4870,"elapsed":7.209018804132938e-06,"elapsed_instrumentation":6.254494655877352e-05},{"id":4872,"event":"call","thread_id":9960,"defined_class":"TagManager","method_id":"normalize_domain","path":"app/lib/tag_manager.rb","lineno":17,"static":false,"parameters":[{"name":"domain","class":"String","object_id":246360,"value":"foo.test","kind":"req"}],"receiver":{"class":"TagManager","object_id":199560,"value":"#<TagManager:0x00007f5e1188f740>"}},{"id":4873,"event":"return","thread_id":9960,"parent_id":4872,"elapsed":9.29440138861537e-05,"elapsed_instrumentation":0.00010019796900451183,"return_value":{"class":"String","value":"foo.test","object_id":246380}},{"id":4874,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4875,"event":"return","thread_id":9960,"parent_id":4874,"elapsed":9.534007403999567e-06,"elapsed_instrumentation":6.583001231774688e-05},{"id":4876,"event":"return","thread_id":9960,"parent_id":4869,"elapsed":0.0005047380109317601,"elapsed_instrumentation":0.00016727292677387595,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e12852218 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12852358 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12852498 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12852650 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":191160,"size":4}},{"id":4877,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":246400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e128690d0>"}},{"id":4878,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4879,"event":"return","thread_id":9960,"parent_id":4878,"elapsed":6.01599458605051e-06,"elapsed_instrumentation":8.013396291062236e-05},{"id":4880,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4881,"event":"return","thread_id":9960,"parent_id":4880,"elapsed":9.85403312370181e-06,"elapsed_instrumentation":0.00024654396111145616},{"id":4882,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4883,"event":"return","thread_id":9960,"parent_id":4882,"elapsed":5.397014319896698e-06,"elapsed_instrumentation":8.13179649412632e-05},{"id":4884,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4885,"event":"return","thread_id":9960,"parent_id":4884,"elapsed":4.516972694545984e-06,"elapsed_instrumentation":5.9332000091671944e-05},{"id":4886,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4887,"event":"return","thread_id":9960,"parent_id":4886,"elapsed":4.351022653281689e-06,"elapsed_instrumentation":5.2935967687517405e-05},{"id":4888,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4889,"event":"return","thread_id":9960,"parent_id":4888,"elapsed":4.243978764861822e-06,"elapsed_instrumentation":4.9385998863726854e-05},{"id":4890,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4891,"event":"return","thread_id":9960,"parent_id":4890,"elapsed":6.550981197506189e-06,"elapsed_instrumentation":5.1426992285996675e-05},{"id":4892,"event":"return","thread_id":9960,"parent_id":4877,"elapsed":0.0016068890108726919,"elapsed_instrumentation":0.0004896859754808247,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e12839e20 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12839fd8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a118 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a258 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a398 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a4d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a640 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a780 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283a8c0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1283aa00 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...61 more items)]","object_id":191520,"size":71}},{"id":4893,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":246400,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191200,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e128690d0>"}},{"id":4894,"event":"return","thread_id":9960,"parent_id":4893,"elapsed":3.9199949242174625e-06,"elapsed_instrumentation":0.00011499301763251424,"return_value":{"class":"Array","value":"[]","object_id":191540,"size":0}},{"id":4895,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":246340,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191120,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12869170>"}},{"id":4896,"event":"return","thread_id":9960,"parent_id":4895,"elapsed":1.1886993888765574e-05,"elapsed_instrumentation":9.885698091238737e-05,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e128520d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":191560,"size":1}},{"id":4897,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":246420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12868360>"}},{"id":4898,"event":"return","thread_id":9960,"parent_id":4897,"elapsed":3.880501026287675e-05,"elapsed_instrumentation":0.00010250601917505264,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e1282d120 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":191800,"size":1}},{"id":4899,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":246420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12868400>"}},{"id":4900,"event":"return","thread_id":9960,"parent_id":4899,"elapsed":2.900022082030773e-06,"elapsed_instrumentation":7.777102291584015e-05,"return_value":{"class":"Array","value":"[]","object_id":191840,"size":0}},{"id":4901,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":246440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":246460,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11ee85d8>"}},{"id":4902,"event":"return","thread_id":9960,"parent_id":4901,"elapsed":3.1570089049637318e-06,"elapsed_instrumentation":0.00011374196037650108,"return_value":{"class":"Array","value":"[]","object_id":246480,"size":0}},{"id":4903,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":246500,"value":"{}","kind":"req","size":0}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":246520,"value":"#<JSON::Ext::Generator::State:0x00007f5e11af8c98>"}},{"id":4904,"event":"return","thread_id":9960,"parent_id":4903,"elapsed":5.148991476744413e-06,"elapsed_instrumentation":0.00013332499656826258,"return_value":{"class":"String","value":"{}","object_id":246540}},{"id":4905,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":246560,"value":"#<JSON::Ext::Parser:0x00007f5e11af7d98>"}},{"id":4906,"event":"return","thread_id":9960,"parent_id":4905,"elapsed":3.428023774176836e-06,"elapsed_instrumentation":7.808994268998504e-05,"return_value":{"class":"Hash","value":"{}","object_id":246580,"size":0}},{"id":4907,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":246600,"value":"{}","kind":"req","size":0}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":246620,"value":"#<JSON::Ext::Generator::State:0x00007f5e11af5e80>"}},{"id":4908,"event":"return","thread_id":9960,"parent_id":4907,"elapsed":5.073961801826954e-06,"elapsed_instrumentation":0.00013366900384426117,"return_value":{"class":"String","value":"{}","object_id":246640}},{"id":4909,"event":"call","thread_id":9960,"sql_query":{"sql":"SAVEPOINT active_record_1","database_type":"postgres"}},{"id":4910,"event":"return","thread_id":9960,"parent_id":4909,"elapsed":0.000693026,"elapsed_instrumentation":8.882803376764059e-05},{"id":4911,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":246660,"value":"  \u001b[1m\u001b[36mTRANSACTION (0.8ms)\u001b[0m  \u001b[1m\u001b[35mSAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":4912,"event":"return","thread_id":9960,"parent_id":4911,"elapsed":0.0016891470295377076,"elapsed_instrumentation":0.0001465969835408032,"return_value":{"class":"Integer","value":"75","object_id":151}},{"id":4913,"event":"call","thread_id":9960,"sql_query":{"sql":"UPDATE \"accounts\" SET \"updated_at\" = $1, \"avatar_remote_url\" = $2, \"last_webfingered_at\" = $3, \"featured_collection_url\" = $4, \"fields\" = $5, \"discoverable\" = $6, \"also_known_as\" = $7, \"hide_collections\" = $8, \"devices_url\" = $9 WHERE \"accounts\".\"id\" = $10","database_type":"postgres"}},{"id":4914,"event":"return","thread_id":9960,"parent_id":4913,"elapsed":0.004055401,"elapsed_instrumentation":8.361600339412689e-05},{"id":4915,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":246680,"value":"  \u001b[1m\u001b[36mAccount Update (4.2ms)\u001b[0m  \u001b[1m\u001b[33mUPDATE \"accounts\" SET \"updated_at\" = $1, \"avatar_rem (...550 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":4916,"event":"return","thread_id":9960,"parent_id":4915,"elapsed":0.0025495970039628446,"elapsed_instrumentation":0.00018400303088128567,"return_value":{"class":"Integer","value":"650","object_id":1301}},{"id":4917,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":246700,"value":"#<JSON::Ext::Parser:0x00007f5e11af1150>"}},{"id":4918,"event":"return","thread_id":9960,"parent_id":4917,"elapsed":4.739966243505478e-06,"elapsed_instrumentation":0.00016109499847516418,"return_value":{"class":"Hash","value":"{}","object_id":246720,"size":0}},{"id":4919,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":246440,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":246460,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11ee85d8>"}},{"id":4920,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"account_stats\".\"id\", \"account_stats\".\"account_id\", \"account_stats\".\"statuses_count\", \"account_stats\".\"following_count\", \"account_stats\".\"followers_count\", \"account_stats\".\"created_at\", \"account_stats\".\"updated_at\", \"account_stats\".\"last_status_at\" FROM \"account_stats\" WHERE \"account_stats\".\"account_id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":4921,"event":"return","thread_id":9960,"parent_id":4920,"elapsed":0.000696288,"elapsed_instrumentation":0.0002267159870825708},{"id":4922,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":246740,"value":"  \u001b[1m\u001b[36mAccountStat Load (0.9ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"account_stats\".\"id\", \"account_stats\".\"acco (...332 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":4923,"event":"return","thread_id":9960,"parent_id":4922,"elapsed":0.0019264940056018531,"elapsed_instrumentation":0.00023882306413725019,"return_value":{"class":"Integer","value":"432","object_id":865}},{"id":4924,"event":"return","thread_id":9960,"parent_id":4919,"elapsed":0.005095535016153008,"elapsed_instrumentation":0.0002483779680915177,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0eafe538 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eafe290 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eafdfc0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eafdcc8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eafd9d0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eafd6d8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eafd3e0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eafd0e8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eafce18 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e0eafcb20 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib (...43 more items)]","object_id":246760,"size":53}},{"id":4925,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":246420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12868400>"}},{"id":4926,"event":"return","thread_id":9960,"parent_id":4925,"elapsed":4.656962119042873e-06,"elapsed_instrumentation":0.00013766298070549965,"return_value":{"class":"Array","value":"[]","object_id":192620,"size":0}},{"id":4927,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":246420,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":191780,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e12868360>"}},{"id":4928,"event":"call","thread_id":9960,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":245380,"value":"/avatars/original/missing.png"}},{"id":4929,"event":"return","thread_id":9960,"parent_id":4928,"elapsed":3.333197673782706e-05,"elapsed_instrumentation":0.00020136497914791107,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":4930,"event":"call","thread_id":9960,"defined_class":"Paperclip::AttachmentExtensions","method_id":"save","path":"lib/paperclip/attachment_extensions.rb","lineno":83,"static":false,"parameters":[],"receiver":{"class":"Paperclip::Attachment","object_id":245400,"value":"/headers/original/missing.png"}},{"id":4931,"event":"return","thread_id":9960,"parent_id":4930,"elapsed":1.3716984540224075e-05,"elapsed_instrumentation":0.00014409399591386318,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":4932,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4933,"event":"return","thread_id":9960,"parent_id":4932,"elapsed":0.0009233769960701466,"elapsed_instrumentation":0.0001241409918293357,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007f5e0eb93840>","object_id":246780}},{"id":4934,"event":"call","thread_id":9960,"defined_class":"AccountCounters","method_id":"account_stat","path":"app/models/concerns/account_counters.rb","lineno":76,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4935,"event":"return","thread_id":9960,"parent_id":4934,"elapsed":1.2564007192850113e-05,"elapsed_instrumentation":0.00010756897972896695,"return_value":{"class":"AccountStat","value":"#<AccountStat:0x00007f5e0eb93840>","object_id":246780}},{"id":4936,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":246800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":246820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11ee9848>"}},{"id":4937,"event":"return","thread_id":9960,"parent_id":4936,"elapsed":2.3384985979646444e-05,"elapsed_instrumentation":0.00015549204545095563,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e0eaca8f0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":246840,"size":1}},{"id":4938,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":246860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":246880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0ea063b0>"}},{"id":4939,"event":"return","thread_id":9960,"parent_id":4938,"elapsed":8.021702524274588e-05,"elapsed_instrumentation":0.00012351589975878596,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e11b01910 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e11b01b40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":246900,"size":2}},{"id":4940,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":246860,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":246880,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0ea063b0>"}},{"id":4941,"event":"return","thread_id":9960,"parent_id":4940,"elapsed":3.4910044632852077e-06,"elapsed_instrumentation":0.0004058469785377383,"return_value":{"class":"Array","value":"[]","object_id":246920,"size":0}},{"id":4942,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":246800,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":246820,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e11ee9848>"}},{"id":4943,"event":"return","thread_id":9960,"parent_id":4942,"elapsed":3.0310475267469883e-06,"elapsed_instrumentation":0.00010951998410746455,"return_value":{"class":"Array","value":"[]","object_id":246940,"size":0}},{"id":4944,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":246960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":246980,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0ea05e60>"}},{"id":4945,"event":"return","thread_id":9960,"parent_id":4944,"elapsed":4.708894994109869e-05,"elapsed_instrumentation":0.00011982698924839497,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e11aae8a0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":247000,"size":1}},{"id":4946,"event":"call","thread_id":9960,"sql_query":{"sql":"INSERT INTO \"account_stats\" (\"account_id\", \"statuses_count\", \"following_count\", \"followers_count\", \"created_at\", \"updated_at\", \"last_status_at\") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING \"id\"","database_type":"postgres"}},{"id":4947,"event":"return","thread_id":9960,"parent_id":4946,"elapsed":0.000977465,"elapsed_instrumentation":8.695997530594468e-05},{"id":4948,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":247020,"value":"  \u001b[1m\u001b[36mAccountStat Create (1.1ms)\u001b[0m  \u001b[1m\u001b[32mINSERT INTO \"account_stats\" (\"account_id\", \"stat (...378 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":4949,"event":"return","thread_id":9960,"parent_id":4948,"elapsed":0.0020964400027878582,"elapsed_instrumentation":0.00015973602421581745,"return_value":{"class":"Integer","value":"478","object_id":957}},{"id":4950,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":246960,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":246980,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e0ea05e60>"}},{"id":4951,"event":"return","thread_id":9960,"parent_id":4950,"elapsed":0.00010634498903527856,"elapsed_instrumentation":0.00015191896818578243,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e11aae698 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":247040,"size":1}},{"id":4952,"event":"return","thread_id":9960,"parent_id":4927,"elapsed":0.009126874967478216,"elapsed_instrumentation":0.00012463098391890526,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e1282cf68 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282cdb0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282cbf8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e1282ca40 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":192680,"size":4}},{"id":4953,"event":"call","thread_id":9960,"sql_query":{"sql":"RELEASE SAVEPOINT active_record_1","database_type":"postgres"}},{"id":4954,"event":"return","thread_id":9960,"parent_id":4953,"elapsed":0.00039971,"elapsed_instrumentation":7.693201769143343e-05},{"id":4955,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":247060,"value":"  \u001b[1m\u001b[36mTRANSACTION (0.5ms)\u001b[0m  \u001b[1m\u001b[35mRELEASE SAVEPOINT active_record_1\u001b[0m\n","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":4956,"event":"return","thread_id":9960,"parent_id":4955,"elapsed":0.0015342659899033606,"elapsed_instrumentation":0.0001504800166003406,"return_value":{"class":"Integer","value":"83","object_id":167}},{"id":4957,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_before","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":597,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":247080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":195460,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e127a7728>"}},{"id":4958,"event":"return","thread_id":9960,"parent_id":4957,"elapsed":3.5410048440098763e-06,"elapsed_instrumentation":0.00012302299728617072,"return_value":{"class":"Array","value":"[]","object_id":195480,"size":0}},{"id":4959,"event":"call","thread_id":9960,"defined_class":"ActiveSupport::Callbacks::CallbackSequence","method_id":"invoke_after","path":"vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib/active_support/callbacks.rb","lineno":601,"static":false,"parameters":[{"name":"arg","class":"ActiveSupport::Callbacks::Filters::Environment","object_id":247080,"value":null,"kind":"req"}],"receiver":{"class":"ActiveSupport::Callbacks::CallbackSequence","object_id":195460,"value":"#<ActiveSupport::Callbacks::CallbackSequence:0x00007f5e127a7728>"}},{"id":4960,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4961,"event":"return","thread_id":9960,"parent_id":4960,"elapsed":1.4907971490174532e-05,"elapsed_instrumentation":6.689701694995165e-05},{"id":4962,"event":"return","thread_id":9960,"parent_id":4959,"elapsed":0.00016887998208403587,"elapsed_instrumentation":0.0001534410403110087,"return_value":{"class":"Array","value":"[#<Proc:0x00007f5e12791fe0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12791db0 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12791b80 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e127919c8 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12791810 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib, #<Proc:0x00007f5e12791658 /workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/activesupport-7.1.1/lib]","object_id":195500,"size":6}},{"id":4963,"event":"return","thread_id":9960,"parent_id":4868,"elapsed":0.03229808999458328,"elapsed_instrumentation":0.0001289960346184671,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":4964,"event":"return","thread_id":9960,"parent_id":4715,"elapsed":0.12021785799879581,"elapsed_instrumentation":0.0001350180245935917},{"id":4965,"event":"return","thread_id":9960,"parent_id":4714,"elapsed":0.12038570397999138,"elapsed_instrumentation":0.0001999150263145566},{"id":4966,"event":"return","thread_id":9960,"parent_id":4713,"elapsed":0.12062772101489827,"elapsed_instrumentation":0.00014891294995322824},{"id":4967,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":245200,"value":"#<Account:0x00007f5e0eb95140>"}},{"id":4968,"event":"return","thread_id":9960,"parent_id":4967,"elapsed":1.3911980204284191e-05,"elapsed_instrumentation":0.0001164840068668127},{"id":4969,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":192860,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":247140,"value":"_F__*_\u0006#__IK"}},{"id":4970,"event":"return","thread_id":9960,"parent_id":4969,"elapsed":5.916983354836702e-06,"elapsed_instrumentation":0.0002054270589724183,"return_value":{"class":"String","value":"8346bc872afb0623fbf8494b","object_id":247160}},{"id":4971,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":247180,"value":"[[class, ActivityPub::SynchronizeFeaturedCollectionWorker], [lock_args, [111362557232827671, {hashtag=>true, request_id=>1699257770-user1@foo.test}]], [queue, pull]]","kind":"req","size":3}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":247200,"value":"#<JSON::Ext::Generator::State:0x00007f5e11ad4758>"}},{"id":4972,"event":"return","thread_id":9960,"parent_id":4971,"elapsed":9.723997209221125e-06,"elapsed_instrumentation":0.00023713504197075963,"return_value":{"class":"String","value":"[[\"class\",\"ActivityPub::SynchronizeFeaturedCollectionWorker\"],[\"lock_args\",[111362557232827671,{\"has (...72 more characters)","object_id":247220}},{"id":4973,"event":"call","thread_id":9960,"defined_class":"ERB","method_id":"result","path":"/usr/local/lib/ruby/3.2.0/erb.rb","lineno":425,"static":false,"parameters":[{"name":"b","class":"Binding","object_id":247280,"value":"#<Binding:0x00007f5e11a61dc0>","kind":"opt"}],"receiver":{"class":"ERB","object_id":247300,"value":"#<ERB:0x00007f5e0ea37a00>"}},{"id":4974,"event":"call","thread_id":9960,"defined_class":"Kernel","method_id":"eval","path":"Kernel.eval","static":true,"parameters":[{"name":"string","class":"String","object_id":247320,"value":"#coding:UTF-8\n_erbout = +''; _erbout.<< \"-------- BEGIN keys ---------\\nlocal digest    = KEYS[1]\\nl (...2948 more characters)","kind":"req"},{"name":"arg","class":"Array","object_id":247340,"value":"[#<Binding:0x00007f5e11a61dc0>, (erb), 0]","kind":"rest","size":3}],"receiver":{"class":"ERB","object_id":247300,"value":"#<ERB:0x00007f5e0ea37a00>"}},{"id":4975,"event":"call","thread_id":9960,"defined_class":"ERB","method_id":"result","path":"/usr/local/lib/ruby/3.2.0/erb.rb","lineno":425,"static":false,"parameters":[{"name":"b","class":"Binding","object_id":247360,"value":"#<Binding:0x00007f5e11a7d048>","kind":"opt"}],"receiver":{"class":"ERB","object_id":247380,"value":"#<ERB:0x00007f5e0ea37000>"}},{"id":4976,"event":"call","thread_id":9960,"defined_class":"Kernel","method_id":"eval","path":"Kernel.eval","static":true,"parameters":[{"name":"string","class":"String","object_id":247400,"value":"#coding:UTF-8\n_erbout = +''; _erbout.<< \"local function toversion(version)\\n  local _, _, maj, min,  (...1424 more characters)","kind":"req"},{"name":"arg","class":"Array","object_id":247420,"value":"[#<Binding:0x00007f5e11a7d048>, (erb), 0]","kind":"rest","size":3}],"receiver":{"class":"ERB","object_id":247380,"value":"#<ERB:0x00007f5e0ea37000>"}},{"id":4977,"event":"return","thread_id":9960,"parent_id":4976,"elapsed":0.00025679200189188123,"elapsed_instrumentation":0.00017082004342228174,"return_value":{"class":"String","value":"local function toversion(version)\n  local _, _, maj, min, pat = string.find(version, \"(%d+)%.(%d+)%. (...1246 more characters)","object_id":247440}},{"id":4978,"event":"return","thread_id":9960,"parent_id":4975,"elapsed":0.0004566619754768908,"elapsed_instrumentation":0.00016460003098472953,"return_value":{"class":"String","value":"local function toversion(version)\n  local _, _, maj, min, pat = string.find(version, \"(%d+)%.(%d+)%. (...1246 more characters)","object_id":247440}},{"id":4979,"event":"return","thread_id":9960,"parent_id":4974,"elapsed":0.004598116036504507,"elapsed_instrumentation":0.0001444200170226395,"return_value":{"class":"String","value":"-------- BEGIN keys ---------\nlocal digest    = KEYS[1]\nlocal queued    = KEYS[2]\nlocal primed    =  (...3897 more characters)","object_id":247460}},{"id":4980,"event":"return","thread_id":9960,"parent_id":4973,"elapsed":0.004770205006934702,"elapsed_instrumentation":0.00022006395738571882,"return_value":{"class":"String","value":"-------- BEGIN keys ---------\nlocal digest    = KEYS[1]\nlocal queued    = KEYS[2]\nlocal primed    =  (...3897 more characters)","object_id":247460}},{"id":4981,"event":"call","thread_id":9960,"defined_class":"ERB","method_id":"result","path":"/usr/local/lib/ruby/3.2.0/erb.rb","lineno":425,"static":false,"parameters":[{"name":"b","class":"Binding","object_id":247480,"value":"#<Binding:0x00007f5e11a76d60>","kind":"opt"}],"receiver":{"class":"ERB","object_id":247500,"value":"#<ERB:0x00007f5e0ea36510>"}},{"id":4982,"event":"call","thread_id":9960,"defined_class":"Kernel","method_id":"eval","path":"Kernel.eval","static":true,"parameters":[{"name":"string","class":"String","object_id":247520,"value":"#coding:UTF-8\n_erbout = +''; _erbout.<< \"-------- BEGIN keys ---------\\nlocal digest           = KEY (...3023 more characters)","kind":"req"},{"name":"arg","class":"Array","object_id":247540,"value":"[#<Binding:0x00007f5e11a76d60>, (erb), 0]","kind":"rest","size":3}],"receiver":{"class":"ERB","object_id":247500,"value":"#<ERB:0x00007f5e0ea36510>"}},{"id":4983,"event":"call","thread_id":9960,"defined_class":"ERB","method_id":"result","path":"/usr/local/lib/ruby/3.2.0/erb.rb","lineno":425,"static":false,"parameters":[{"name":"b","class":"Binding","object_id":247560,"value":"#<Binding:0x00007f5e11a72530>","kind":"opt"}],"receiver":{"class":"ERB","object_id":247580,"value":"#<ERB:0x00007f5e0ea35b60>"}},{"id":4984,"event":"call","thread_id":9960,"defined_class":"Kernel","method_id":"eval","path":"Kernel.eval","static":true,"parameters":[{"name":"string","class":"String","object_id":247600,"value":"#coding:UTF-8\n_erbout = +''; _erbout.<< \"local function toversion(version)\\n  local _, _, maj, min,  (...1424 more characters)","kind":"req"},{"name":"arg","class":"Array","object_id":247620,"value":"[#<Binding:0x00007f5e11a72530>, (erb), 0]","kind":"rest","size":3}],"receiver":{"class":"ERB","object_id":247580,"value":"#<ERB:0x00007f5e0ea35b60>"}},{"id":4985,"event":"return","thread_id":9960,"parent_id":4984,"elapsed":0.0006340779946185648,"elapsed_instrumentation":0.00017089600441977382,"return_value":{"class":"String","value":"local function toversion(version)\n  local _, _, maj, min, pat = string.find(version, \"(%d+)%.(%d+)%. (...1246 more characters)","object_id":247640}},{"id":4986,"event":"return","thread_id":9960,"parent_id":4983,"elapsed":0.0008355859899893403,"elapsed_instrumentation":0.0001628079917281866,"return_value":{"class":"String","value":"local function toversion(version)\n  local _, _, maj, min, pat = string.find(version, \"(%d+)%.(%d+)%. (...1246 more characters)","object_id":247640}},{"id":4987,"event":"return","thread_id":9960,"parent_id":4982,"elapsed":0.004862667003180832,"elapsed_instrumentation":0.00017849996220320463,"return_value":{"class":"String","value":"-------- BEGIN keys ---------\nlocal digest           = KEYS[1]\nlocal queued           = KEYS[2]\nloca (...3950 more characters)","object_id":247660}},{"id":4988,"event":"return","thread_id":9960,"parent_id":4981,"elapsed":0.005074275017250329,"elapsed_instrumentation":0.00040220399387180805,"return_value":{"class":"String","value":"-------- BEGIN keys ---------\nlocal digest           = KEYS[1]\nlocal queued           = KEYS[2]\nloca (...3950 more characters)","object_id":247660}},{"id":4989,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Array","object_id":247680,"value":"[111362557232827671, {hashtag=>true, request_id=>1699257770-user1@foo.test}]","kind":"req","size":2}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":247700,"value":"#<JSON::Ext::Generator::State:0x00007f5e11a2e628>"}},{"id":4990,"event":"return","thread_id":9960,"parent_id":4989,"elapsed":1.454498851671815e-05,"elapsed_instrumentation":0.00033834396163001657,"return_value":{"class":"String","value":"[111362557232827671,{\"hashtag\":true,\"request_id\":\"1699257770-user1@foo.test\"}]","object_id":247720}},{"id":4991,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":247740,"value":"#<JSON::Ext::Parser:0x00007f5e11a2c760>"}},{"id":4992,"event":"return","thread_id":9960,"parent_id":4991,"elapsed":1.9152008462697268e-05,"elapsed_instrumentation":0.00023213698295876384,"return_value":{"class":"Array","value":"[111362557232827671, {hashtag=>true, request_id=>1699257770-user1@foo.test}]","object_id":247760,"size":2}},{"id":4993,"event":"call","thread_id":9960,"defined_class":"String","method_id":"unpack1","path":"<internal:pack>","lineno":28,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":192860,"value":"H*","kind":"req"},{"name":"offset","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"String","object_id":247780,"value":"q\u001c__x\u001dfE__G_"}},{"id":4994,"event":"return","thread_id":9960,"parent_id":4993,"elapsed":4.930014256387949e-06,"elapsed_instrumentation":0.0001350629609078169,"return_value":{"class":"String","value":"711cf9b6781d664581e947c0","object_id":247800}},{"id":4995,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Generator::State","method_id":"generate","path":"JSON::Ext::Generator::State#generate","static":false,"parameters":[{"name":"arg","class":"Hash","object_id":247820,"value":"{retry=>true, queue=>pull, lock=>:until_executed, lock_ttl=>86400, args=>[111362557232827671, {hashtag=>true, request_id=>1699257770-user1@foo.test}], class=>ActivityPub::SynchronizeFeaturedCollectionWorker, jid=>8346bc872afb0623fbf8494b, created_at=>1699257770.5513606, lock_timeout=>0, lock_prefix=>uniquejobs (...3 more entries)}","kind":"req","size":13}],"receiver":{"class":"JSON::Ext::Generator::State","object_id":247840,"value":"#<JSON::Ext::Generator::State:0x00007f5e11a2a348>"}},{"id":4996,"event":"return","thread_id":9960,"parent_id":4995,"elapsed":3.030605148524046e-05,"elapsed_instrumentation":0.0006676579941995442,"return_value":{"class":"String","value":"{\"retry\":true,\"queue\":\"pull\",\"lock\":\"until_executed\",\"lock_ttl\":86400,\"args\":[111362557232827671,{\"h (...407 more characters)","object_id":247860}},{"id":4997,"event":"call","thread_id":9960,"defined_class":"JSON::Ext::Parser","method_id":"parse","path":"JSON::Ext::Parser#parse","static":false,"parameters":[],"receiver":{"class":"JSON::Ext::Parser","object_id":247880,"value":"#<JSON::Ext::Parser:0x00007f5e11a27648>"}},{"id":4998,"event":"return","thread_id":9960,"parent_id":4997,"elapsed":3.707397263497114e-05,"elapsed_instrumentation":0.00024034804664552212,"return_value":{"class":"Hash","value":"{retry=>true, queue=>pull, lock=>until_executed, lock_ttl=>86400, args=>[111362557232827671, {hashtag=>true, request_id=>1699257770-user1@foo.test}], class=>ActivityPub::SynchronizeFeaturedCollectionWorker, jid=>8346bc872afb0623fbf8494b, created_at=>1699257770.5513606, lock_timeout=>0, lock_prefix=>uniquejobs (...3 more entries)}","object_id":247900,"size":13}},{"id":4999,"event":"call","thread_id":9960,"defined_class":"ActivityPub::SynchronizeFeaturedCollectionWorker","method_id":"perform","path":"app/workers/activitypub/synchronize_featured_collection_worker.rb","lineno":8,"static":false,"parameters":[{"name":"account_id","class":"Integer","object_id":222725114465655343,"value":"111362557232827671","kind":"req"},{"name":"options","class":"Hash","object_id":247920,"value":"{hashtag=>true, request_id=>1699257770-user1@foo.test}","kind":"opt","size":2}],"receiver":{"class":"ActivityPub::SynchronizeFeaturedCollectionWorker","object_id":247940,"value":"#<ActivityPub::SynchronizeFeaturedCollectionWorker:0x00007f5e11a248f8>"}},{"id":5000,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":5001,"event":"return","thread_id":9960,"parent_id":5000,"elapsed":0.001035794,"elapsed_instrumentation":0.00010525499237701297},{"id":5002,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":247980,"value":"  \u001b[1m\u001b[36mAccount Load (1.2ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accoun (...1364 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5003,"event":"return","thread_id":9960,"parent_id":5002,"elapsed":0.0015211569843813777,"elapsed_instrumentation":0.00021124701015651226,"return_value":{"class":"Integer","value":"1464","object_id":2929}},{"id":5004,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"suspended?","path":"app/models/account.rb","lineno":237,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":248000,"value":"#<Account:0x00007f5e0eb92580>"}},{"id":5005,"event":"return","thread_id":9960,"parent_id":5004,"elapsed":2.5228015147149563e-05,"elapsed_instrumentation":0.00011273694690316916},{"id":5006,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":248000,"value":"#<Account:0x00007f5e0eb92580>"}},{"id":5007,"event":"return","thread_id":9960,"parent_id":5006,"elapsed":1.1391006410121918e-05,"elapsed_instrumentation":6.281898822635412e-05},{"id":5008,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" INNER JOIN \"follows\" ON \"accounts\".\"id\" = \"follows\".\"account_id\" WHERE \"follows\".\"target_account_id\" = $1 AND \"accounts\".\"domain\" IS NULL AND \"accounts\".\"suspended_at\" IS NULL ORDER BY follows.id desc LIMIT $2","database_type":"postgres"}},{"id":5009,"event":"return","thread_id":9960,"parent_id":5008,"elapsed":0.001400695,"elapsed_instrumentation":8.4072002209723e-05},{"id":5010,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":248020,"value":"  \u001b[1m\u001b[36mAccount Load (1.5ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accoun (...1553 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5011,"event":"return","thread_id":9960,"parent_id":5010,"elapsed":0.002691159024834633,"elapsed_instrumentation":0.00017902697436511517,"return_value":{"class":"Integer","value":"1653","object_id":3307}},{"id":5012,"event":"call","thread_id":9960,"defined_class":"JsonLdHelper","method_id":"fetch_resource","path":"app/helpers/jsonld_helper.rb","lineno":158,"static":false,"parameters":[{"name":"uri","class":"String","object_id":248040,"value":"https://foo.test/users/1/featured","kind":"req"},{"name":"id","class":"TrueClass","object_id":20,"value":"true","kind":"req"},{"name":"on_behalf_of","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::FetchFeaturedCollectionService","object_id":248060,"value":"#<ActivityPub::FetchFeaturedCollectionService:0x00007f5e11a3ea00>"}},{"id":5013,"event":"call","thread_id":9960,"defined_class":"JsonLdHelper","method_id":"fetch_resource_without_id_validation","path":"app/helpers/jsonld_helper.rb","lineno":171,"static":false,"parameters":[{"name":"uri","class":"String","object_id":248040,"value":"https://foo.test/users/1/featured","kind":"req"},{"name":"on_behalf_of","class":"NilClass","object_id":4,"value":null,"kind":"opt"},{"name":"raise_on_temporary_error","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"ActivityPub::FetchFeaturedCollectionService","object_id":248060,"value":"#<ActivityPub::FetchFeaturedCollectionService:0x00007f5e11a3ea00>"}},{"id":5014,"event":"call","thread_id":9960,"sql_query":{"sql":"SELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accounts\".\"domain\", \"accounts\".\"private_key\", \"accounts\".\"public_key\", \"accounts\".\"created_at\", \"accounts\".\"updated_at\", \"accounts\".\"note\", \"accounts\".\"display_name\", \"accounts\".\"uri\", \"accounts\".\"url\", \"accounts\".\"avatar_file_name\", \"accounts\".\"avatar_content_type\", \"accounts\".\"avatar_file_size\", \"accounts\".\"avatar_updated_at\", \"accounts\".\"header_file_name\", \"accounts\".\"header_content_type\", \"accounts\".\"header_file_size\", \"accounts\".\"header_updated_at\", \"accounts\".\"avatar_remote_url\", \"accounts\".\"locked\", \"accounts\".\"header_remote_url\", \"accounts\".\"last_webfingered_at\", \"accounts\".\"inbox_url\", \"accounts\".\"outbox_url\", \"accounts\".\"shared_inbox_url\", \"accounts\".\"followers_url\", \"accounts\".\"protocol\", \"accounts\".\"memorial\", \"accounts\".\"moved_to_account_id\", \"accounts\".\"featured_collection_url\", \"accounts\".\"fields\", \"accounts\".\"actor_type\", \"accounts\".\"discoverable\", \"accounts\".\"also_known_as\", \"accounts\".\"silenced_at\", \"accounts\".\"suspended_at\", \"accounts\".\"hide_collections\", \"accounts\".\"avatar_storage_schema_version\", \"accounts\".\"header_storage_schema_version\", \"accounts\".\"devices_url\", \"accounts\".\"suspension_origin\", \"accounts\".\"sensitized_at\", \"accounts\".\"trendable\", \"accounts\".\"reviewed_at\", \"accounts\".\"requested_review_at\", \"accounts\".\"indexable\" FROM \"accounts\" WHERE \"accounts\".\"id\" = $1 LIMIT $2","database_type":"postgres"}},{"id":5015,"event":"return","thread_id":9960,"parent_id":5014,"elapsed":0.000588985,"elapsed_instrumentation":0.00021019898122176528},{"id":5016,"event":"call","thread_id":9960,"defined_class":"Logger::LogDevice","method_id":"write","path":"/usr/local/lib/ruby/3.2.0/logger/log_device.rb","lineno":31,"static":false,"parameters":[{"name":"message","class":"String","object_id":248080,"value":"  \u001b[1m\u001b[36mAccount Load (0.8ms)\u001b[0m  \u001b[1m\u001b[34mSELECT \"accounts\".\"id\", \"accounts\".\"username\", \"accoun (...1349 more characters)","kind":"req"}],"receiver":{"class":"Logger::LogDevice","object_id":14180,"value":"#<Logger::LogDevice:0x00007f5e1ce65ab0>"}},{"id":5017,"event":"return","thread_id":9960,"parent_id":5016,"elapsed":0.001971128978766501,"elapsed_instrumentation":0.00018218695186078548,"return_value":{"class":"Integer","value":"1449","object_id":2899}},{"id":5018,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"ensure_keys!","path":"app/models/account.rb","lineno":478,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":248100,"value":"#<Account:0x00007f5e0eb92440>"}},{"id":5019,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":248100,"value":"#<Account:0x00007f5e0eb92440>"}},{"id":5020,"event":"return","thread_id":9960,"parent_id":5019,"elapsed":1.5757977962493896e-05,"elapsed_instrumentation":8.071499178186059e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5021,"event":"return","thread_id":9960,"parent_id":5018,"elapsed":0.00013031100388616323,"elapsed_instrumentation":0.00010281696449965239},{"id":5022,"event":"call","thread_id":9960,"defined_class":"JsonLdHelper","method_id":"build_request","path":"app/helpers/jsonld_helper.rb","lineno":207,"static":false,"parameters":[{"name":"uri","class":"String","object_id":248040,"value":"https://foo.test/users/1/featured","kind":"req"},{"name":"on_behalf_of","class":"Account","object_id":248100,"value":"#<Account:0x00007f5e0eb92440>","kind":"opt"}],"receiver":{"class":"ActivityPub::FetchFeaturedCollectionService","object_id":248060,"value":"#<ActivityPub::FetchFeaturedCollectionService:0x00007f5e11a3ea00>"}},{"id":5023,"event":"call","thread_id":9960,"defined_class":"Mastodon::Version","method_id":"user_agent","path":"lib/mastodon/version.rb","lineno":67,"static":true,"parameters":[],"receiver":{"class":"Module","object_id":172680,"value":"4.3.0-alpha.0"}},{"id":5024,"event":"return","thread_id":9960,"parent_id":5023,"elapsed":2.69903102889657e-06,"elapsed_instrumentation":0.00016844598576426506,"return_value":{"class":"String","value":"http.rb/5.1.1 (Mastodon/4.3.0-alpha.0; +https://cb6e6126.ngrok.io/)","object_id":172740}},{"id":5025,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"on_behalf_of","path":"app/lib/request.rb","lineno":91,"static":false,"parameters":[{"name":"actor","class":"Account","object_id":248100,"value":"#<Account:0x00007f5e0eb92440>","kind":"req"},{"name":"sign_with","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Request","object_id":248120,"value":"#<Request:0x00007f5e0ea6f658>"}},{"id":5026,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"keypair","path":"app/models/account.rb","lineno":293,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":248100,"value":"#<Account:0x00007f5e0eb92440>"}},{"id":5027,"event":"return","thread_id":9960,"parent_id":5026,"elapsed":0.00012962397886440158,"elapsed_instrumentation":0.00011997303226962686,"return_value":{"class":"OpenSSL::PKey::RSA","value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEAwOoRZ/kKHE6l6rFVXMcYXjVHGdSO42IN8MpouM+PkpAAieMD\nz6t","object_id":248140}},{"id":5028,"event":"return","thread_id":9960,"parent_id":5025,"elapsed":0.00027231703279539943,"elapsed_instrumentation":0.00012355903163552284,"return_value":{"class":"Request","value":"#<Request:0x00007f5e0ea6f658>","object_id":248120}},{"id":5029,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"add_headers","path":"app/lib/request.rb","lineno":100,"static":false,"parameters":[{"name":"new_headers","class":"Hash","object_id":248160,"value":"{Accept=>application/activity+json, application/ld+json}","kind":"req","size":1}],"receiver":{"class":"Request","object_id":248120,"value":"#<Request:0x00007f5e0ea6f658>"}},{"id":5030,"event":"return","thread_id":9960,"parent_id":5029,"elapsed":4.344969056546688e-06,"elapsed_instrumentation":0.00011349102715030313,"return_value":{"class":"Request","value":"#<Request:0x00007f5e0ea6f658>","object_id":248120}},{"id":5031,"event":"return","thread_id":9960,"parent_id":5022,"elapsed":0.001469917013309896,"elapsed_instrumentation":0.00018875498790293932,"return_value":{"class":"Request","value":"#<Request:0x00007f5e0ea6f658>","object_id":248120}},{"id":5032,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"perform","path":"app/lib/request.rb","lineno":105,"static":false,"parameters":[],"receiver":{"class":"Request","object_id":248120,"value":"#<Request:0x00007f5e0ea6f658>"}},{"id":5033,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"http_client","path":"app/lib/request.rb","lineno":141,"static":true,"parameters":[],"receiver":{"class":"Class","object_id":33060,"value":"Request"}},{"id":5034,"event":"return","thread_id":9960,"parent_id":5033,"elapsed":6.368698086589575e-05,"elapsed_instrumentation":7.836800068616867e-05,"return_value":{"class":"HTTP::Client","value":"#<HTTP::Client:0x00007f5e119d6fe0>","object_id":248180}},{"id":5035,"event":"call","thread_id":9960,"defined_class":"Request","method_id":"headers","path":"app/lib/request.rb","lineno":126,"static":false,"parameters":[],"receiver":{"class":"Request","object_id":248120,"value":"#<Request:0x00007f5e0ea6f658>"}},{"id":5036,"event":"call","thread_id":9960,"defined_class":"OpenSSL::PKey::PKey","method_id":"sign","path":"OpenSSL::PKey::PKey#sign","static":false,"parameters":[{"name":"arg","class":"Array","object_id":248200,"value":"[e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855, (request-target): get /users/1/featured\nhost: foo.test\ndate: Mon, 06 Nov 2023 08:02:50 GMT\naccept: a (...45 more characters)]","kind":"rest","size":2}],"receiver":{"class":"OpenSSL::PKey::RSA","object_id":248140,"value":"-----BEGIN RSA PRIVATE KEY-----\nMIIEowIBAAKCAQEAwOoRZ/kKHE6l6rFVXMcYXjVHGdSO42IN8MpouM+PkpAAieMD\nz6t"}},{"id":5037,"event":"return","thread_id":9960,"parent_id":5036,"elapsed":0.0017172869993373752,"elapsed_instrumentation":0.00020536803640425205,"return_value":{"class":"String","value":"_#\u0000O____t____m_H__{_8\u0011_\u0012_____62\u000e__Bs_\u0002\rBfe0__@*_}__\u000eHCT*7_R____B72_+_/_\\\u0002___F\u000b2_____C_Km_%G_C____6_ (...156 more characters)","object_id":248220}},{"id":5038,"event":"call","thread_id":9960,"defined_class":"Array","method_id":"pack","path":"<internal:pack>","lineno":7,"static":false,"parameters":[{"name":"fmt","class":"String","object_id":207640,"value":"m0","kind":"req"},{"name":"buffer","class":"NilClass","object_id":4,"value":null,"kind":"key"}],"receiver":{"class":"Array","object_id":248240,"value":"[_#\u0000O____t____m_H__{_8\u0011_\u0012_____62\u000e__Bs_\u0002\rBfe0__@*_}__\u000eHCT*7_R____B72_+_/_\\\u0002___F\u000b2_____C_Km_%G_C____6_ (...156 more characters)]"}},{"id":5039,"event":"return","thread_id":9960,"parent_id":5038,"elapsed":6.67001586407423e-06,"elapsed_instrumentation":0.00012647098628804088,"return_value":{"class":"String","value":"rSMAT6jP6oN09Zzp7G35SIyve7c4EewS0/6hn/k2Mg7FqEJz6gINQmZlMI+oQCrAfcO4DkhDVCo30FLFo5WGQjcy1St/vi+wXAKd (...244 more characters)","object_id":248260}},{"id":5040,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"key_uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":53,"static":false,"parameters":[{"name":"target","class":"Account","object_id":248100,"value":"#<Account:0x00007f5e0eb92440>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":5041,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"uri_for","path":"app/lib/activitypub/tag_manager.rb","lineno":36,"static":false,"parameters":[{"name":"target","class":"Account","object_id":248100,"value":"#<Account:0x00007f5e0eb92440>","kind":"req"}],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":5042,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"local?","path":"app/models/account.rb","lineno":163,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":248100,"value":"#<Account:0x00007f5e0eb92440>"}},{"id":5043,"event":"return","thread_id":9960,"parent_id":5042,"elapsed":7.177004590630531e-06,"elapsed_instrumentation":6.908702198415995e-05,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5044,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"object_type","path":"app/models/account.rb","lineno":385,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":248100,"value":"#<Account:0x00007f5e0eb92440>"}},{"id":5045,"event":"return","thread_id":9960,"parent_id":5044,"elapsed":3.1800009310245514e-06,"elapsed_instrumentation":6.602000212296844e-05,"return_value":{"class":"Symbol","value":":person","object_id":20695068}},{"id":5046,"event":"call","thread_id":9960,"defined_class":"Account","method_id":"instance_actor?","path":"app/models/account.rb","lineno":175,"static":false,"parameters":[],"receiver":{"class":"Account","object_id":248100,"value":"#<Account:0x00007f5e0eb92440>"}},{"id":5047,"event":"return","thread_id":9960,"parent_id":5046,"elapsed":1.438602339476347e-05,"elapsed_instrumentation":0.000167206977494061,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5048,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":5049,"event":"return","thread_id":9960,"parent_id":5048,"elapsed":4.9969530664384365e-06,"elapsed_instrumentation":0.00013457704335451126,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":5050,"event":"call","thread_id":9960,"defined_class":"ActivityPub::TagManager","method_id":"default_url_options","path":"app/helpers/routing_helper.rb","lineno":12,"static":false,"parameters":[],"receiver":{"class":"ActivityPub::TagManager","object_id":193920,"value":"#<ActivityPub::TagManager:0x00007f5e11ea4978>"}},{"id":5051,"event":"return","thread_id":9960,"parent_id":5050,"elapsed":2.964981831610203e-06,"elapsed_instrumentation":9.702402167022228e-05,"return_value":{"class":"Hash","value":"{:host=>cb6e6126.ngrok.io, :protocol=>https://, :trailing_slash=>false}","object_id":193940,"size":3}},{"id":5052,"event":"return","thread_id":9960,"parent_id":5041,"elapsed":0.0008210800006054342,"elapsed_instrumentation":8.699501631781459e-05,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/actor","object_id":248280}},{"id":5053,"event":"return","thread_id":9960,"parent_id":5040,"elapsed":0.0009377319947816432,"elapsed_instrumentation":0.00010518799535930157,"return_value":{"class":"String","value":"https://cb6e6126.ngrok.io/actor#main-key","object_id":248300}},{"id":5054,"event":"return","thread_id":9960,"parent_id":5035,"elapsed":0.0032146369921974838,"elapsed_instrumentation":0.00013984099496155977,"return_value":{"class":"Hash","value":"{User-Agent=>http.rb/5.1.1 (Mastodon/4.3.0-alpha.0; +https://cb6e6126.ngrok.io/), Host=>foo.test, Date=>Mon, 06 Nov 2023 08:02:50 GMT, Accept-Encoding=>gzip, Accept=>application/activity+json, application/ld+json, Signature=>keyId=\"https://cb6e6126.ngrok.io/actor#main-key\",algorithm=\"rsa-sha256\",headers=\"(request-target) ho (...372 more characters)}","object_id":248320,"size":6}},{"id":5055,"event":"call","thread_id":9960,"defined_class":"JsonLdHelper","method_id":"response_successful?","path":"app/helpers/jsonld_helper.rb","lineno":199,"static":false,"parameters":[{"name":"response","class":"HTTP::Response","object_id":248380,"value":"{\"@context\":[\"https://www.w3.org/ns/activitystreams\"],\"id\":\"https://foo.test/users/1/featured\",\"type","kind":"req"}],"receiver":{"class":"ActivityPub::FetchFeaturedCollectionService","object_id":248060,"value":"#<ActivityPub::FetchFeaturedCollectionService:0x00007f5e11a3ea00>"}},{"id":5056,"event":"return","thread_id":9960,"parent_id":5055,"elapsed":1.3211974874138832e-05,"elapsed_instrumentation":0.00028038700111210346,"return_value":{"class":"TrueClass","value":"true","object_id":20}},{"id":5057,"event":"call","thread_id":9960,"defined_class":"Request::ClientLimit","method_id":"body_with_limit","path":"app/lib/request.rb","lineno":227,"static":false,"parameters":[{"name":"limit","class":"NilClass","object_id":4,"value":null,"kind":"opt"}],"receiver":{"class":"HTTP::Response","object_id":248380,"value":"{\"@context\":[\"https://www.w3.org/ns/activitystreams\"],\"id\":\"https://foo.test/users/1/featured\",\"type"}},{"id":5058,"event":"call","thread_id":9960,"defined_class":"Request::ClientLimit","method_id":"truncated_body","path":"app/lib/request.rb","lineno":204,"static":false,"parameters":[{"name":"limit","class":"Integer","object_id":2097153,"value":"1048576","kind":"opt"}],"receiver":{"class":"HTTP::Response","object_id":248380,"value":"{\"@context\":[\"https://www.w3.org/ns/activitystreams\"],\"id\":\"https://foo.test/users/1/featured\",\"type"}},{"id":5059,"event":"return","thread_id":9960,"parent_id":5058,"elapsed":0.0002939779660664499,"elapsed_instrumentation":0.0003425390459597111,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":248400,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":5060,"event":"return","thread_id":9960,"parent_id":5057,"elapsed":0.0010152719914913177,"elapsed_instrumentation":0.00013325794134289026,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":248400,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":5061,"event":"return","thread_id":9960,"parent_id":5032,"elapsed":0.013810460979584605,"elapsed_instrumentation":7.456302409991622e-05,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":248400,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":5062,"event":"return","thread_id":9960,"parent_id":5013,"elapsed":0.02017256896942854,"elapsed_instrumentation":0.00019337801495566964,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":248400,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":5063,"event":"return","thread_id":9960,"parent_id":5012,"elapsed":0.02041106700198725,"elapsed_instrumentation":0.00019353098468855023,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":248400,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]},{"id":5064,"event":"return","thread_id":9960,"parent_id":4999,"elapsed":0.042397521960083395,"elapsed_instrumentation":0.0002106770407408476,"exceptions":[{"class":"HTTP::StateError","message":"body has already been consumed","object_id":248400,"path":"/workspaces/mastodon/vendor/bundle/ruby/3.2.0/gems/http-5.1.1/lib/http/response/body.rb","lineno":67}]}]}